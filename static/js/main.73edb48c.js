/*! For license information please see main.73edb48c.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return D(e(t))}catch(qa){}}return null}var I,x,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign;function A(e){if(void 0===I)try{throw Error()}catch(qa){var t=qa.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||"",x=-1<qa.stack.indexOf("\n    at")?" (<anonymous>)":-1<qa.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+I+e+x}var R=!1;function M(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(qa){var r=qa}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{R=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?A(n):""}function O(e){switch(e.tag){case 26:case 27:case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=O(e),e=e.return}while(e);return t}catch(qa){return"\nError generating stack: "+qa.message+"\n"+qa.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function j(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(F(e)!==e)throw Error(o(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var z=Array.isArray,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},$=[],q=-1;function W(e){return{current:e}}function Y(e){0>q||(e.current=$[q],$[q]=null,q--)}function K(e,t){q++,$[q]=e.current,e.current=t}var Q=W(null),G=W(null),X=W(null),J=W(null);function Z(e,t){switch(K(X,t),K(G,e),K(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ju(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(Q),K(Q,t)}function ee(){Y(Q),Y(G),Y(X)}function te(e){null!==e.memoizedState&&K(J,e);var t=Q.current,n=Ju(t,e.type);t!==n&&(K(G,e),K(Q,n))}function ne(e){G.current===e&&(Y(Q),Y(G)),J.current===e&&(Y(J),Fd._currentValue=B)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function we(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ke(e)/Se|0)|0},ke=Math.log,Se=Math.LN2;var Ee=128,_e=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?r=Te(n):0!==(a&=s)?r=Te(a):e||0!==(o=s&~o)&&(r=Te(o)):0!==(s=n&~i)?r=Te(s):0!==a?r=Te(a):e||0!==(o=n&~o)&&(r=Te(o)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||32===i&&0!==(4194176&o))?t:r}function De(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=Ee;return 0===(4194176&(Ee<<=1))&&(Ee=128),e}function Ne(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:Jd(e.type)}var Fe=Math.random().toString(36).slice(2),je="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,Ve="__reactContainer$"+Fe,ze="__reactEvents$"+Fe,He="__reactListeners$"+Fe,Be="__reactHandles$"+Fe,$e="__reactResources$"+Fe,qe="__reactMarker$"+Fe;function We(e){delete e[je],delete e[Ue],delete e[ze],delete e[He],delete e[Be]}function Ye(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cd(e);null!==e;){if(n=e[je])return n;e=cd(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[je]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ge(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[qe]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},at={};function ot(e,t,n){if(i=t,re.call(at,i)||!re.call(it,i)&&(rt.test(i)?at[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ct(t)):null!=n?yt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(z(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Rt=null;function Mt(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==At||null!==Rt)&&(Uc(),At&&(t=At,e=Rt,Rt=At=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var jt=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Sh){jt=!1}var Vt=null,zt=null,Ht=null;function Bt(){if(Ht)return Ht;var e,t,n=zt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Wt(){return!1}function Yt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Wt,this.isPropagationStopped=Wt,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Kt,Qt,Gt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Yt(Xt),Zt=P({},Xt,{view:0,detail:0}),en=Yt(Zt),tn=P({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gt&&(Gt&&"mousemove"===e.type?(Kt=e.screenX-Gt.screenX,Qt=e.screenY-Gt.screenY):Qt=Kt=0,Gt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Yt(tn),rn=Yt(P({},tn,{dataTransfer:0})),an=Yt(P({},Zt,{relatedTarget:0})),on=Yt(P({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Yt(P({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Yt(P({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Yt(P({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Yt(P({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Yt(P({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Yt(P({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Yt(P({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Yt(P({},Xt,{newState:0,oldState:0})),bn=[9,13,27,32],kn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var En=nt&&"TextEvent"in window&&!Sn,_n=nt&&(!kn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Cn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var xn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function An(e,t,n,r){At?Rt?Rt.push(r):Rt=[r]:At=r,0<(t=Fu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Mn=null;function On(e){xu(e,0)}function Ln(e){if(ht(Qe(e)))return e}function Fn(e,t){if("change"===e)return t}var jn=!1;if(nt){var Un;if(nt){var Vn="oninput"in document;if(!Vn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Vn="function"===typeof zn.oninput}Un=Vn}else Un=!1;jn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Rn&&(Rn.detachEvent("onpropertychange",Bn),Mn=Rn=null)}function Bn(e){if("value"===e.propertyName&&Ln(Mn)){var t=[];An(t,Mn,e,Pt(e)),Lt(On,t)}}function $n(e,t,n){"focusin"===e?(Hn(),Mn=n,(Rn=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Mn)}function Wn(e,t){if("click"===e)return Ln(t)}function Yn(e,t){if("input"===e||"change"===e)return Ln(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!n.extend&&a>r&&(i=r,r=a,a=i),i=Xn(t,a);var o=Xn(t,r);i&&o&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Qn(ar,r)||(ar=r,0<(r=Fu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),wr=hr("transitionend"),br=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){br.set(e,t),et(t,[e])}var Er=[],_r=0,Tr=0;function Cr(){for(var e=_r,t=Tr=_r=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var a=Er[t];if(Er[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Nr(n,i,a)}}function Dr(e,t,n,r){Er[_r++]=e,Er[_r++]=t,Er[_r++]=n,Er[_r++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Dr(e,t,n,r),Pr(e)}function xr(e,t){return Dr(e,null,null,t),Pr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;i&&null!==t&&3===e.tag&&(a=e.stateNode,i=31-be(n),null===(e=(a=a.hiddenUpdates)[i])?a[i]=[t]:e.push(t),t.lane=536870912|n)}function Pr(e){if(50<xc)throw xc=0,Nc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={},Rr=new WeakMap;function Mr(e,t){if("object"===typeof e&&null!==e){var n=Rr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},Rr.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Or=[],Lr=0,Fr=null,jr=0,Ur=[],Vr=0,zr=null,Hr=1,Br="";function $r(e,t){Or[Lr++]=jr,Or[Lr++]=Fr,Fr=e,jr=t}function qr(e,t,n){Ur[Vr++]=Hr,Ur[Vr++]=Br,Ur[Vr++]=zr,zr=e;var r=Hr;e=Br;var i=32-be(r)-1;r&=~(1<<i),n+=1;var a=32-be(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hr=1<<32-be(t)+i|n<<i|r,Br=a+e}else Hr=1<<a|n<<i|r,Br=e}function Wr(e){null!==e.return&&($r(e,1),qr(e,1,0))}function Yr(e){for(;e===Fr;)Fr=Or[--Lr],Or[Lr]=null,jr=Or[--Lr],Or[Lr]=null;for(;e===zr;)zr=Ur[--Vr],Ur[Vr]=null,Br=Ur[--Vr],Ur[Vr]=null,Hr=Ur[--Vr],Ur[Vr]=null}var Kr=null,Qr=null,Gr=!1,Xr=null,Jr=!1,Zr=Error(o(519));function ei(e){throw ai(Mr(Error(o(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Ue]=r,n){case"dialog":Nu("cancel",t),Nu("close",t);break;case"iframe":case"object":case"embed":Nu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Nu(Du[n],t);break;case"source":Nu("error",t);break;case"img":case"image":case"link":Nu("error",t),Nu("load",t);break;case"details":Nu("toggle",t);break;case"input":Nu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Nu("invalid",t);break;case"textarea":Nu("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bu(t.textContent,n)?(null!=r.popover&&(Nu("beforetoggle",t),Nu("toggle",t)),null!=r.onScroll&&Nu("scroll",t),null!=r.onScrollEnd&&Nu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ei(e)}function ni(e){for(Kr=e.return;Kr;)switch(Kr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Kr=Kr.return}}function ri(e){if(e!==Kr)return!1;if(!Gr)return ni(e),Gr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=ld(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Kr?ld(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Kr=null,Gr=!1}function ai(e){null===Xr?Xr=[e]:Xr.push(e)}var oi=Error(o(460)),si=Error(o(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oi)throw Error(o(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oi)throw Error(o(483));throw e}throw hi=t,oi}}var hi=null;function fi(){if(null===hi)throw Error(o(459));var e=hi;return hi=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===k&&wi(a)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Vl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=zl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Vl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=$l(t,e.mode,n)).return=e,t;case k:return m(e,t=(0,t._init)(t._payload),n)}if(z(t)||T(t))return(t=zl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Ds(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case k:return v(e,t,n=(i=n._init)(n._payload),r)}if(z(n)||T(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,Ds(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(z(r)||T(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,Ds(t,r),i);yi(t,r)}return null}function w(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var b=f.key;null!==h;){if(h.key===b){if((b=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===k&&wi(b)===h.type){n(l,h.sibling),vi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=zl(f.props.children,l.mode,p,f.key)).return=l,l=p):(vi(p=Vl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return s(l);case u:e:{for(b=f.key;null!==h;){if(h.key===b){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=$l(f,l.mode,p)).return=l,l=p}return s(l);case k:return w(l,h,f=(b=f._init)(f._payload),p)}if(z(f))return function(i,o,s,l){for(var c=null,u=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(i,d),Gr&&$r(i,h),c;if(null===d){for(;h<s.length;h++)null!==(d=m(i,s[h],l))&&(o=a(d,o,h),null===u?c=d:u.sibling=d,u=d);return Gr&&$r(i,h),c}for(d=r(d);h<s.length;h++)null!==(f=y(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=a(f,o,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Gr&&$r(i,h),c}(l,h,f,p);if(T(f)){if("function"!==typeof(b=T(f)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,h=s,f=s=0,p=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var w=v(i,h,g.value,c);if(null===w){null===h&&(h=p);break}e&&h&&null===w.alternate&&t(i,h),s=a(w,s,f),null===d?u=w:d.sibling=w,d=w,h=p}if(g.done)return n(i,h),Gr&&$r(i,f),u;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(s=a(g,s,f),null===d?u=g:d.sibling=g,d=g);return Gr&&$r(i,f),u}for(h=r(h);!g.done;f++,g=l.next())null!==(g=y(h,i,f,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),s=a(g,s,f),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Gr&&$r(i,f),u}(l,h,f=b.call(f),p)}if("function"===typeof f.then)return w(l,h,gi(f),p);if(f.$$typeof===g)return w(l,h,Ds(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=Bl(f,l.mode,p)).return=l,l=p),s(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=w(e,t,n,r);return pi=null,i}catch(qa){if(qa===oi)throw qa;var a=Ll(29,qa,null,e.mode);return a.lanes=r,a.return=e,a}}}var ki=bi(!0),Si=bi(!1),Ei=W(null),_i=W(0);function Ti(e,t){K(_i,e=uc),K(Ei,t),uc=e|t.baseLanes}function Ci(){K(_i,uc),K(Ei,Ei.current)}function Di(){uc=_i.current,Y(Ei),Y(_i)}var Ii=W(null),xi=null;function Ni(e){var t=e.alternate;K(Mi,1&Mi.current),K(Ii,e),null===xi&&(null===t||null!==Ei.current||null!==t.memoizedState)&&(xi=e)}function Pi(e){if(22===e.tag){if(K(Mi,Mi.current),K(Ii,e),null===xi){var t=e.alternate;null!==t&&null!==t.memoizedState&&(xi=e)}}else Ai()}function Ai(){K(Mi,Mi.current),K(Ii,Ii.current)}function Ri(e){Y(Ii),xi===e&&(xi=null),Y(Mi)}var Mi=W(0);function Oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,ji=r.unstable_NormalPriority,Ui={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Fi(ji,(function(){e.controller.abort()}))}var Hi=null,Bi=0,$i=0,qi=null;function Wi(){if(0===--Bi&&null!==Hi){null!==qi&&(qi.status="fulfilled");var e=Hi;Hi=null,$i=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yi=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hi){var n=Hi=[];Bi=0,$i=Su(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Wi,Wi)}(0,t),null!==Yi&&Yi(e,t)};var Ki=W(null);function Qi(){var e=Ki.current;return null!==e?e:nc.pooledCache}function Gi(e,t){K(Ki,null===t?Ki.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Ji=0,Zi=null,ea=null,ta=null,na=!1,ra=!1,ia=!1,aa=0,oa=0,sa=null,la=0;function ca(){throw Error(o(321))}function ua(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function da(e,t,n,r,i,a){return Ji=a,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Do:Io,ia=!1,a=n(r,i),ia=!1,ra&&(a=fa(t,n,r,i)),ha(e),a}function ha(e){N.H=Co;var t=null!==ea&&null!==ea.next;if(Ji=0,ta=ea=Zi=null,na=!1,oa=0,sa=null,t)throw Error(o(300));null===e||qo||null!==(e=e.dependencies)&&_s(e)&&(qo=!0)}function fa(e,t,n,r){Zi=e;var i=0;do{if(ra&&(sa=null),oa=0,ra=!1,25<=i)throw Error(o(301));if(i+=1,ta=ea=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}N.H=xo,a=t(n,r)}while(ra);return a}function pa(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?ba(t):t,e=e.useState()[0],(null!==ea?ea.memoizedState:null)!==e&&(Zi.flags|=1024),t}function ma(){var e=0!==aa;return aa=0,e}function ga(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function va(e){if(na){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}na=!1}Ji=0,ta=ea=Zi=null,ra=!1,oa=aa=0,sa=null}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zi.memoizedState=ta=e:ta=ta.next=e,ta}function wa(){if(null===ea){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zi.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e){if(null===Zi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zi.memoizedState=ta=e:ta=ta.next=e}return ta}function ba(e){var t=oa;return oa+=1,null===sa&&(sa=[]),e=di(sa,e,t),t=Zi,null===(null===ta?t.memoizedState:ta.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Do:Io),e}function ka(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ba(e);if(e.$$typeof===g)return Cs(e)}throw Error(o(438,String(e)))}function Sa(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Ea(e,t){return"function"===typeof t?t(e):t}function _a(e){return Ta(wa(),ea,e)}function Ta(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(Ji&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$i&&(d=!0);else{if((Ji&f)===f){u=u.next,f===$i&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Zi.lanes|=f,hc|=f}h=u.action,ia&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,Zi.lanes|=h,hc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Kn(a,e.memoizedState)&&(qo=!0,d&&null!==(n=qi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ca(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Kn(a,t.memoizedState)||(qo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(e,t,n){var r=Zi,i=wa(),a=Gr;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Kn((ea||i).memoizedState,n);if(s&&(i.memoizedState=n,qo=!0),i=i.queue,Za(Na.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==ta&&1&ta.memoizedState.tag){if(r.flags|=2048,Ka(9,xa.bind(null,r,i,n,t),{destroy:void 0},null),null===nc)throw Error(o(349));a||0!==(60&Ji)||Ia(r,t,n)}return n}function Ia(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Aa(e)}function Na(e,t,n){return n((function(){Pa(t)&&Aa(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(r){return!0}}function Aa(e){var t=xr(e,2);null!==t&&Rc(t,e,2)}function Ra(e){var t=ya();if("function"===typeof e){var n=e;if(e=n(),ia){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function Ma(e,t,n,r){return e.baseState=n,Ta(e,ea,"function"===typeof r?r:Ea)}function Oa(e,t,n,r,i){if(Eo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==N.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,La(t,a)):(a.next=n.next,t.pending=n.next=a)}}function La(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=N.T,o={};N.T=o;try{var s=n(i,r),l=N.S;null!==l&&l(o,s),Fa(e,t,s)}catch(c){Ua(e,t,c)}finally{N.T=a}}else try{Fa(e,t,a=n(i,r))}catch(u){Ua(e,t,u)}}function Fa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ja(e,t,n)}),(function(n){return Ua(e,t,n)})):ja(e,t,n)}function ja(e,t,n){t.status="fulfilled",t.value=n,Va(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,La(e,n)))}function Ua(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Va(t),t=t.next}while(t!==r)}e.action=null}function Va(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function za(e,t){return t}function Ha(e,t){if(Gr){var n=nc.formState;if(null!==n){e:{var r=Zi;if(Gr){if(Qr){t:{for(var i=Qr,a=Jr;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=ld(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){Qr=ld(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=ya()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},n.queue=r,n=bo.bind(null,Zi,r),r.dispatch=n,r=Ra(!1),a=So.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ya()).queue=i,n=Oa.bind(null,Zi,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ba(e){return $a(wa(),ea,e)}function $a(e,t,n){t=Ta(e,t,za)[0],e=_a(Ea)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ba(t):t;var r=wa(),i=r.queue,a=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Ka(9,Wa.bind(null,i,n),{destroy:void 0},null)),[t,a,e]}function Wa(e,t){e.action=t}function Ya(e){var t=wa(),n=ea;if(null!==n)return $a(t,n,e);wa(),t=t.memoizedState;var r=(n=wa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ka(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qa(){return wa().memoizedState}function Ga(e,t,n,r){var i=ya();Zi.flags|=e,i.memoizedState=Ka(1|t,n,{destroy:void 0},void 0===r?null:r)}function Xa(e,t,n,r){var i=wa();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ea&&null!==r&&ua(r,ea.memoizedState.deps)?i.memoizedState=Ka(t,n,a,r):(Zi.flags|=e,i.memoizedState=Ka(1|t,n,a,r))}function Ja(e,t){Ga(8390656,8,e,t)}function Za(e,t){Xa(2048,8,e,t)}function eo(e,t){return Xa(4,2,e,t)}function to(e,t){return Xa(4,4,e,t)}function no(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ro(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xa(4,4,no.bind(null,t,e),n)}function io(){}function ao(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oo(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ua(t,r[1]))return r[0];if(r=e(),ia){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function so(e,t,n){return void 0===n||0!==(1073741824&Ji)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),Zi.lanes|=e,hc|=e,n)}function lo(e,t,n,r){return Kn(n,t)?n:null!==Ei.current?(e=so(e,n,r),Kn(e,t)||(qo=!0),e):0===(42&Ji)?(qo=!0,e.memoizedState=n):(e=Ac(),Zi.lanes|=e,hc|=e,t)}function co(e,t,n,r,i){var a=H.p;H.p=0!==a&&8>a?a:8;var o=N.T,s={};N.T=s,So(e,!1,t,n);try{var l=i(),c=N.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);ko(e,t,u,Pc())}else ko(e,t,r,Pc())}catch(d){ko(e,t,{then:function(){},status:"rejected",reason:d},Pc())}finally{H.p=a,N.T=o}}function uo(){}function ho(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=fo(e).queue;co(e,i,t,B,null===n?uo:function(){return po(e),n(r)})}function fo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function po(e){ko(e,fo(e).next.queue,{},Pc())}function mo(){return Cs(Fd)}function go(){return wa().memoizedState}function vo(){return wa().memoizedState}function yo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Rs(t,e=As(n),n);return null!==r&&(Rc(r,t,n),Ms(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function wo(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Eo(e)?_o(t,n):null!==(n=Ir(e,t,n,r))&&(Rc(n,e,r),To(n,t,r))}function bo(e,t,n){ko(e,t,n,Pc())}function ko(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eo(e))_o(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,o))return Dr(e,t,i,0),null===nc&&Cr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Rc(n,e,r),To(n,t,r),!0}return!1}function So(e,t,n,r){if(r={lane:2,revertLane:Su(),action:r,hasEagerState:!1,eagerState:null,next:null},Eo(e)){if(t)throw Error(o(479))}else null!==(t=Ir(e,n,r,2))&&Rc(t,e,2)}function Eo(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function _o(e,t){ra=na=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function To(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var Co={readContext:Cs,use:ka,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useInsertionEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useSyncExternalStore:ca,useId:ca};Co.useCacheRefresh=ca,Co.useMemoCache=ca,Co.useHostTransitionStatus=ca,Co.useFormState=ca,Co.useActionState=ca,Co.useOptimistic=ca;var Do={readContext:Cs,use:ka,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:Ja,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ga(4194308,4,no.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){Ga(4,2,e,t)},useMemo:function(e,t){var n=ya();t=void 0===t?null:t;var r=e();if(ia){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ya();if(void 0!==n){var i=n(t);if(ia){we(!0);try{n(t)}finally{we(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=wo.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:function(e){var t=(e=Ra(e)).queue,n=bo.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:io,useDeferredValue:function(e,t){return so(ya(),e,t)},useTransition:function(){var e=Ra(!1);return e=co.bind(null,Zi,e.queue,!0,!1),ya().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=ya();if(Gr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===nc)throw Error(o(349));0!==(60&ic)||Ia(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ja(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ka(9,xa.bind(null,r,a,n,t),{destroy:void 0},null),n},useId:function(){var e=ya(),t=nc.identifierPrefix;if(Gr){var n=Br;t=":"+t+"R"+(n=(Hr&~(1<<32-be(Hr)-1)).toString(32)+n),0<(n=aa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=la++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ya().memoizedState=yo.bind(null,Zi)}};Do.useMemoCache=Sa,Do.useHostTransitionStatus=mo,Do.useFormState=Ha,Do.useActionState=Ha,Do.useOptimistic=function(e){var t=ya();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=So.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Io={readContext:Cs,use:ka,useCallback:ao,useContext:Cs,useEffect:Za,useImperativeHandle:ro,useInsertionEffect:eo,useLayoutEffect:to,useMemo:oo,useReducer:_a,useRef:Qa,useState:function(){return _a(Ea)},useDebugValue:io,useDeferredValue:function(e,t){return lo(wa(),ea.memoizedState,e,t)},useTransition:function(){var e=_a(Ea)[0],t=wa().memoizedState;return["boolean"===typeof e?e:ba(e),t]},useSyncExternalStore:Da,useId:go};Io.useCacheRefresh=vo,Io.useMemoCache=Sa,Io.useHostTransitionStatus=mo,Io.useFormState=Ba,Io.useActionState=Ba,Io.useOptimistic=function(e,t){return Ma(wa(),0,e,t)};var xo={readContext:Cs,use:ka,useCallback:ao,useContext:Cs,useEffect:Za,useImperativeHandle:ro,useInsertionEffect:eo,useLayoutEffect:to,useMemo:oo,useReducer:Ca,useRef:Qa,useState:function(){return Ca(Ea)},useDebugValue:io,useDeferredValue:function(e,t){var n=wa();return null===ea?so(n,e,t):lo(n,ea.memoizedState,e,t)},useTransition:function(){var e=Ca(Ea)[0],t=wa().memoizedState;return["boolean"===typeof e?e:ba(e),t]},useSyncExternalStore:Da,useId:go};function No(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}xo.useCacheRefresh=vo,xo.useMemoCache=Sa,xo.useHostTransitionStatus=mo,xo.useFormState=Ya,xo.useActionState=Ya,xo.useOptimistic=function(e,t){var n=wa();return null!==ea?Ma(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Po={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=As(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Rs(e,i,r))&&(Rc(t,e,r),Ms(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=As(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Rs(e,i,r))&&(Rc(t,e,r),Ms(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=As(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Rs(e,r,n))&&(Rc(t,e,n),Ms(t,e,n))}};function Ao(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,a))}function Ro(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Po.enqueueReplaceState(t,t.state,null)}function Mo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=P({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Oo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Lo(e){Oo(e)}function Fo(e){console.error(e)}function jo(e){Oo(e)}function Uo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Vo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function zo(e,t,n){return(n=As(n)).tag=3,n.payload={element:null},n.callback=function(){Uo(e,t)},n}function Ho(e){return(e=As(e)).tag=3,e}function Bo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Vo(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Vo(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var $o=Error(o(461)),qo=!1;function Wo(e,t,n,r){t.child=null===e?Si(t,null,n,r):ki(t,e.child,n,r)}function Yo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ts(t),r=da(e,t,n,o,a,i),s=ma(),null===e||qo?(Gr&&s&&Wr(t),t.flags|=1,Wo(e,t,r,i),t.child):(ga(e,t,i),fs(e,t,i))}function Ko(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fl(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Qo(e,t,a,r,i))}if(a=e.child,!ps(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,(e=jl(a,r)).ref=t.ref,e.return=t,t.child=e}function Qo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Qn(a,r)&&e.ref===t.ref){if(qo=!1,t.pendingProps=r=a,!ps(e,i))return t.lanes=e.lanes,fs(e,t,i);0!==(131072&e.flags)&&(qo=!0)}}return Zo(e,t,n,r,i)}function Go(e,t,n){var r=t.pendingProps,i=r.children,a=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(Jo(e,t),"hidden"===r.mode||a){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Xo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xo(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==o?o.cachePool:null),null!==o?Ti(t,o):Ci(),Pi(t)}else null!==o?(Gi(0,o.cachePool),Ti(t,o),Ai(),t.memoizedState=null):(null!==e&&Gi(0,null),Ci(),Ai());return Wo(e,t,i,n),t.child}function Xo(e,t,n,r){var i=Qi();return i=null===i?null:{parent:Ui._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Gi(0,null),Ci(),Pi(t),null!==e&&Es(e,t,r,!0),null}function Jo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Zo(e,t,n,r,i){return Ts(t),n=da(e,t,n,r,void 0,i),r=ma(),null===e||qo?(Gr&&r&&Wr(t),t.flags|=1,Wo(e,t,n,i),t.child):(ga(e,t,i),fs(e,t,i))}function es(e,t,n,r,i,a){return Ts(t),t.updateQueue=null,n=fa(t,r,n,i),ha(e),r=ma(),null===e||qo?(Gr&&r&&Wr(t),t.flags|=1,Wo(e,t,n,a),t.child):(ga(e,t,a),fs(e,t,a))}function ts(e,t,n,r,i){if(Ts(t),null===t.stateNode){var a=Ar,o=n.contextType;"object"===typeof o&&null!==o&&(a=Cs(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Po,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},Ns(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Cs(o):Ar,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(No(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Po.enqueueReplaceState(a,a.state,null),js(t,r,a,i),Fs(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Mo(n,s);a.props=l;var c=a.context,u=n.contextType;o=Ar,"object"===typeof u&&null!==u&&(o=Cs(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&Ro(t,a,r,o),xs=!1;var h=t.memoizedState;a.state=h,js(t,r,a,i),Fs(),c=t.memoizedState,s||h!==c||xs?("function"===typeof d&&(No(t,n,d,r),c=t.memoizedState),(l=xs||Ao(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ps(e,t),u=Mo(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Ar,"object"===typeof c&&null!==c&&(l=Cs(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Ro(t,a,r,l),xs=!1,h=t.memoizedState,a.state=h,js(t,r,a,i),Fs();var f=t.memoizedState;o!==d||h!==f||xs||null!==e&&null!==e.dependencies&&_s(e.dependencies)?("function"===typeof s&&(No(t,n,s,r),f=t.memoizedState),(u=xs||Ao(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&_s(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Jo(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,n,i)):Wo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=fs(e,t,i),e}function ns(e,t,n,r){return ii(),t.flags|=256,Wo(e,t,n,r),t.child}var rs={dehydrated:null,treeContext:null,retryLane:0};function is(e){return{baseLanes:e,cachePool:Xi()}}function as(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function os(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Mi.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Gr){if(a?Ni(t):Ai(),Gr){var l,c=Qr;if(l=c){e:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ld(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zr?{id:Hr,overflow:Br}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Kr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Ri(t)}return c=i.children,i=i.fallback,a?(Ai(),c=ls({mode:"hidden",children:c},a=t.mode),i=zl(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=is(n),a.childLanes=as(e,r,n),t.memoizedState=rs,i):(Ni(t),ss(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Ni(t),t.flags&=-257,t=cs(e,t,n)):null!==t.memoizedState?(Ai(),t.child=e.child,t.flags|=128,t=null):(Ai(),a=i.fallback,c=t.mode,i=ls({mode:"visible",children:i.children},c),(a=zl(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,ki(t,e.child,null,n),(i=t.child).memoizedState=is(n),i.childLanes=as(e,r,n),t.memoizedState=rs,t=a);else if(Ni(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,ai({value:i,source:null,stack:null}),t=cs(e,t,n)}else if(qo||Es(e,t,n,!1),r=0!==(n&e.childLanes),qo||r){if(null!==(r=nc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,xr(e,i),Rc(r,e,i),$o}"$?"===c.data||qc(),t=cs(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=lu.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=ld(c.nextSibling),Kr=t,Gr=!0,Xr=null,Jr=!1,null!==e&&(Ur[Vr++]=Hr,Ur[Vr++]=Br,Ur[Vr++]=zr,Hr=e.id,Br=e.overflow,zr=t),(t=ss(t,i.children)).flags|=4096);return t}return a?(Ai(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?a=jl(u,a):(a=zl(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=is(n):(null!==(l=c.cachePool)?(u=Ui._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=as(e,r,n),t.memoizedState=rs,i):(Ni(t),e=(n=e.child).sibling,(n=jl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ss(e,t){return(t=ls({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ls(e,t){return Hl(e,t,0,null)}function cs(e,t,n){return ki(t,e.child,null,n),(e=ss(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function ds(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Wo(e,t,r.children,n),0!==(2&(r=Mi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&us(e,n,t);else if(19===e.tag)us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(K(Mi,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Oi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ds(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Oi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ds(t,!0,n,null,a);break;case"together":ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Es(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ps(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_s(e))}function ms(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)qo=!0;else{if(!ps(e,n)&&0===(128&t.flags))return qo=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ws(t,Ui,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ws(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ni(t),t.flags|=128,null):0!==(n&t.child.childLanes)?os(e,t,n):(Ni(t),null!==(e=fs(e,t,n))?e.sibling:null);Ni(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Es(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(Mi,Mi.current),r)break;return null;case 22:case 23:return t.lanes=0,Go(e,t,n);case 24:ws(t,Ui,e.memoizedState.cache)}return fs(e,t,n)}(e,t,n);qo=0!==(131072&e.flags)}else qo=!1,Gr&&0!==(1048576&t.flags)&&qr(t,jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=Yo(null,t,r,e,n);break e}if(i===b){t.tag=14,t=Ko(null,t,r,e,n);break e}}throw t=D(r)||r,Error(o(306,t,""))}Fl(r)?(e=Mo(r,e),t.tag=1,t=ts(null,t,r,e,n)):(t.tag=0,t=Zo(null,t,r,e,n))}return t;case 0:return Zo(e,t,t.type,t.pendingProps,n);case 1:return ts(e,t,r=t.type,i=Mo(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(o(387));var a=t.pendingProps;r=(i=t.memoizedState).element,Ps(e,t),js(t,a,null,n);var s=t.memoizedState;if(a=s.cache,ws(t,Ui,a),a!==i.cache&&Ss(t,[Ui],n,!0),Fs(),a=s.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ns(e,t,a,n);break e}if(a!==r){ai(r=Mr(Error(o(424)),t)),t=ns(e,t,a,n);break e}for(Qr=ld(t.stateNode.containerInfo.firstChild),Kr=t,Gr=!0,Xr=null,Jr=!0,n=Si(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),a===r){t=fs(e,t,n);break e}Wo(e,t,a,n)}t=t.child}return t;case 26:return Jo(e,t),null===e?(n=vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Gr||(n=t.type,e=t.pendingProps,(r=Gu(X.current).createElement(n))[je]=t,r[Ue]=e,Yu(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Gr&&(r=t.stateNode=ud(t.type,t.pendingProps,X.current),Kr=t,Jr=!0,Qr=ld(r.firstChild)),r=t.pendingProps.children,null!==e||Gr?Wo(e,t,r,n):t.child=ki(t,null,r,n),Jo(e,t),t.child;case 5:return null===e&&Gr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Kr=t,Qr=ld(r.firstChild),Jr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,Zu(i,a)?r=null:null!==s&&Zu(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=da(e,t,pa,null,null,n),Fd._currentValue=i),Jo(e,t),Wo(e,t,r,n),t.child;case 6:return null===e&&Gr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ld(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Kr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return os(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):Wo(e,t,r,n),t.child;case 11:return Yo(e,t,t.type,t.pendingProps,n);case 7:return Wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ws(t,t.type,r.value),Wo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ts(t),r=r(i=Cs(i)),t.flags|=1,Wo(e,t,r,n),t.child;case 14:return Ko(e,t,t.type,t.pendingProps,n);case 15:return Qo(e,t,t.type,t.pendingProps,n);case 19:return hs(e,t,n);case 22:return Go(e,t,n);case 24:return Ts(t),r=Cs(Ui),null===e?(null===(i=Qi())&&(i=nc,a=Vi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},Ns(t),ws(t,Ui,i)):(0!==(e.lanes&n)&&(Ps(e,t),js(t,null,null,n),Fs()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ws(t,Ui,r)):(r=a.cache,ws(t,Ui,r),r!==i.cache&&Ss(t,[Ui],n,!0))),Wo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var gs=W(null),vs=null,ys=null;function ws(e,t,n){K(gs,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=gs.current,Y(gs)}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),ks(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Es(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Kn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Fd):e=[Fd])}i=i.return}null!==e&&Ss(t,e,n,r),t.flags|=262144}function _s(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cs(e){return Is(vs,e)}function Ds(e,t){return null===vs&&Ts(e),Is(e,t)}function Is(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(o(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var xs=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Nr(e,null,n),t}return Dr(e,r,t,n),Pr(e)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function Os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ls=!1;function Fs(){if(Ls){if(null!==qi)throw qi}}function js(e,t,n,r){Ls=!1;var i=e.updateQueue;xs=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(ic&h)===h:(r&h)===h){0!==h&&h===$i&&(Ls=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,m=s;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=P({},d,h);break e;case 2:xs=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),hc|=o,e.lanes=o,e.memoizedState=d}}function Us(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Vs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Us(n[e],t)}function zs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){iu(t,t.return,s)}}function Hs(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n;try{s()}catch(c){iu(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){iu(t,t.return,c)}}function Bs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Vs(t,n)}catch(r){iu(e,e.return,r)}}}function $s(e,t,n){n.props=Mo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){iu(e,t,r)}}function qs(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(a){iu(e,t,a)}}function Ws(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){iu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){iu(e,t,a)}else n.current=null}function Ys(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){iu(e,e.return,i)}}function Ks(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||qu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&qu(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||qu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&qu(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:qu(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&qu(e,t,s,i,r,a)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else qu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else qu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&qu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:qu(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Wu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Wu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&qu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||qu(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(i){iu(e,e.return,i)}}function Qs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Gs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&27!==r&&null!==(e=e.child))for(Xs(e,t,n),e=e.sibling;null!==e;)Xs(e,t,n),e=e.sibling}function Js(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Js(e,t,n),e=e.sibling;null!==e;)Js(e,t,n),e=e.sibling}var Zs=!1,el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null,il=!1;function al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),4&r&&zs(5,n);break;case 1:if(yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){iu(n,n.return,s)}else{var i=Mo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){iu(n,n.return,l)}}64&r&&Bs(n),512&r&&qs(n,n.return);break;case 3:if(yl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Vs(r,e)}catch(s){iu(n,n.return,s)}}break;case 26:yl(e,n),512&r&&qs(n,n.return);break;case 27:case 5:yl(e,n),null===t&&4&r&&Ys(n),512&r&&qs(n,n.return);break;case 12:default:yl(e,n);break;case 13:yl(e,n),4&r&&dl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Zs)){t=null!==t&&null!==t.memoizedState||el;var a=Zs,o=el;Zs=i,(el=t)&&!o?bl(e,n,0!==(8772&n.subtreeFlags)):yl(e,n),Zs=a,el=o}512&r&&("manual"===n.memoizedProps.mode?qs(n,n.return):Ws(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(o){}switch(n.tag){case 26:el||Ws(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:el||Ws(n,t);var r=sl,i=ll;for(sl=n.stateNode,cl(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),sl=r,ll=i;break;case 5:el||Ws(n,t);case 6:i=sl;var a=ll;if(sl=null,cl(e,t,n),ll=a,null!==(sl=i))if(ll)try{e=sl,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){iu(n,t,s)}else try{sl.removeChild(n.stateNode)}catch(s){iu(n,t,s)}break;case 18:null!==sl&&(ll?(t=sl,n=n.stateNode,8===t.nodeType?od(t.parentNode,n):1===t.nodeType&&od(t,n),gh(t)):od(sl,n.stateNode));break;case 4:r=sl,i=ll,sl=n.stateNode.containerInfo,ll=!0,cl(e,t,n),sl=r,ll=i;break;case 0:case 11:case 14:case 15:el||Hs(2,n,t),el||Hs(4,n,t),cl(e,t,n);break;case 1:el||(Ws(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&$s(n,t,r)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:el||Ws(n,t),el=(r=el)||null!==n.memoizedState,cl(e,t,n),el=r;break;default:cl(e,t,n)}}function dl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(n){iu(t,t.return,n)}}function hl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new nl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,ll=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===sl)throw Error(o(160));ul(a,s,i),sl=null,ll=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var pl=null;function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),gl(e),4&r&&(Hs(3,e,e.return),zs(3,e),Hs(5,e,e.return));break;case 1:fl(t,e),gl(e),512&r&&(el||null===n||Ws(n,n.return)),64&r&&Zs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=pl;if(fl(t,e),gl(e),512&r&&(el||null===n||Ws(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[qe]||a[je]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Yu(a,r,n),a[je]=e,Xe(a),r=a;break e;case"link":var s=Id("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Yu(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Id("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Yu(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[je]=e,Xe(a),r=a}e.stateNode=r}else xd(i,e.type,e.stateNode);else e.stateNode=Ed(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?xd(i,e.type,e.stateNode):Ed(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ks(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,a=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[qe]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yu(i,h,a),i[je]=e,i[Ue]=a}catch(m){iu(e,e.return,m)}}case 5:if(fl(t,e),gl(e),512&r&&(el||null===n||Ws(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(m){iu(e,e.return,m)}}4&r&&null!=e.stateNode&&Ks(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tl=!0);break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){iu(e,e.return,m)}}break;case 3:if(Dd=null,i=pl,pl=fd(t.containerInfo),fl(t,e),pl=i,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(m){iu(e,e.return,m)}tl&&(tl=!1,vl(e));break;case 4:r=pl,pl=fd(e.stateNode.containerInfo),fl(t,e),gl(e),pl=r;break;case 12:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 22:if(512&r&&(el||null===n||Ws(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Zs=(d=Zs)||c,el=(h=el)||u,fl(t,e),el=h,Zs=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zs||el,null===n||u||t||wl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){iu(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){iu(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hl(e,n))));break;case 19:fl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 21:break;default:fl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qs(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 27:var i=r.stateNode;Js(e,Gs(e),i);break;case 5:var a=r.stateNode;32&r.flags&&(St(a,""),r.flags&=-33),Js(e,Gs(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;Xs(e,Gs(e),s);break;default:throw Error(o(161))}}}catch(l){iu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;vl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)al(e,t.alternate,t),t=t.sibling}function wl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hs(4,t,t.return),wl(t);break;case 1:Ws(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&$s(t,t.return,n),wl(t);break;case 26:case 27:case 5:Ws(t,t.return),wl(t);break;case 22:Ws(t,t.return),null===t.memoizedState&&wl(t);break;default:wl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:bl(i,a,n),zs(4,a);break;case 1:if(bl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){iu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Us(l[i],s)}catch(c){iu(r,r.return,c)}}n&&64&o&&Bs(a),qs(a,a.return);break;case 26:case 27:case 5:bl(i,a,n),n&&null===r&&4&o&&Ys(a),qs(a,a.return);break;case 12:default:bl(i,a,n);break;case 13:bl(i,a,n),n&&4&o&&dl(i,a);break;case 22:null===a.memoizedState&&bl(i,a,n),qs(a,a.return)}t=t.sibling}}function kl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Sl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function El(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t,n,r),t=t.sibling}function _l(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:El(e,t,n,r),2048&i&&zs(9,t);break;case 3:El(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){El(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){iu(t,t.return,l)}}else El(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?El(e,t,n,r):Cl(e,t):4&a._visibility?El(e,t,n,r):(a._visibility|=4,Tl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&kl(t.alternate,t);break;case 24:El(e,t,n,r),2048&i&&Sl(t.alternate,t);break;default:El(e,t,n,r)}}function Tl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Tl(a,o,s,l,i),zs(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?4&u._visibility?Tl(a,o,s,l,i):Cl(a,o):(u._visibility|=4,Tl(a,o,s,l,i)),i&&2048&c&&kl(o.alternate,o);break;case 24:Tl(a,o,s,l,i),i&&2048&c&&Sl(o.alternate,o);break;default:Tl(a,o,s,l,i)}t=t.sibling}}function Cl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Cl(n,r),2048&i&&kl(r.alternate,r);break;case 24:Cl(n,r),2048&i&&Sl(r.alternate,r);break;default:Cl(n,r)}t=t.sibling}}var Dl=8192;function Il(e){if(e.subtreeFlags&Dl)for(e=e.child;null!==e;)xl(e),e=e.sibling}function xl(e){switch(e.tag){case 26:Il(e),e.flags&Dl&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(o(475));var r=Pd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=yd(n.href),a=e.querySelector(wd(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Rd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Xe(a);a=e.ownerDocument||e,n=bd(n),(i=dd.get(i))&&Td(n,i),Xe(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Yu(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Rd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:Il(e);break;case 3:case 4:var t=pl;pl=fd(e.stateNode.containerInfo),Il(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Dl,Dl=16777216,Il(e),Dl=t):Il(e))}}function Nl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Ml(r,e)}Nl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&Hs(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Rl(e)):Pl(e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Ml(r,e)}Nl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Hs(8,t,t.return),Rl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Rl(t));break;default:Rl(t)}e=e.sibling}}function Ml(e,t){for(;null!==rl;){var n=rl;switch(n.tag){case 0:case 11:case 15:Hs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,rl=r;else e:for(n=e;null!==rl;){var i=(r=rl).sibling,a=r.return;if(ol(r),r===n){rl=null;break e}if(null!==i){i.return=a,rl=i;break e}rl=a}}}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Ol(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ul(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Fl(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return zl(n.children,i,a,t);case h:s=8,i|=24;break;case f:return(e=Ll(12,n,t,2|i)).elementType=f,e.lanes=a,e;case y:return(e=Ll(13,n,t,i)).elementType=y,e.lanes=a,e;case w:return(e=Ll(19,n,t,i)).elementType=w,e.lanes=a,e;case S:return Hl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:s=10;break e;case m:s=9;break e;case v:s=11;break e;case b:s=14;break e;case k:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function Hl(e,t,n,r){(e=Ll(22,e,r,t)).elementType=S,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(o(456));if(0===(2&i._pendingVisibility)){var t=xr(e,2);null!==t&&(i._pendingVisibility|=2,Rc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(o(456));if(0!==(2&i._pendingVisibility)){var t=xr(e,2);null!==t&&(i._pendingVisibility&=-3,Rc(t,e,2))}}};return e.stateNode=i,e}function Bl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e){e.flags|=4}function Wl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Nd(t)){if(null!==(t=Ii.current)&&((4194176&ic)===ic?null!==xi:(62914560&ic)!==ic&&0===(536870912&ic)||t!==xi))throw hi=li,si;e.flags|=8192}}function Yl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,gc|=t)}function Kl(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(Yr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Ql(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bs(Ui),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?ql(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Oc(Xr),Xr=null))),Ql(t),null;case 26:return n=t.memoizedState,null===e?(ql(t),null!==n?(Ql(t),Wl(t,n)):(Ql(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ql(t),Ql(t),Wl(t,n)):(Ql(t),t.flags&=-16777217):(e.memoizedProps!==r&&ql(t),Ql(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ql(t),null}e=Q.current,ri(t)?ti(t):(e=ud(i,r,n),t.stateNode=e,ql(t))}return Ql(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ql(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Gu(X.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[je]=t,e[Ue]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Yu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ql(t)}}return Ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=X.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Kr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bu(e.nodeValue,n)))||ei(t)}else(e=Gu(e).createTextNode(r))[je]=t,t.stateNode=e}return Ql(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[je]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),i=!1}else null!==Xr&&(Oc(Xr),Xr=null),i=!0;if(!i)return 256&t.flags?(Ri(t),t):(Ri(t),null)}if(Ri(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),Ql(t),null;case 4:return ee(),null===e&&Ru(t.stateNode.containerInfo),Ql(t),null;case 10:return bs(t.type),Ql(t),null;case 19:if(Y(Mi),null===(i=t.memoizedState))return Ql(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Kl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Oi(e))){for(t.flags|=128,Kl(i,!1),e=a.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ul(n,e),n=n.sibling;return K(Mi,1&Mi.current|2),t.child}e=e.sibling}null!==i.tail&&le()>kc&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Oi(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Gr)return Ql(t),null}else 2*le()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Mi.current,K(Mi,r?1&e|2:1&e),t):(Ql(t),null);case 22:case 23:return Ri(t),Di(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null!==(n=t.updateQueue)&&Yl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Y(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(Ui),Ql(t),null;case 25:return null}throw Error(o(156,t.tag))}function Xl(e,t){switch(Yr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bs(Ui),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Ri(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Y(Mi),null;case 4:return ee(),null;case 10:return bs(t.type),null;case 22:case 23:return Ri(t),Di(),null!==e&&Y(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bs(Ui),null;default:return null}}function Jl(e,t){switch(Yr(t),t.tag){case 3:bs(Ui),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Ri(t);break;case 19:Y(Mi);break;case 10:bs(t.type);break;case 22:case 23:Ri(t),Di(),null!==e&&Y(Ki);break;case 24:bs(Ui)}}var Zl={getCacheForType:function(e){var t=Cs(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,nc=null,rc=null,ic=0,ac=0,oc=null,sc=!1,lc=!1,cc=!1,uc=0,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=null,yc=null,wc=!1,bc=0,kc=1/0,Sc=null,Ec=null,_c=!1,Tc=null,Cc=0,Dc=0,Ic=null,xc=0,Nc=null;function Pc(){if(0!==(2&tc)&&0!==ic)return ic&-ic;if(null!==N.T){return 0!==$i?$i:Su()}return Le()}function Ac(){0===mc&&(mc=0===(536870912&ic)||Gr?xe():536870912);var e=Ii.current;return null!==e&&(e.flags|=32),mc}function Rc(e,t,n){(e===nc&&2===ac||null!==e.cancelPendingCommit)&&(zc(e,0),jc(e,ic,mc,!1)),Ae(e,n),0!==(2&tc)&&e===nc||(e===nc&&(0===(2&tc)&&(fc|=n),4===dc&&jc(e,ic,mc,!1)),gu(e))}function Mc(e,t,n){if(0!==(6&tc))throw Error(o(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||De(e,t),i=r?function(e,t){var n=tc;tc|=2;var r=Bc(),i=$c();nc!==e||ic!==t?(Sc=null,kc=le()+500,zc(e,t)):lc=De(e,t);e:for(;;)try{if(0!==ac&&null!==rc){t=rc;var a=oc;t:switch(ac){case 1:ac=0,oc=null,Xc(e,t,a,1);break;case 2:if(ci(a)){ac=0,oc=null,Gc(t);break}t=function(){2===ac&&nc===e&&(ac=7),gu(e)},a.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:ci(a)?(ac=0,oc=null,Gc(t)):(ac=0,oc=null,Xc(e,t,a,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var l=rc;if(!s||Nd(s)){ac=0,oc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,Jc(u)):rc=null}break t}}ac=0,oc=null,Xc(e,t,a,5);break;case 6:ac=0,oc=null,Xc(e,t,a,6);break;case 8:Vc(),dc=6;break e;default:throw Error(o(462))}}Kc();break}catch(d){Hc(e,d)}return ys=vs=null,N.H=r,N.A=i,tc=n,null!==rc?0:(nc=null,ic=0,Cr(),dc)}(e,t):Wc(e,t,!0),a=r;;){if(0===i){lc&&!r&&jc(e,t,0,!1);break}if(6===i)jc(e,t,0,!sc);else{if(n=e.current.alternate,a&&!Fc(n)){i=Wc(e,t,!1),a=!1;continue}if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,s).flags|=256),2!==(s=Wc(l,s,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=a,fc|=a,i=4;break e}a=yc,yc=i,null!==a&&Oc(a)}i=s}if(a=!1,2!==i)continue}}if(1===i){zc(e,0),jc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(o(345));case 4:if((4194176&t)===t){jc(r,t,mc,!sc);break e}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(o(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(a=bc+300-le())){if(jc(r,t,mc,!sc),0!==Ce(r,0))break e;r.timeoutHandle=td(Lc.bind(null,r,n,yc,Sc,wc,t,mc,fc,gc,sc,2,-0,0),a)}else Lc(r,n,yc,Sc,wc,t,mc,fc,gc,sc,0,-0,0)}}break}gu(e)}function Oc(e){null===yc?yc=e:yc.push.apply(yc,e)}function Lc(e,t,n,r,i,a,s,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Pd={stylesheets:null,count:0,unsuspend:Ad},xl(t),null!==(t=function(){if(null===Pd)throw Error(o(475));var e=Pd;return e.stylesheets&&0===e.count&&Od(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Od(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(eu.bind(null,e,n,r,i,s,l,c,1,h,f)),void jc(e,a,s,!u);eu(e,n,r,i,s,l,c,d,h,f)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t,n,r){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-be(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Re(e,n,t)}function Uc(){return 0!==(6&tc)||(vu(0,!1),!1)}function Vc(){if(null!==rc){if(0===ac)var e=rc.return;else ys=vs=null,va(e=rc),pi=null,mi=0,e=rc;for(;null!==e;)Jl(e.alternate,e),e=e.return;rc=null}}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),nc=e,rc=n=jl(e.current,null),ic=t,ac=0,oc=null,sc=!1,lc=De(e,t),cc=!1,gc=mc=pc=fc=hc=dc=0,yc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),a=1<<i;t|=e[i],r&=~a}return uc=t,Cr(),n}function Hc(e,t){Zi=null,N.H=Co,t===oi?(t=fi(),ac=3):t===si?(t=fi(),ac=4):ac=t===$o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===rc&&(dc=1,Uo(e,Mr(t,e.current)))}function Bc(){var e=N.H;return N.H=Co,null===e?Co:e}function $c(){var e=N.A;return N.A=Zl,e}function qc(){dc=4,sc||(4194176&ic)!==ic&&null!==Ii.current||(lc=!0),0===(134217727&hc)&&0===(134217727&fc)||null===nc||jc(nc,ic,mc,!1)}function Wc(e,t,n){var r=tc;tc|=2;var i=Bc(),a=$c();nc===e&&ic===t||(Sc=null,zc(e,t)),t=!1;var o=dc;e:for(;;)try{if(0!==ac&&null!==rc){var s=rc,l=oc;switch(ac){case 8:Vc(),o=6;break e;case 3:case 2:case 6:null===Ii.current&&(t=!0);var c=ac;if(ac=0,oc=null,Xc(e,s,l,c),n&&lc){o=0;break e}break;default:c=ac,ac=0,oc=null,Xc(e,s,l,c)}}Yc(),o=dc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,tc=r,N.H=i,N.A=a,null===rc&&(nc=null,ic=0,Cr()),o}function Yc(){for(;null!==rc;)Qc(rc)}function Kc(){for(;null!==rc&&!oe();)Qc(rc)}function Qc(e){var t=ms(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?Jc(e):rc=t}function Gc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=es(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=es(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:va(t);default:Jl(n,t),t=ms(n,t=rc=Ul(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):rc=t}function Xc(e,t,n,r){ys=vs=null,va(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Es(t,n,i,!0),null!==(n=Ii.current)){switch(n.tag){case 13:return null===xi?qc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),au(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),au(e,r,i)),!1}throw Error(o(435,n.tag))}return au(e,r,i),qc(),!1}if(Gr)return null!==(t=Ii.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&ai(Mr(e=Error(o(422),{cause:r}),n))):(r!==Zr&&ai(Mr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Mr(r,n),Os(e,i=zo(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var a=Error(o(520),{cause:r});if(a=Mr(a,n),null===vc?vc=[a]:vc.push(a),4!==dc&&(dc=2),null===t)return!0;r=Mr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Os(n,e=zo(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Ec||!Ec.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Bo(i=Ho(i),e,n,r),Os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ic))return dc=1,Uo(e,Mr(n,e.current)),void(rc=null)}catch(a){if(null!==i)throw rc=i,a;return dc=1,Uo(e,Mr(n,e.current)),void(rc=null)}32768&t.flags?(Gr||1===r?e=!0:lc||0!==(536870912&ic)?e=!1:(sc=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ii.current)&&13===r.tag&&(r.flags|=16384))),Zc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,sc);e=t.return;var n=Gl(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===dc&&(dc=5)}function Zc(e,t){do{var n=Xl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);dc=6,rc=null}function eu(e,t,n,r,i,a,s,l,c,u){var d=N.T,h=H.p;try{H.p=2,N.T=null,function(e,t,n,r,i,a,s,l){do{nu()}while(null!==Tc);if(0!==(6&tc))throw Error(o(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-be(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,r,u|=Tr,a,s,l),e===nc&&(rc=nc=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||_c||(_c=!0,Dc=u,Ic=n,function(e,t){ie(e,t)}(he,(function(){return nu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=N.T,N.T=null,a=H.p,H.p=2,s=tc,tc|=4,function(e,t){if(e=e.containerInfo,Ku=qd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},qd=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){switch(a=(t=rl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Mo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){iu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))sd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=il,il=!1}(e,c),ml(c,e),tr(Qu,e.containerInfo),qd=!!Ku,Qu=Ku=null,e.current=c,al(e,c.alternate,c),se(),tc=s,H.p=a,N.T=n):e.current=c,_c?(_c=!1,Tc=e,Cc=r):tu(e,u),u=e.pendingLanes,0===u&&(Ec=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Cc)&&nu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Nc?xc++:(xc=0,Nc=e):xc=0,vu(0,!1)}(e,t,n,r,h,i,a,s)}finally{N.T=d,H.p=h}}function tu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function nu(){if(null!==Tc){var e=Tc,t=Dc;Dc=0;var n=Oe(Cc),r=N.T,i=H.p;try{if(H.p=32>n?32:n,N.T=null,null===Tc)var a=!1;else{n=Ic,Ic=null;var s=Tc,l=Cc;if(Tc=null,Cc=0,0!==(6&tc))throw Error(o(331));var c=tc;if(tc|=4,Al(s.current),_l(s,s.current,l,n),tc=c,vu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(u){}a=!0}return a}finally{H.p=i,N.T=r,tu(e,t)}}return!1}function ru(e,t,n){t=Mr(n,t),null!==(e=Rs(e,t=zo(e.stateNode,t,2),2))&&(Ae(e,2),gu(e))}function iu(e,t,n){if(3===e.tag)ru(e,e,n);else for(;null!==t;){if(3===t.tag){ru(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Mr(n,e),null!==(r=Rs(t,n=Ho(2),2))&&(Bo(n,r,t,e),Ae(r,2),gu(r));break}}t=t.return}}function au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ec;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cc=!0,i.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nc===e&&(ic&n)===n&&(4===dc||3===dc&&(62914560&ic)===ic&&300>le()-bc?0===(2&tc)&&zc(e,0):pc|=n,gc===ic&&(gc=0)),gu(e)}function su(e,t){0===t&&(t=Ne()),null!==(e=xr(e,t))&&(Ae(e,t),gu(e))}function lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),su(e,n)}function cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),su(e,n)}var uu=null,du=null,hu=!1,fu=!1,pu=!1,mu=0;function gu(e){var t;e!==du&&null===e.next&&(null===du?uu=du=e:du=du.next=e),fu=!0,hu||(hu=!0,t=yu,id((function(){0!==(6&tc)?ie(ue,t):t()})))}function vu(e,t){if(!pu&&fu){pu=!0;do{for(var n=!1,r=uu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-be(42|e)+1)-1,a=201326677&(a&=i&~(o&~s))?201326677&a|1:a?2|a:0}0!==a&&(n=!0,ku(r,a))}else a=ic,0===(3&(a=Ce(r,r===nc?a:0)))||De(r,a)||(n=!0,ku(r,a));r=r.next}}while(n);pu=!1}}function yu(){fu=hu=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ed&&(ed=e,!0);return ed=null,!1}()&&(e=mu),mu=0);for(var t=le(),n=null,r=uu;null!==r;){var i=r.next,a=wu(r,t);0===a?(r.next=null,null===n?uu=i:n.next=i,null===i&&(du=n)):(n=r,(0!==e||0!==(3&a))&&(fu=!0)),r=i}vu(e,!1)}function wu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-be(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Ie(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ic,n=Ce(e,e===(t=nc)?n:0),r=e.callbackNode,0===n||e===t&&2===ac||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||De(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Oe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=Ce(e,e===nc?r:0))?null:(Mc(e,r,t),wu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function ku(e,t){if(nu())return null;Mc(e,t,!0)}function Su(){return 0===mu&&(mu=xe()),mu}function Eu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:xt(""+e)}function _u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<kr.length;Tu++){var Cu=kr[Tu];Sr(Cu.toLowerCase(),"on"+(Cu[0].toUpperCase()+Cu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(wr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Oo(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Oo(u)}i.currentTarget=null,a=l}}}}function Nu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(Mu(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),Mu(n,e,r,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Au]){e[Au]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Iu.has(t)||Pu(t,!1,e),Pu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Au]||(t[Au]=!0,Pu("selectionchange",!1,t))}}function Mu(e,t,n,r){switch(Jd(t)){case 2:var i=Wd;break;case 8:i=Yd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ou(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Ye(s)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=a,i=Pt(n),o=[];e:{var s=br.get(e);if(void 0!==s){var l=Jt,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=an;break;case"focusout":c="blur",l=an;break;case"beforeblur":case"afterblur":l=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=on;break;case wr:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=wn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Ft(p,h))&&u.push(Lu(p,m,f)),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!Ye(c)&&!c[Ve])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ye(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Qe(l),f=null==c?s:Qe(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,Ye(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=ju(f))p++;for(f=0,m=h;m;m=ju(m))f++;for(;0<p-f;)u=ju(u),p--;for(;0<f-p;)h=ju(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=ju(u),h=ju(h)}u=null}else u=null;null!==l&&Uu(o,s,l,u,!1),null!==c&&null!==d&&Uu(o,d,c,u,!0)}if("select"===(l=(s=r?Qe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Fn;else if(Pn(s))if(jn)g=Yn;else{g=qn;var v=$n}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(g=Fn):g=Wn;switch(g&&(g=g(e,r))?An(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),v=r?Qe(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,i)}var y;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xn?Dn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(_n&&"ko"!==n.locale&&(xn||"onCompositionStart"!==w?"onCompositionEnd"===w&&xn&&(y=Bt()):(zt="value"in(Vt=i)?Vt.value:Vt.textContent,xn=!0)),0<(v=Fu(r,w)).length&&(w=new ln(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=In(n))&&(w.data=y))),(y=En?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(xn)return"compositionend"===e||!kn&&Dn(e,t)?(e=Bt(),Ht=zt=Vt=null,xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Fu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:w}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Eu((i[Ue]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ue]||null)?Eu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Jt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mu){var e=o?_u(i,o):new FormData(i);ho(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?_u(i,o):new FormData(i),ho(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}xu(o,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(Lu(e,i,a)),null!=(i=Ft(e,t))&&r.push(Lu(e,i,a))),e=e.return}return r}function ju(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Ft(n,a))&&o.unshift(Lu(n,c,l)):i||null!=(c=Ft(n,a))&&o.push(Lu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Vu=/\r\n?/g,zu=/\u0000|\uFFFD/g;function Hu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(zu,"")}function Bu(e,t){return t=Hu(t),Hu(e)===t}function $u(){}function qu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=xt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&qu(e,t,"name",i.name,i,null),qu(e,t,"formEncType",i.formEncType,i,null),qu(e,t,"formMethod",i.formMethod,i,null),qu(e,t,"formTarget",i.formTarget,i,null)):(qu(e,t,"encType",i.encType,i,null),qu(e,t,"method",i.method,i,null),qu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=xt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=xt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Nu("beforetoggle",e),Nu("toggle",e),ot(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ot(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Dt.get(n)||n,r)}}function Wu(e,t,n,r,i,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ue]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ot(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Yu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nu("error",e),Nu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qu(e,t,r,s,n,null)}}return a&&qu(e,t,"srcSet",n.srcSet,n,null),void(i&&qu(e,t,"src",n.src,n,null));case"input":Nu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:qu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,s,a,!1),void dt(e);case"select":for(a in Nu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:qu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Nu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:qu(e,t,s,l,n,null)}return kt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else qu(e,t,c,i,n,null);return;case"dialog":Nu("cancel",e),Nu("close",e);break;case"iframe":case"object":Nu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Nu(Du[i],e);break;case"image":Nu("error",e),Nu("load",e);break;case"details":Nu("toggle",e);break;case"embed":case"source":case"link":Nu("error",e),Nu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qu(e,t,u,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Wu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&qu(e,t,l,i,n,null))}var Ku=null,Qu=null;function Gu(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ju(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ed=null;var td="function"===typeof setTimeout?setTimeout:void 0,nd="function"===typeof clearTimeout?clearTimeout:void 0,rd="function"===typeof Promise?Promise:void 0,id="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rd?function(e){return rd.resolve(null).then(e).catch(ad)}:td;function ad(e){setTimeout((function(){throw e}))}function od(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gh(t)}function sd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sd(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=Gu(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}var dd=new Map,hd=new Set;function fd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=H.d;H.d={f:function(){var e=pd.f(),t=Uc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?po(t):pd.r(e)},D:function(e){pd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var r=md;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=yd(e);break;case"script":a=kd(e)}dd.has(a)||(e=P({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),dd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(wd(a))||"script"===t&&r.querySelector(Sd(a))||(Yu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=md;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=kd(e)}if(!dd.has(a)&&(e=P({rel:"modulepreload",href:e},t),dd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sd(a)))return}Yu(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){pd.X(e,t);var n=md;if(n&&e){var r=Ge(n).hoistableScripts,i=kd(e),a=r.get(i);a||((a=n.querySelector(Sd(i)))||(e=P({src:e,async:!0},t),(t=dd.get(i))&&Cd(e,t),Xe(a=n.createElement("script")),Yu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){pd.S(e,t,n);var r=md;if(r&&e){var i=Ge(r).hoistableStyles,a=yd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(wd(a)))s.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dd.get(a))&&Td(e,n);var l=o=r.createElement("link");Xe(l),Yu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,_d(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){pd.M(e,t);var n=md;if(n&&e){var r=Ge(n).hoistableScripts,i=kd(e),a=r.get(i);a||((a=n.querySelector(Sd(i)))||(e=P({src:e,async:!0,type:"module"},t),(t=dd.get(i))&&Cd(e,t),Xe(a=n.createElement("script")),Yu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var md="undefined"===typeof document?null:document;function gd(e,t,n){var r=md;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hd.has(i)||(hd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Yu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function vd(e,t,n,r){var i,a,s,l,c=(c=X.current)?fd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yd(n.href),(r=(n=Ge(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yd(n.href);var u=Ge(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(wd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),dd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dd.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),Yu(a,"link",s),Xe(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=kd(n),(r=(n=Ge(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yd(e){return'href="'+mt(e)+'"'}function wd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function kd(e){return'[src="'+mt(e)+'"]'}function Sd(e){return"script[async]"+e}function Ed(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var i=P({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Yu(r,"style",i),_d(r,n.precedence,e),t.instance=r;case"stylesheet":i=yd(n.href);var a=e.querySelector(wd(i));if(a)return t.state.loading|=4,t.instance=a,Xe(a),a;r=bd(n),(i=dd.get(i))&&Td(r,i),Xe(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Yu(a,"link",r),t.state.loading|=4,_d(a,n.precedence,e),t.instance=a;case"script":return a=kd(n.src),(i=e.querySelector(Sd(a)))?(t.instance=i,Xe(i),i):(r=n,(i=dd.get(a))&&Cd(r=P({},n),i),Xe(i=(e=e.ownerDocument||e).createElement("script")),Yu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,_d(r,n.precedence,e));return t.instance}function _d(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Cd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dd=null;function Id(e,t,n){if(null===Dd){var r=new Map,i=Dd=new Map;i.set(n,r)}else(r=(i=Dd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[qe]||a[je]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function xd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Nd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pd=null;function Ad(){}function Rd(){if(this.count--,0===this.count)if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Md=null;function Od(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Md=new Map,t.forEach(Ld,e),Md=null,Rd.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var n=Md.get(e);if(n)var r=n.get(null);else{n=new Map,Md.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Rd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Fd={$$typeof:g,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function jd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ud(e,t,n,r,i,a,o,s,l,c,u,d){return e=new jd(e,t,n,o,s,l,c,d),t=1,!0===a&&(t|=24),a=Ll(3,null,null,t),e.current=a,a.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ns(a),e}function Vd(e){return e?e=Ar:Ar}function zd(e,t,n,r,i,a){i=Vd(i),null===r.context?r.context=i:r.pendingContext=i,(r=As(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=Rs(e,r,t))&&(Rc(n,0,t),Ms(n,e,t))}function Hd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bd(e,t){Hd(e,t),(e=e.alternate)&&Hd(e,t)}function $d(e){if(13===e.tag){var t=xr(e,67108864);null!==t&&Rc(t,0,67108864),Bd(e,67108864)}}var qd=!0;function Wd(e,t,n,r){var i=N.T;N.T=null;var a=H.p;try{H.p=2,Kd(e,t,n,r)}finally{H.p=a,N.T=i}}function Yd(e,t,n,r){var i=N.T;N.T=null;var a=H.p;try{H.p=8,Kd(e,t,n,r)}finally{H.p=a,N.T=i}}function Kd(e,t,n,r){if(qd){var i=Qd(r);if(null===i)Ou(e,t,r,Gd,n),sh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return eh=lh(eh,e,t,n,r,i),!0;case"dragenter":return th=lh(th,e,t,n,r,i),!0;case"mouseover":return nh=lh(nh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return rh.set(a,lh(rh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ih.set(a,lh(ih.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(sh(e,r),4&t&&-1<oh.indexOf(e)){for(;null!==i;){var a=Ke(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Te(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-be(o);s.entanglements[1]|=l,o&=~l}gu(a),0===(6&tc)&&(kc=le()+500,vu(0,!1))}}break;case 13:null!==(s=xr(a,2))&&Rc(s,0,2),Uc(),Bd(a,2)}if(null===(a=Qd(r))&&Ou(e,t,r,Gd,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ou(e,t,r,null,n)}}function Qd(e){return Xd(e=Pt(e))}var Gd=null;function Xd(e){if(Gd=null,null!==(e=Ye(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=j(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gd=e,null}function Jd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zd=!1,eh=null,th=null,nh=null,rh=new Map,ih=new Map,ah=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":eh=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":nh=null;break;case"pointerover":case"pointerout":rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(t.pointerId)}}function lh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ke(t))&&$d(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ch(e){var t=Ye(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=j(n)))return e.blockedOn=t,void function(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=xr(n,e);null!==t&&Rc(t,0,e),Bd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qd(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&$d(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function dh(e,t,n){uh(e)&&n.delete(t)}function hh(){Zd=!1,null!==eh&&uh(eh)&&(eh=null),null!==th&&uh(th)&&(th=null),null!==nh&&uh(nh)&&(nh=null),rh.forEach(dh),ih.forEach(dh)}function fh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hh)))}var ph=null;function mh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Xd(r||n))continue;break}var a=Ke(n);null!==a&&(e.splice(t,3),t-=3,ho(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gh(e){function t(t){return fh(t,e)}null!==eh&&fh(eh,e),null!==th&&fh(th,e),null!==nh&&fh(nh,e),rh.forEach(t),ih.forEach(t);for(var n=0;n<ah.length;n++){var r=ah[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ah.length&&null===(n=ah[0]).blockedOn;)ch(n),null===n.blockedOn&&ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ue]||null;if("function"===typeof a)o||mh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ue]||null)s=o.formAction;else if(null!==Xd(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),mh(n)}}}function vh(e){this._internalRoot=e}function yh(e){this._internalRoot=e}yh.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zd(t.current,Pc(),e,t,null,null)},yh.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&nu(),zd(e.current,2,null,e,null,null),Uc(),t[Ve]=null}},yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ah.length&&0!==t&&t<ah[n].priority;n++);ah.splice(n,0,e),0===n&&ch(e)}};var wh=i.version;if("19.0.0"!==wh)throw Error(o(527,wh,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return U(i),e;if(a===r)return U(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Ye,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{ve=kh.inject(bh),ye=kh}catch(Eh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=Lo,a=Fo,l=jo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,n,r,i,a,l,0,null),e[Ve]=t.current,Ru(8===e.nodeType?e.parentNode:e),new vh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=Lo,l=Fo,c=jo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Ud(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Vd(null),n=t.current,(i=As(r=Pc())).callback=null,Rs(n,i,r),t.current.lanes=r,Ae(t,r),gu(t),e[Ve]=t.current,Ru(e),new yh(t)},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var k=Array.isArray,S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function _(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function x(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return x((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+D(e,0):a,k(o)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),x(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+u,o=_(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(k(e))for(var m=0;m<e.length;m++)u+=x(a=e[m],t,i,s=p+D(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=x(a=a.value,t,i,s=p+D(a,m++),o);else if("object"===s){if("function"===typeof e.then)return x(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return _(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,A)}catch(a){A(a)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P();else{var t=r(u);null!==t&&A(k,t.startTime-e)}}var S,E=!1,_=-1,T=5,C=-1;function D(){return!(t.unstable_now()-C<T)}function I(){if(E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(_),_=-1),p=!0;var a=f;try{t:{for(b(e),h=r(c);null!==h&&!(h.expirationTime>e&&D());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,b(e),n=!0;break t}h===r(c)&&i(c),b(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof w)S=function(){w(I)};else if("undefined"!==typeof MessageChannel){var x=new MessageChannel,N=x.port2;x.port1.onmessage=I,S=function(){N.postMessage(null)}}else S=function(){v(I,0)};function P(){E||(E=!0,S())}function A(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,A(k,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P())),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".fb67ec70.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="final-project:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/cs378-final/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfinal_project=self.webpackChunkfinal_project||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n.t(r,2),a=n(391),o=(n(358),"popstate");function s(){return p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?f(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",f=null,p=m();function m(){return(s.state||{idx:null}).idx}function g(){c="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:c,location:y.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,s.replaceState({...s.state,idx:p},""));let y={get action(){return c},get location(){return e(i,s)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,g),f=e,()=>{i.removeEventListener(o,g),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=d(y.location,e,t);n&&n(r,e),p=m()+1;let o=u(r,p),l=y.createHref(r);try{s.pushState(o,"",l)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(l)}a&&f&&f({action:c,location:y.location,delta:1})},replace:function(e,t){c="REPLACE";let r=d(y.location,e,t);n&&n(r,e),p=m();let i=u(r,p),o=y.createHref(r);s.replaceState(i,"",o),a&&f&&f({action:c,location:y.location,delta:0})},go:e=>s.go(e)};return y}new WeakMap;function m(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let i=N(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let a=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=x(i);o=D(a[s],e,r)}return o}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let s=O([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),v(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:C(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of y(e.path))i(e,t,n);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=y(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var w=/^:[\w-]+$/,b=3,k=2,S=1,E=10,_=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=_),t&&(r+=k),n.filter((e=>!T(e))).reduce(((e,t)=>e+(w.test(t)?b:""===t?S:E)),r)}function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:O([a,u.pathname]),pathnameBase:L(O([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=O([a,u.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];c("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function x(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e){let t=A(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function M(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=f(e):(r={...e},l(!r.pathname||!r.pathname.includes("?"),P("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),P("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),P("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(r),hash:j(i)}}(r,a),u=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var V=["POST","PUT","PATCH","DELETE"],z=(new Set(V),["GET",...V]);new Set(z),Symbol("ResetLoaderData");var H=r.createContext(null);H.displayName="DataRouter";var B=r.createContext(null);B.displayName="DataRouterState";var $=r.createContext({isTransitioning:!1});$.displayName="ViewTransition";var q=r.createContext(new Map);q.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var Y=r.createContext(null);Y.displayName="Navigation";var K=r.createContext(null);K.displayName="Location";var Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var G=r.createContext(null);G.displayName="RouteError";function X(){return null!=r.useContext(K)}function J(){return l(X(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(K).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(e){r.useContext(Y).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=de("useNavigate"),t=fe("useNavigate"),n=r.useRef(!1);ee((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(n.current,Z),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return i}():function(){l(X(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(H),{basename:t,navigator:n}=r.useContext(Y),{matches:i}=r.useContext(Q),{pathname:a}=J(),o=JSON.stringify(R(i)),s=r.useRef(!1);ee((()=>{s.current=!0}));let u=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(s.current,Z),!s.current)return;if("number"===typeof r)return void n.go(r);let l=M(r,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:O([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,a,e]);return u}()}r.createContext(null);function ne(){let{matches:e}=r.useContext(Q),t=e[e.length-1];return t?t.params:{}}function re(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(Q),{pathname:i}=J(),a=JSON.stringify(R(n));return r.useMemo((()=>M(e,JSON.parse(a),i,"path"===t)),[e,a,i,t])}function ie(e,t,n,i){l(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=r.useContext(Y),{matches:s}=r.useContext(Q),u=s[s.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";ge(h,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=J();if(t){let e="string"===typeof t?f(t):t;l("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let w=v.pathname||"/",b=w;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=!o&&n&&n.matches&&n.matches.length>0?n.matches:m(e,{pathname:b});c(g||null!=k,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),c(null==k||void 0!==k[k.length-1].route.element||void 0!==k[k.length-1].route.Component||void 0!==k[k.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=ce(k&&k.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:O([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:O([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,i);return t&&S?r.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function ae(){let e=pe(),t=U(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,s)}var oe=r.createElement(ae,null),se=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(H);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Q.Provider,{value:t},i)}function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=n?.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));l(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,s=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||oe,o&&(s<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(le,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let t=r.useContext(H);return l(t,ue(e)),t}function he(e){let t=r.useContext(B);return l(t,ue(e)),t}function fe(e){let t=function(e){let t=r.useContext(Q);return l(t,ue(e)),t}(e),n=t.matches[t.matches.length-1];return l(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pe(){let e=r.useContext(G),t=he("useRouteError"),n=fe("useRouteError");return void 0!==e?e:t.errors?.[n]}var me={};function ge(e,t,n){t||me[e]||(me[e]=!0,c(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ie(t,void 0,r,n)}));function ve(e){l(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:o,static:s=!1}=e;l(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:o,static:s,future:{}})),[u,o,s]);"string"===typeof i&&(i=f(i));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,y=r.useMemo((()=>{let e=N(h,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:a}}),[u,h,p,m,g,v,a]);return c(null!=y,`<Router basename="${u}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(Y.Provider,{value:d},r.createElement(K.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return ie(be(t),n)}r.Component;function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,a));l(e.type===ve,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),l(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,a)),n.push(o)})),n}var ke="get",Se="application/x-www-form-urlencoded";function Ee(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Te.has(e)?e:(c(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null)}function De(e,t){let n,r,i,a,o;if(Ee(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?N(o,t):null,n=e.getAttribute("method")||ke,i=Ce(e.getAttribute("enctype"))||Se,a=new FormData(e)}else if(function(e){return Ee(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ee(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?N(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||ke,i=Ce(e.getAttribute("formenctype"))||Ce(o.getAttribute("enctype"))||Se,a=new FormData(o,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(Ee(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ke,r=null,i=Se,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function xe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ne(e){return null!=e&&"string"===typeof e.page}function Pe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ae(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Re(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Me(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ne(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function Oe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Le(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===N(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function Fe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(U(t))return r.createElement(je,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(je,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function je(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:a}=e,{routeModules:o}=Be();return o.root?.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,n?r.createElement(Ge,null):null)))}function Ue(e){return!0===e}function Ve(){let e=r.useContext(H);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ze(){let e=r.useContext(B);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var He=r.createContext(void 0);function Be(){let e=r.useContext(He);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function $e(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!Qe)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function We(e){let{page:t,...n}=e,{router:i}=Ve(),a=r.useMemo((()=>m(i.routes,t,i.basename)),[i.routes,t,i.basename]);return a?r.createElement(Ke,{page:t,matches:a,...n}):null}function Ye(e){let{manifest:t,routeModules:n}=Be(),[i,a]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await xe(r,n);return e.links?e.links():[]}return[]})));return Me(r.flat(1).filter(Pe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||a(e)})),()=>{r=!0}}),[e,t,n]),i}function Ke(e){let{page:t,matches:n,...i}=e,a=J(),{manifest:o,routeModules:s}=Be(),{basename:l}=Ve(),{loaderData:c,matches:u}=ze(),d=r.useMemo((()=>Ae(t,n,u,o,a,"data")),[t,n,u,o,a]),h=r.useMemo((()=>Ae(t,n,u,o,a,"assets")),[t,n,u,o,a]),f=r.useMemo((()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=o.routes[t.route.id];n&&n.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&s[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Le(t,l);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,a,o,d,n,t,s]),p=r.useMemo((()=>Re(h,o)),[h,o]),m=Ye(h);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),m.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}He.displayName="FrameworkContext";var Qe=!1;function Ge(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,ssr:a,renderMeta:o}=Be(),{router:s,static:l,staticContext:c}=Ve(),{matches:u}=ze(),d=Ue(a);o&&(o.didRenderScripts=!0);let h=qe(u,null,i);r.useEffect((()=>{Qe=!0}),[]);let f=r.useMemo((()=>{let i=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Ie(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:o,hydrateFallbackModule:s,module:l}=i,c=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...o?[{module:o,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=m(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let a=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:a}}(t,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(a),type:"module",async:!0}))}),[]),p=Qe?[]:t.entry.imports.concat(Re(h,t,{includeHydrateFallback:!0}));return Qe?null:r.createElement(r.Fragment,null,d?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(g=p,[...new Set(g)]).map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var g}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Je&&(window.__reactRouterVersion="7.4.0")}catch(eT){}function Ze(e){let{basename:t,children:n,window:i}=e,a=r.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>o.listen(u)),[o,u]),r.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=r.forwardRef((function(e,t){let n,{onClick:i,discover:a="render",prefetch:o="none",relative:s,reloadDocument:u,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:w}=r.useContext(Y),b="string"===typeof m&&et.test(m),k=!1;if("string"===typeof m&&b&&(n=m,Je))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=N(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(eT){c(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(Y),{hash:a,pathname:o,search:s}=re(e,{relative:t}),c=o;return"/"!==n&&(c="/"===o?n:O([n,o])),i.createHref({pathname:c,search:s,hash:a})}(m,{relative:s}),[E,_,T]=function(e,t){let n=r.useContext(He),[i,a]=r.useState(!1),[o,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{a(!0)},m=()=>{a(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:$e(l,p),onBlur:$e(c,m),onMouseEnter:$e(u,p),onMouseLeave:$e(d,m),onTouchStart:$e(h,p)}]:[!1,f,{}]}(o,y),C=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),c=J(),u=re(e,{relative:o});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:h(c)===h(u);l(e,{replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:s})}}),[c,l,u,n,i,t,e,a,o,s])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:s,viewTransition:v});let D=r.createElement("a",{...y,...T,href:n||S,onClick:k||u?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:Xe(t,_),target:p,"data-discover":b||"render"!==a?void 0:"true"});return E&&!b?r.createElement(r.Fragment,null,D,r.createElement(We,{page:S})):D}));tt.displayName="Link";var nt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:c,viewTransition:u,children:d,...h}=e,f=re(c,{relative:h.relative}),p=J(),m=r.useContext(B),{navigator:g,basename:v}=r.useContext(Y),y=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext($);l(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=at("useViewTransitionState"),a=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=N(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=N(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=I(a.pathname,s)||null!=I(a.pathname,o)}(f)&&!0===u,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&v&&(k=N(k,v)||k);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let E,_=b===w||!o&&b.startsWith(w)&&"/"===b.charAt(S),T=null!=k&&(k===w||!o&&k.startsWith(w)&&"/"===k.charAt(w.length)),C={isActive:_,isPending:T,isTransitioning:y},D=_?n:void 0;E="function"===typeof a?a(C):[a,_?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let x="function"===typeof s?s(C):s;return r.createElement(tt,{...h,"aria-current":D,className:E,ref:t,style:x,to:c,viewTransition:u},"function"===typeof d?d(C):d)}));nt.displayName="NavLink";var rt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:s,state:c,method:u=ke,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=lt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(Y),i=r.useContext(Q);l(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...re(e||".",{relative:t})},s=J();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:O([n,o.pathname]));return h(o)}(d,{relative:p}),b="get"===u.toLowerCase()?"get":"post",k="string"===typeof d&&et.test(d);return r.createElement("form",{ref:t,method:b,action:w,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:s,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":k||"render"!==n?void 0:"true"})}));function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(e){let t=r.useContext(H);return l(t,it(e)),t}rt.displayName="Form";var ot=0,st=()=>`__${String(++ot)}__`;function lt(){let{router:e}=at("useSubmit"),{basename:t}=r.useContext(Y),n=fe("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:s,formData:l,body:c}=De(r,t);if(!1===i.navigate){let t=i.fetcherKey||st();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;var ct={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ut=r.createContext&&r.createContext(ct),dt=["attr","size","title"];function ht(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){return e&&e.map(((e,t)=>r.createElement(e.tag,mt({key:t},e.attr),vt(e.child))))}function yt(e){return t=>r.createElement(wt,ft({attr:mt({},e.attr)},t),vt(e.child))}function wt(e){var t=t=>{var n,{attr:i,size:a,title:o}=e,s=ht(e,dt),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",ft({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:mt(mt({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==ut?r.createElement(ut.Consumer,null,(e=>t(e))):t(ct)}function bt(e){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"},child:[]}]})(e)}function kt(e){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"},child:[]}]})(e)}var St=n(579);const Et=e=>{let{data:t}=e;const[n,i]=(0,r.useState)(0),a=te(),[o,s]=(0,r.useState)([]);(0,r.useEffect)((()=>{s(t)}),[t]);return(0,St.jsxs)("div",{className:"carousel",children:[(0,St.jsx)(bt,{onClick:()=>{i(0===n?t.length-1:n-1)},className:"arrow arrow-left"}),o.map(((e,t)=>(0,St.jsxs)("div",{className:n===t?"slide":"slide slide-hidden",children:[(0,St.jsx)("img",{src:e.imageUrl,alt:e.name||"Trip Image"}),(0,St.jsx)("div",{className:"title",children:e.name}),(0,St.jsx)("button",{className:"view-trip",onClick:()=>a(`/trip/${e.id}/home`),children:"View Trip"})]},t))),(0,St.jsx)(kt,{onClick:()=>{i(n===t.length-1?0:n+1)},className:"arrow arrow-right"}),(0,St.jsx)("span",{className:"indicators",children:o.map(((e,t)=>(0,St.jsx)("button",{className:n===t?"indicator":"indicator indicator-inactive",onClick:()=>i(t)},t)))})]})},_t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_t(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Ct;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dt=function(e){return function(e){const t=_t(e);return Tt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},It=function(e){try{return Tt.decodeString(e,!0)}catch(eT){console.error("base64Decode failed: ",eT)}return null};const xt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Nt=()=>{try{return xt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/cs378-final",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(eT){return}const t=e&&It(e[1]);return t&&JSON.parse(t)})()}catch(eT){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${eT}`)}},Pt=e=>{var t,n;return null===(n=null===(t=Nt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},At=()=>{var e;return null===(e=Nt())||void 0===e?void 0:e.config},Rt=e=>{var t;return null===(t=Nt())||void 0===t?void 0:t[`_${e}`]};class Mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ot(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Lt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ft(){return!function(){var e;const t=null===(e=Nt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(eT){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jt(){try{return"object"===typeof indexedDB}catch(eT){return!1}}function Ut(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Vt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ht,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new Vt(n,a,t)}}const Ht=/\{\$([^}]+)}/g;function Bt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if($t(n)&&$t(a)){if(!Bt(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $t(e){return null!==e&&"object"===typeof e}function qt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Yt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Kt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qt),void 0===r.error&&(r.error=Qt),void 0===r.complete&&(r.complete=Qt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(eT){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(eT){"undefined"!==typeof console&&console.error&&console.error(eT)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Qt(){}function Gt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Xt(e){return e&&e._delegate?e._delegate:e}class Jt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zt="[DEFAULT]";class en{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Mt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(eT){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eT){if(r)return null;throw eT}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zt})}catch(eT){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(eT){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(p_){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Zt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(p_){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return this.component?this.component.multipleInstances?e:Zt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new en(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const nn=[];var rn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rn||(rn={}));const an={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},on=rn.INFO,sn={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},ln=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=sn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...a)};class cn{constructor(e){this.name=e,this._logLevel=on,this._logHandler=ln,this._userLogHandler=null,nn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?an[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...t),this._logHandler(this,rn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...t),this._logHandler(this,rn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rn.INFO,...t),this._logHandler(this,rn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rn.WARN,...t),this._logHandler(this,rn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...t),this._logHandler(this,rn.ERROR,...t)}}let un,dn;const hn=new WeakMap,fn=new WeakMap,pn=new WeakMap,mn=new WeakMap,gn=new WeakMap;let vn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function yn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(dn||(dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kn(this),n),bn(hn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bn(e.apply(kn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(kn(this),t,...r);return pn.set(a,t.sort?t.sort():[t]),bn(a)}}function wn(e){return"function"===typeof e?yn(e):(e instanceof IDBTransaction&&function(e){if(fn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));fn.set(e,t)}(e),t=e,(un||(un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,vn):e);var t}function bn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(bn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&hn.set(t,e)})).catch((()=>{})),gn.set(t,e),t}(e);if(mn.has(e))return mn.get(e);const t=wn(e);return t!==e&&(mn.set(e,t),gn.set(t,e)),t}const kn=e=>gn.get(e);function Sn(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=bn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(bn(o.result),e.oldVersion,e.newVersion,bn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const En=["get","getKey","getAll","getAllKeys","count"],_n=["put","add","delete","clear"],Tn=new Map;function Cn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Tn.get(t))return Tn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_n.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!En.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Tn.set(t,a),a}vn=(e=>({...e,get:(t,n,r)=>Cn(t,n)||e.get(t,n,r),has:(t,n)=>!!Cn(t,n)||e.has(t,n)}))(vn);class Dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const In="@firebase/app",xn="0.11.3",Nn=new cn("@firebase/app"),Pn="@firebase/app-compat",An="@firebase/analytics-compat",Rn="@firebase/analytics",Mn="@firebase/app-check-compat",On="@firebase/app-check",Ln="@firebase/auth",Fn="@firebase/auth-compat",jn="@firebase/database",Un="@firebase/data-connect",Vn="@firebase/database-compat",zn="@firebase/functions",Hn="@firebase/functions-compat",Bn="@firebase/installations",$n="@firebase/installations-compat",qn="@firebase/messaging",Wn="@firebase/messaging-compat",Yn="@firebase/performance",Kn="@firebase/performance-compat",Qn="@firebase/remote-config",Gn="@firebase/remote-config-compat",Xn="@firebase/storage",Jn="@firebase/storage-compat",Zn="@firebase/firestore",er="@firebase/vertexai",tr="@firebase/firestore-compat",nr="firebase",rr="[DEFAULT]",ir={[In]:"fire-core",[Pn]:"fire-core-compat",[Rn]:"fire-analytics",[An]:"fire-analytics-compat",[On]:"fire-app-check",[Mn]:"fire-app-check-compat",[Ln]:"fire-auth",[Fn]:"fire-auth-compat",[jn]:"fire-rtdb",[Un]:"fire-data-connect",[Vn]:"fire-rtdb-compat",[zn]:"fire-fn",[Hn]:"fire-fn-compat",[Bn]:"fire-iid",[$n]:"fire-iid-compat",[qn]:"fire-fcm",[Wn]:"fire-fcm-compat",[Yn]:"fire-perf",[Kn]:"fire-perf-compat",[Qn]:"fire-rc",[Gn]:"fire-rc-compat",[Xn]:"fire-gcs",[Jn]:"fire-gcs-compat",[Zn]:"fire-fst",[tr]:"fire-fst-compat",[er]:"fire-vertex","fire-js":"fire-js",[nr]:"fire-js-all"},ar=new Map,or=new Map,sr=new Map;function lr(e,t){try{e.container.addComponent(t)}catch(eT){Nn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,eT)}}function cr(e){const t=e.name;if(sr.has(t))return Nn.debug(`There were multiple attempts to register component ${t}.`),!1;sr.set(t,e);for(const n of ar.values())lr(n,e);for(const n of or.values())lr(n,e);return!0}function ur(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const hr=new zt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const pr="11.5.0";function mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:rr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=At()),!n)throw hr.create("no-options");const a=ar.get(i);if(a){if(Bt(n,a.options)&&Bt(r,a.config))return a;throw hr.create("duplicate-app",{appName:i})}const o=new tn(i);for(const l of sr.values())o.addComponent(l);const s=new fr(n,r,o);return ar.set(i,s),s}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;const t=ar.get(e);if(!t&&e===rr&&At())return mr();if(!t)throw hr.create("no-app",{appName:e});return t}function vr(e,t,n){var r;let i=null!==(r=ir[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Nn.warn(e.join(" "))}cr(new Jt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const yr="firebase-heartbeat-store";let wr=null;function br(){return wr||(wr=Sn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(yr)}catch(eT){console.warn(eT)}}}).catch((e=>{throw hr.create("idb-open",{originalErrorMessage:e.message})}))),wr}async function kr(e,t){try{const n=(await br()).transaction(yr,"readwrite"),r=n.objectStore(yr);await r.put(t,Sr(e)),await n.done}catch(eT){if(eT instanceof Vt)Nn.warn(eT.message);else{const t=hr.create("idb-set",{originalErrorMessage:null===eT||void 0===eT?void 0:eT.message});Nn.warn(t.message)}}}function Sr(e){return`${e.name}!${e.options.appId}`}class Er{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Tr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_r();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(eT){Nn.warn(eT)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_r(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Cr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(eT){return Nn.warn(eT),""}}}function _r(){return(new Date).toISOString().substring(0,10)}class Tr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!jt()&&Ut().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await br()).transaction(yr),n=await t.objectStore(yr).get(Sr(e));return await t.done,n}catch(eT){if(eT instanceof Vt)Nn.warn(eT.message);else{const t=hr.create("idb-get",{originalErrorMessage:null===eT||void 0===eT?void 0:eT.message});Nn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Cr(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}var Dr;Dr="",cr(new Jt("platform-logger",(e=>new Dn(e)),"PRIVATE")),cr(new Jt("heartbeat",(e=>new Er(e)),"PRIVATE")),vr(In,xn,Dr),vr(In,xn,"esm2017"),vr("fire-js","");vr("firebase","11.5.0","app");const Ir="@firebase/installations",xr="0.6.13",Nr=1e4,Pr=`w:${xr}`,Ar="FIS_v2",Rr=36e5,Mr=new zt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Or(e){return e instanceof Vt&&e.code.includes("request-failed")}function Lr(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Fr(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function jr(e,t){const n=(await t.json()).error;return Mr.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ur(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vr(e,t){let{refreshToken:n}=t;const r=Ur(e);return r.append("Authorization",function(e){return`${Ar} ${e}`}(n)),r}async function zr(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Hr(e){return new Promise((t=>{setTimeout(t,e)}))}const Br=/^[cdef][\w-]{21}$/;function $r(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Br.test(t)?t:""}catch(p_){return""}}function qr(e){return`${e.appName}!${e.appId}`}const Wr=new Map;function Yr(e,t){const n=qr(e);Kr(n,t),function(e,t){const n=Gr();n&&n.postMessage({key:e,fid:t});Xr()}(n,t)}function Kr(e,t){const n=Wr.get(e);if(n)for(const r of n)r(t)}let Qr=null;function Gr(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=e=>{Kr(e.data.key,e.data.fid)}),Qr}function Xr(){0===Wr.size&&Qr&&(Qr.close(),Qr=null)}const Jr="firebase-installations-store";let Zr=null;function ei(){return Zr||(Zr=Sn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Jr)}})),Zr}async function ti(e,t){const n=qr(e),r=(await ei()).transaction(Jr,"readwrite"),i=r.objectStore(Jr),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Yr(e,t.fid),t}async function ni(e){const t=qr(e),n=(await ei()).transaction(Jr,"readwrite");await n.objectStore(Jr).delete(t),await n.done}async function ri(e,t){const n=qr(e),r=(await ei()).transaction(Jr,"readwrite"),i=r.objectStore(Jr),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Yr(e,o.fid),o}async function ii(e){let t;const n=await ri(e.appConfig,(n=>{const r=function(e){const t=e||{fid:$r(),registrationStatus:0};return si(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Mr.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Lr(n),o=Ur(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Ar,appId:n.appId,sdkVersion:Pr},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await zr((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Fr(e.authToken)}}throw await jr("Create Installation",u)}(e,t);return ti(e.appConfig,n)}catch(eT){throw Or(eT)&&409===eT.customData.serverCode?await ni(e.appConfig):await ti(e.appConfig,{fid:t.fid,registrationStatus:0}),eT}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ai(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ai(e){let t=await oi(e.appConfig);for(;1===t.registrationStatus;)await Hr(100),t=await oi(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ii(e);return n||t}return t}function oi(e){return ri(e,(e=>{if(!e)throw Mr.create("installation-not-found");return si(e)}))}function si(e){return 1===(t=e).registrationStatus&&t.registrationTime+Nr<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function li(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Lr(e)}/${n}/authTokens:generate`}(n,t),a=Vr(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:Pr,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await zr((()=>fetch(i,l)));if(c.ok){return Fr(await c.json())}throw await jr("Generate Auth Token",c)}async function ci(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ri(e.appConfig,(r=>{if(!di(r))throw Mr.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Rr}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ui(e.appConfig);for(;1===n.authToken.requestStatus;)await Hr(100),n=await ui(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ci(e,t):r}(e,n),r;{if(!navigator.onLine)throw Mr.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await li(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ti(e.appConfig,r),n}catch(eT){if(!Or(eT)||401!==eT.customData.serverCode&&404!==eT.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ti(e.appConfig,n)}else await ni(e.appConfig);throw eT}}(e,n),n}}));return t?await t:r.authToken}function ui(e){return ri(e,(e=>{if(!di(e))throw Mr.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Nr<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function di(e){return void 0!==e&&2===e.registrationStatus}async function hi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ii(e);t&&await t}(n);return(await ci(n,t)).token}function fi(e){return Mr.create("missing-app-config-values",{valueName:e})}const pi="installations",mi=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw fi("App Configuration");if(!e.name)throw fi("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw fi(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ur(t,"heartbeat"),_delete:()=>Promise.resolve()}},gi=e=>{const t=ur(e.getProvider("app").getImmediate(),pi).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ii(t);return r?r.catch(console.error):ci(t).catch(console.error),n.fid}(t),getToken:e=>hi(t,e)}};cr(new Jt(pi,mi,"PUBLIC")),cr(new Jt("installations-internal",gi,"PRIVATE")),vr(Ir,xr),vr(Ir,xr,"esm2017");const vi="analytics",yi="https://www.googletagmanager.com/gtag/js",wi=new cn("@firebase/analytics"),bi=new zt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ki(e){if(!e.startsWith(yi)){const t=bi.create("invalid-gtag-resource",{gtagURL:e});return wi.warn(t.message),""}return e}function Si(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Ei(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:ki}),r=document.createElement("script"),i=`${yi}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function _i(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Si(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(eT){wi.error(eT)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await Si(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(eT){wi.error(eT)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(eT){wi.error(eT)}}}const Ti=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ci(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw bi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw bi.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new xi;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),Ii({appId:r,apiKey:i,measurementId:a},o,s,t)}async function Ii(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ti;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(bi.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(eT){if(l)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===eT||void 0===eT?void 0:eT.message}]`),{appId:s,measurementId:l};throw eT}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ci(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw bi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return a.deleteThrottleMetadata(s),t}catch(eT){const r=eT;if(!function(e){if(!(e instanceof Vt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),l)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:s,measurementId:l};throw eT}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?Gt(i,a.intervalMillis,30):Gt(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(s,u),wi.debug(`Calling attemptFetch again in ${c} millis`),Ii(e,u,n,a)}}class xi{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Ni,Pi;function Ai(e){Pi=e}function Ri(e){Ni=e}async function Mi(e,t,n,r,i,a,o){var s;const l=Di(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>wi.error(e))),t.push(l);const c=async function(){if(!jt())return wi.warn(bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ut()}catch(eT){return wi.warn(bi.create("indexeddb-unavailable",{errorInfo:null===eT||void 0===eT?void 0:eT.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(yi)&&n.src.includes(e))return n;return null})(a)||Ei(a,u.measurementId),Pi&&(i("consent","default",Pi),Ai(void 0)),i("js",new Date);const h=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Ni&&(i("set",Ni),Ri(void 0)),u.measurementId}class Oi{constructor(e){this.app=e}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},Fi=[];const ji={};let Ui,Vi,zi="dataLayer",Hi="gtag",Bi=!1;function $i(){const e=[];if(Lt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=bi.create("invalid-analytics-context",{errorInfo:t});wi.warn(n.message)}}function qi(e,t,n){$i();const r=e.options.appId;if(!r)throw bi.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw bi.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[r])throw bi.create("already-exists",{id:r});if(!Bi){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(zi);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=_i(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Li,Fi,ji,zi,Hi);Vi=e,Ui=t,Bi=!0}Li[r]=Mi(e,Fi,ji,t,Ui,zi,n);return new Oi(e)}function Wi(e,t,n,r){e=Xt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Vi,Li[e.app.options.appId],t,n,r).catch((e=>wi.error(e)))}const Yi="@firebase/analytics",Ki="0.10.12";cr(new Jt(vi,((e,t)=>{let{options:n}=t;return qi(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),cr(new Jt("analytics-internal",(function(e){try{const t=e.getProvider(vi).getImmediate();return{logEvent:(e,n,r)=>Wi(t,e,n,r)}}catch(eT){throw bi.create("interop-component-reg-failed",{reason:eT})}}),"PRIVATE")),vr(Yi,Ki),vr(Yi,Ki,"esm2017");var Qi,Gi,Xi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ji={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gi=Ji.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Qi=Ji.Integer=r}).apply("undefined"!==typeof Xi?Xi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zi,ea,ta,na,ra,ia,aa,oa,sa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},la={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof sa&&sa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function _(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let D,I=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);D=()=>{e.then(P)}};var P=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(n){E(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function H(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=B(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)W(e,t[a],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):Y(e,t,n,!1,r,i)}function Y(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[$]=l=new z(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):Y(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(a=e.g[t],n,r,i))&&(V(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])H(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(H(n,e),0==n.h&&(n.src=null,t[$]=null)):V(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;k(t=new R(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&H(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&G(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function we(){R.call(this,"c")}d(ye,R),d(we,R);var be={},ke=null;function Se(){return ke=ke||new ne}function Ee(e){R.call(this,be.La,e)}function _e(e){const t=Se();re(t,new Ee(t))}function Te(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Se();re(t,new Te(t,e))}function De(e,t){R.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function xe(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Ee,R),be.STAT_EVENT="statevent",d(Te,R),be.Ma="timingevent",d(De,R),xe.prototype.xa=function(){this.g=!1},xe.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Pe=new Me;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Be(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=W(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function He(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ye(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Gt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(qe(s),Be(s)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||_e(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var a=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ye(this),We(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ye(this),We(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=He(this,s),e==je){4==h&&(this.s=4,Ce(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ce(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),an(d),d.M=!0,Ce(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),Ye(this),We(this)}else Ne(this.i,this.l,s,null),Ke(this,s);4==h&&Ye(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ye(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ye(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),Ce(17)),Ye(this),this.s=2,We(this)):$e(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ge.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return St(e),t=Ct(e,t),e.g.has(t)}function Tt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function It(){this.g=new fe}function xt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(eT){throw t.push(r+"type="+encodeURIComponent("_badmap")),eT}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){St(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,_t(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new Pt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Mt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Bt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ht(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!jt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",zt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(eT){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ua){return null}}function Yt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yt("baseRetryDelayMs",5e3,e),this.cb=Yt("retryDelaySeedMs",1e4,e),this.Wa=Yt("forwardChannelMaxRetries",2,e),this.wa=Yt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}dn(e)}function Gt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Xt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;D||N(),I||(D(),I=!0),x.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{xt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;D||N(),I||(D(),I=!0),x.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new De(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new xe;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Dt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Dt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ht(this):this.bb())},e.bb=function(){Ht(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let a=this.o;if(this.S&&(a?(a=w(a),k(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Ot(a)))+"&"+t:this.m&&Lt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Gt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,we),d(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new vn(e))},wn.prototype.sa=function(e){re(this.g,new yn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,oa=la.createWebChannelTransport=function(){return new mn},aa=la.getStatEventTarget=function(){return Se()},ia=la.Event=be,ra=la.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,na=la.ErrorCode=Ae,Re.COMPLETE="complete",ta=la.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ea=la.WebChannel=ge,la.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Zi=la.XhrIo=Ft}).apply("undefined"!==typeof sa?sa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ca="@firebase/firestore",ua="4.7.10";class da{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}da.UNAUTHENTICATED=new da(null),da.GOOGLE_CREDENTIALS=new da("google-credentials-uid"),da.FIRST_PARTY=new da("first-party-uid"),da.MOCK_USER=new da("mock-user");let ha="11.5.0";const fa=new cn("@firebase/firestore");function pa(){return fa.logLevel}function ma(e){if(fa.logLevel<=rn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ya);fa.debug(`Firestore (${ha}): ${e}`,...i)}}function ga(e){if(fa.logLevel<=rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ya);fa.error(`Firestore (${ha}): ${e}`,...i)}}function va(e){if(fa.logLevel<=rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ya);fa.warn(`Firestore (${ha}): ${e}`,...i)}}function ya(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wa(){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ga(e),new Error(e)}function ba(e,t){e||wa()}function ka(e,t){return e}const Sa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ea extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _a{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ta{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ca{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(da.UNAUTHENTICATED)))}shutdown(){}}class Da{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ia{constructor(e){this.t=e,this.currentUser=da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ba(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _a,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ma("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ma("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _a)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ma("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ba("string"==typeof t.accessToken),new Ta(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ba(null===e||"string"==typeof e),new da(e)}}class xa{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=da.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Na{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new xa(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(da.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aa{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ba(void 0===this.o);const n=e=>{null!=e.error&&ma("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,ma("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ma("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ma("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Pa(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ba("string"==typeof e.token),this.R=e.token,new Pa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ra(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ma(){return new TextEncoder}class Oa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ra(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function La(e,t){return e<t?-1:e>t?1:0}function Fa(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return La(r,i);{const a=Ma(),o=Ua(a.encode(ja(e,n)),a.encode(ja(t,n)));return 0!==o?o:La(r,i)}}n+=r>65535?2:1}return La(e.length,t.length)}function ja(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ua(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return La(e[n],t[n]);return La(e.length,t.length)}function Va(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const za=-62135596800,Ha=1e6;class Ba{static now(){return Ba.fromMillis(Date.now())}static fromDate(e){return Ba.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ha);return new Ba(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ea(Sa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ea(Sa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<za)throw new Ea(Sa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ea(Sa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ha}_compareTo(e){return this.seconds===e.seconds?La(this.nanoseconds,e.nanoseconds):La(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-za;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $a{static fromTimestamp(e){return new $a(e)}static min(){return new $a(new Ba(0,0))}static max(){return new $a(new Ba(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qa="__name__";class Wa{constructor(e,t,n){void 0===t?t=0:t>e.length&&wa(),void 0===n?n=e.length-t:n>e.length-t&&wa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Wa.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return La(e.length,t.length)}static compareSegments(e,t){const n=Wa.isNumericId(e),r=Wa.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Wa.extractNumericId(e).compare(Wa.extractNumericId(t)):Fa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Ya extends Wa{construct(e,t,n){return new Ya(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ea(Sa.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ya(e)}static emptyPath(){return new Ya([])}}const Ka=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qa extends Wa{construct(e,t,n){return new Qa(e,t,n)}static isValidIdentifier(e){return Ka.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===qa}static keyField(){return new Qa([qa])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ea(Sa.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ea(Sa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ea(Sa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Ea(Sa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qa(t)}static emptyPath(){return new Qa([])}}class Ga{constructor(e){this.path=e}static fromPath(e){return new Ga(Ya.fromString(e))}static fromName(e){return new Ga(Ya.fromString(e).popFirst(5))}static empty(){return new Ga(Ya.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ya.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ya.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ga(new Ya(e.slice()))}}const Xa=-1;class Ja{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ja.UNKNOWN_ID=-1;function Za(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$a.fromTimestamp(1e9===r?new Ba(n+1,0):new Ba(n,r));return new to(i,Ga.empty(),t)}function eo(e){return new to(e.readTime,e.key,Xa)}class to{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new to($a.min(),Ga.empty(),Xa)}static max(){return new to($a.max(),Ga.empty(),Xa)}}function no(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ga.comparator(e.documentKey,t.documentKey),0!==n?n:La(e.largestBatchId,t.largestBatchId))}const ro="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class io{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ao(e){if(e.code!==Sa.FAILED_PRECONDITION||e.message!==ro)throw e;ma("LocalStore","Unexpectedly lost primary lease")}class oo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oo(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oo?t:oo.resolve(t)}catch(e){return oo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oo.reject(t)}static resolve(e){return new oo(((t,n)=>{t(e)}))}static reject(e){return new oo(((t,n)=>{n(e)}))}static waitFor(e){return new oo(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=oo.resolve(!1);for(const n of e)t=t.next((e=>e?oo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new oo(((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++o,o===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new oo(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function so(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(e){return"IndexedDbTransactionError"===e.name}class co{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}co.ae=-1;const uo=-1;function ho(e){return null==e}function fo(e){return 0===e&&1/e==-1/0}function po(e){return"number"==typeof e&&Number.isInteger(e)&&!fo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const mo="\x01";function go(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=yo(t)),t=vo(e.get(n),t);return yo(t)}function vo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case mo:n+="\x01\x11";break;default:n+=t}}return n}function yo(e){return e+mo+"\x01"}const wo="remoteDocuments",bo="owner",ko="mutationQueues",So="mutations";const Eo="documentMutations",_o="remoteDocumentsV14",To="remoteDocumentGlobal",Co="targets",Do="targetDocuments",Io="targetGlobal",xo="collectionParents",No="clientMetadata",Po="bundles",Ao="namedQueries",Ro="indexConfiguration",Mo="indexState",Oo="indexEntries",Lo="documentOverlays",Fo="globals",jo=[ko,So,Eo,wo,Co,bo,Io,Do,No,To,xo,Po,Ao],Uo=[ko,So,Eo,_o,Co,bo,Io,Do,No,To,xo,Po,Ao,Lo],Vo=Uo,zo=[...Vo,Ro,Mo,Oo];function Ho(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $o(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class qo{constructor(e,t){this.comparator=e,this.root=t||Yo.EMPTY}insert(e,t){return new qo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yo.BLACK,null,null))}remove(e){return new qo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wo(this.root,e,this.comparator,!0)}}class Wo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Yo.RED,this.left=null!=r?r:Yo.EMPTY,this.right=null!=i?i:Yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Yo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wa();if(this.right.isRed())throw wa();const e=this.left.check();if(e!==this.right.check())throw wa();return e+(this.isRed()?0:1)}}Yo.EMPTY=null,Yo.RED=!0,Yo.BLACK=!1,Yo.EMPTY=new class{constructor(){this.size=0}get key(){throw wa()}get value(){throw wa()}get color(){throw wa()}get left(){throw wa()}get right(){throw wa()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Yo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ko{constructor(e){this.comparator=e,this.data=new qo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qo(this.data.getIterator())}getIteratorFrom(e){return new Qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ko))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ko(this.comparator);return t.data=e,t}}class Qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Go{constructor(e){this.fields=e,e.sort(Qa.comparator)}static empty(){return new Go([])}unionWith(e){let t=new Ko(Qa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xo("Invalid base64 string: "+e):e}}(e);return new Jo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return La(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jo.EMPTY_BYTE_STRING=new Jo("");const Zo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(e){if(ba(!!e),"string"==typeof e){let t=0;const n=Zo.exec(e);if(ba(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ts(e.seconds),nanos:ts(e.nanos)}}function ts(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ns(e){return"string"==typeof e?Jo.fromBase64String(e):Jo.fromUint8Array(e)}const rs="server_timestamp",is="__type__",as="__previous_value__",os="__local_write_time__";function ss(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[is])||void 0===n?void 0:n.stringValue)===rs}function ls(e){const t=e.mapValue.fields[as];return ss(t)?ls(t):t}function cs(e){const t=es(e.mapValue.fields[os].timestampValue);return new Ba(t.seconds,t.nanos)}class us{constructor(e,t,n,r,i,a,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}const ds="(default)";class hs{constructor(e,t){this.projectId=e,this.database=t||ds}static empty(){return new hs("","")}get isDefaultDatabase(){return this.database===ds}isEqual(e){return e instanceof hs&&e.projectId===this.projectId&&e.database===this.database}}const fs="__type__",ps="__max__",ms={mapValue:{fields:{__type__:{stringValue:ps}}}},gs="__vector__",vs="value";function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ss(e)?4:Ms(e)?9007199254740991:As(e)?10:11:wa()}function ws(e,t){if(e===t)return!0;const n=ys(e);if(n!==ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cs(e).isEqual(cs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=es(e.timestampValue),r=es(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ns(e.bytesValue).isEqual(ns(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ts(e.geoPointValue.latitude)===ts(t.geoPointValue.latitude)&&ts(e.geoPointValue.longitude)===ts(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ts(e.integerValue)===ts(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ts(e.doubleValue),r=ts(t.doubleValue);return n===r?fo(n)===fo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Va(e.arrayValue.values||[],t.arrayValue.values||[],ws);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ho(n)!==Ho(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ws(n[i],r[i])))return!1;return!0}(e,t);default:return wa()}}function bs(e,t){return void 0!==(e.values||[]).find((e=>ws(e,t)))}function ks(e,t){if(e===t)return 0;const n=ys(e),r=ys(t);if(n!==r)return La(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return La(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ts(e.integerValue||e.doubleValue),r=ts(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ss(e.timestampValue,t.timestampValue);case 4:return Ss(cs(e),cs(t));case 5:return Fa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ns(e),r=ns(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=La(n[i],r[i]);if(0!==e)return e}return La(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=La(ts(e.latitude),ts(t.latitude));return 0!==n?n:La(ts(e.longitude),ts(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Es(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[vs])||void 0===n?void 0:n.arrayValue,c=null===(r=s[vs])||void 0===r?void 0:r.arrayValue,u=La((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Es(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ms.mapValue&&t===ms.mapValue)return 0;if(e===ms.mapValue)return 1;if(t===ms.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Fa(r[o],a[o]);if(0!==e)return e;const t=ks(n[r[o]],i[a[o]]);if(0!==t)return t}return La(r.length,a.length)}(e.mapValue,t.mapValue);default:throw wa()}}function Ss(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return La(e,t);const n=es(e),r=es(t),i=La(n.seconds,r.seconds);return 0!==i?i:La(n.nanos,r.nanos)}function Es(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ks(n[i],r[i]);if(e)return e}return La(n.length,r.length)}function _s(e){return Ts(e)}function Ts(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=es(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ns(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ga.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ts(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ts(e.fields[i])}`;return n+"}"}(e.mapValue):wa()}function Cs(e){switch(ys(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ls(e);return t?16+Cs(t):16;case 5:return 2*e.stringValue.length;case 6:return ns(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Cs(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Bo(e.fields,((e,n)=>{t+=e.length+Cs(n)})),t}(e.mapValue);default:throw wa()}}function Ds(e){return!!e&&"integerValue"in e}function Is(e){return!!e&&"arrayValue"in e}function xs(e){return!!e&&"nullValue"in e}function Ns(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ps(e){return!!e&&"mapValue"in e}function As(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[fs])||void 0===n?void 0:n.stringValue)===gs}function Rs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Rs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ms(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ps}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ps(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(t)}setAll(e){let t=Qa.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Rs(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ps(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ps(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Os(Rs(this.value))}}function Ls(e){const t=[];return Bo(e.fields,((e,n)=>{const r=new Qa([e]);if(Ps(n)){const e=Ls(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Go(t)}class Fs{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Fs(e,0,$a.min(),$a.min(),$a.min(),Os.empty(),0)}static newFoundDocument(e,t,n,r){return new Fs(e,1,t,$a.min(),n,r,0)}static newNoDocument(e,t){return new Fs(e,2,t,$a.min(),$a.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new Fs(e,3,t,$a.min(),$a.min(),Os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($a.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$a.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class js{constructor(e,t){this.position=e,this.inclusive=t}}function Us(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ga.comparator(Ga.fromName(o.referenceValue),n.key):ks(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ws(e.position[n],t.position[n]))return!1;return!0}class zs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Hs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bs{}class $s extends Bs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Js(e,t,n):"array-contains"===t?new nl(e,n):"in"===t?new rl(e,n):"not-in"===t?new il(e,n):"array-contains-any"===t?new al(e,n):new $s(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zs(e,n):new el(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ks(t,this.value)):null!==t&&ys(this.value)===ys(t)&&this.matchesComparison(ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wa()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends Bs{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new qs(e,t)}matches(e){return Ws(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ws(e){return"and"===e.op}function Ys(e){return Ks(e)&&Ws(e)}function Ks(e){for(const t of e.filters)if(t instanceof qs)return!1;return!0}function Qs(e){if(e instanceof $s)return e.field.canonicalString()+e.op.toString()+_s(e.value);if(Ys(e))return e.filters.map((e=>Qs(e))).join(",");{const t=e.filters.map((e=>Qs(e))).join(",");return`${e.op}(${t})`}}function Gs(e,t){return e instanceof $s?function(e,t){return t instanceof $s&&e.op===t.op&&e.field.isEqual(t.field)&&ws(e.value,t.value)}(e,t):e instanceof qs?function(e,t){return t instanceof qs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Gs(n,t.filters[r])),!0)}(e,t):void wa()}function Xs(e){return e instanceof $s?function(e){return`${e.field.canonicalString()} ${e.op} ${_s(e.value)}`}(e):e instanceof qs?function(e){return e.op.toString()+" {"+e.getFilters().map(Xs).join(" ,")+"}"}(e):"Filter"}class Js extends $s{constructor(e,t,n){super(e,t,n),this.key=Ga.fromName(n.referenceValue)}matches(e){const t=Ga.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zs extends $s{constructor(e,t){super(e,"in",t),this.keys=tl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class el extends $s{constructor(e,t){super(e,"not-in",t),this.keys=tl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ga.fromName(e.referenceValue)))}class nl extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Is(t)&&bs(t.arrayValue,this.value)}}class rl extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bs(this.value.arrayValue,t)}}class il extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bs(this.value.arrayValue,t)}}class al extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Is(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>bs(this.value.arrayValue,e)))}}class ol{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.le=null}}function sl(e){return new ol(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ll(e){const t=ka(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Qs(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ho(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>_s(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>_s(e))).join(",")),t.le=e}return t.le}function cl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Hs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vs(e.startAt,t.startAt)&&Vs(e.endAt,t.endAt)}function ul(e){return Ga.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hl(e,t,n,r,i,a,o,s){return new dl(e,t,n,r,i,a,o,s)}function fl(e){return new dl(e)}function pl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ml(e){return null!==e.collectionGroup}function gl(e){const t=ka(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ko(Qa.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new zs(r,n))})),e.has(Qa.keyField().canonicalString())||t.he.push(new zs(Qa.keyField(),n))}return t.he}function vl(e){const t=ka(e);return t.Pe||(t.Pe=yl(t,gl(e))),t.Pe}function yl(e,t){if("F"===e.limitType)return sl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new zs(e.field,t)}));const n=e.endAt?new js(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new js(e.startAt.position,e.startAt.inclusive):null;return sl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function wl(e,t,n){return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bl(e,t){return cl(vl(e),vl(t))&&e.limitType===t.limitType}function kl(e){return`${ll(vl(e))}|lt:${e.limitType}`}function Sl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Xs(e))).join(", ")}]`),ho(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>_s(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>_s(e))).join(",")),`Target(${t})`}(vl(e))}; limitType=${e.limitType})`}function El(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ga.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of gl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Us(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Us(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gl(e),t))}(e,t)}function _l(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tl(e){return(t,n)=>{let r=!1;for(const i of gl(e)){const e=Cl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Cl(e,t,n){const r=e.field.isKeyField()?Ga.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ks(r,i):wa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wa()}}class Dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return $o(this.inner)}size(){return this.innerSize}}const Il=new qo(Ga.comparator);function xl(){return Il}const Nl=new qo(Ga.comparator);function Pl(){let e=Nl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Al(e){let t=Nl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Rl(){return Ol()}function Ml(){return Ol()}function Ol(){return new Dl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ll=new qo(Ga.comparator),Fl=new Ko(Ga.comparator);function jl(){let e=Fl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ul=new Ko(La);function Vl(){return Ul}function zl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fo(t)?"-0":t}}function Hl(e){return{integerValue:""+e}}function Bl(e,t){return po(t)?Hl(t):zl(e,t)}class $l{constructor(){this._=void 0}}function ql(e,t,n){return e instanceof Kl?function(e,t){const n={fields:{[is]:{stringValue:rs},[os]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ss(t)&&(t=ls(t)),t&&(n.fields[as]=t),{mapValue:n}}(n,t):e instanceof Ql?Gl(e,t):e instanceof Xl?Jl(e,t):function(e,t){const n=Yl(e,t),r=ec(n)+ec(e.Ie);return Ds(n)&&Ds(e.Ie)?Hl(r):zl(e.serializer,r)}(e,t)}function Wl(e,t,n){return e instanceof Ql?Gl(e,t):e instanceof Xl?Jl(e,t):n}function Yl(e,t){return e instanceof Zl?function(e){return Ds(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Kl extends $l{}class Ql extends $l{constructor(e){super(),this.elements=e}}function Gl(e,t){const n=tc(t);for(const r of e.elements)n.some((e=>ws(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Xl extends $l{constructor(e){super(),this.elements=e}}function Jl(e,t){let n=tc(t);for(const r of e.elements)n=n.filter((e=>!ws(e,r)));return{arrayValue:{values:n}}}class Zl extends $l{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ec(e){return ts(e.integerValue||e.doubleValue)}function tc(e){return Is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nc{constructor(e,t){this.version=e,this.transformResults=t}}class rc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rc}static exists(e){return new rc(void 0,e)}static updateTime(e){return new rc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ac{}function oc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gc(e.key,rc.none()):new dc(e.key,e.data,rc.none());{const n=e.data,r=Os.empty();let i=new Ko(Qa.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hc(e.key,r,new Go(i.toArray()),rc.none())}}function sc(e,t,n){e instanceof dc?function(e,t,n){const r=e.value.clone(),i=pc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hc?function(e,t,n){if(!ic(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=pc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lc(e,t,n,r){return e instanceof dc?function(e,t,n,r){if(!ic(e.precondition,t))return n;const i=e.value.clone(),a=mc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hc?function(e,t,n,r){if(!ic(e.precondition,t))return n;const i=mc(e.fieldTransforms,r,t),a=t.data;return a.setAll(fc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ic(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Yl(r.transform,e||null);null!=i&&(null===n&&(n=Os.empty()),n.set(r.field,i))}return n||null}function uc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Va(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ql&&t instanceof Ql||e instanceof Xl&&t instanceof Xl?Va(e.elements,t.elements,ws):e instanceof Zl&&t instanceof Zl?ws(e.Ie,t.Ie):e instanceof Kl&&t instanceof Kl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dc extends ac{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hc extends ac{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function pc(e,t,n){const r=new Map;ba(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wl(o,s,n[i]))}return r}function mc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,ql(e,a,t))}return r}class gc extends ac{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vc extends ac{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&sc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ml();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=oc(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument($a.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),jl())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,((e,t)=>uc(e,t)))&&Va(this.baseMutations,e.baseMutations,((e,t)=>uc(e,t)))}}class wc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ba(e.mutations.length===n.length);let r=Ll;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new wc(e,t,n,r)}}class bc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Sc,Ec;function _c(e){switch(e){case Sa.OK:return wa();case Sa.CANCELLED:case Sa.UNKNOWN:case Sa.DEADLINE_EXCEEDED:case Sa.RESOURCE_EXHAUSTED:case Sa.INTERNAL:case Sa.UNAVAILABLE:case Sa.UNAUTHENTICATED:return!1;case Sa.INVALID_ARGUMENT:case Sa.NOT_FOUND:case Sa.ALREADY_EXISTS:case Sa.PERMISSION_DENIED:case Sa.FAILED_PRECONDITION:case Sa.ABORTED:case Sa.OUT_OF_RANGE:case Sa.UNIMPLEMENTED:case Sa.DATA_LOSS:return!0;default:return wa()}}function Tc(e){if(void 0===e)return ga("GRPC error has no .code"),Sa.UNKNOWN;switch(e){case Sc.OK:return Sa.OK;case Sc.CANCELLED:return Sa.CANCELLED;case Sc.UNKNOWN:return Sa.UNKNOWN;case Sc.DEADLINE_EXCEEDED:return Sa.DEADLINE_EXCEEDED;case Sc.RESOURCE_EXHAUSTED:return Sa.RESOURCE_EXHAUSTED;case Sc.INTERNAL:return Sa.INTERNAL;case Sc.UNAVAILABLE:return Sa.UNAVAILABLE;case Sc.UNAUTHENTICATED:return Sa.UNAUTHENTICATED;case Sc.INVALID_ARGUMENT:return Sa.INVALID_ARGUMENT;case Sc.NOT_FOUND:return Sa.NOT_FOUND;case Sc.ALREADY_EXISTS:return Sa.ALREADY_EXISTS;case Sc.PERMISSION_DENIED:return Sa.PERMISSION_DENIED;case Sc.FAILED_PRECONDITION:return Sa.FAILED_PRECONDITION;case Sc.ABORTED:return Sa.ABORTED;case Sc.OUT_OF_RANGE:return Sa.OUT_OF_RANGE;case Sc.UNIMPLEMENTED:return Sa.UNIMPLEMENTED;case Sc.DATA_LOSS:return Sa.DATA_LOSS;default:return wa()}}(Ec=Sc||(Sc={}))[Ec.OK=0]="OK",Ec[Ec.CANCELLED=1]="CANCELLED",Ec[Ec.UNKNOWN=2]="UNKNOWN",Ec[Ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ec[Ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ec[Ec.NOT_FOUND=5]="NOT_FOUND",Ec[Ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ec[Ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ec[Ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ec[Ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ec[Ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ec[Ec.ABORTED=10]="ABORTED",Ec[Ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ec[Ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ec[Ec.INTERNAL=13]="INTERNAL",Ec[Ec.UNAVAILABLE=14]="UNAVAILABLE",Ec[Ec.DATA_LOSS=15]="DATA_LOSS";let Cc=null;const Dc=new Qi([4294967295,4294967295],0);function Ic(e){const t=Ma().encode(e),n=new Gi;return n.update(t),new Uint8Array(n.digest())}function xc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Qi([n,r],0),new Qi([i,a],0)]}class Nc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(n<0)throw new Pc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Pc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Qi.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Qi.fromNumber(n)));return 1===r.compare(Dc)&&(r=new Qi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Ic(e),[n,r]=xc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Nc(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=Ic(e),[n,r]=xc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ac($a.min(),r,new qo(La),xl(),jl())}}class Rc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rc(n,t,jl(),jl(),jl())}}class Mc{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Oc{constructor(e,t){this.targetId=e,this.ge=t}}class Lc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fc{constructor(){this.pe=0,this.ye=Vc(),this.we=Jo.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=jl(),t=jl(),n=jl();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wa()}})),new Rc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Vc()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ba(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jc{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xl(),this.$e=Uc(),this.Ue=Uc(),this.Ke=new qo(La)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:wa()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(ul(i))if(0===n){const e=new Ga(i.path);this.ze(t,e,Fs.newNoDocument(e,$a.min()))}else ba(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Cc||Cc.rt(function(e,t,n,r,i){var a,o,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=ns(n).toUint8Array()}catch(e){if(e instanceof Xo)return va("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Nc(a,r,i)}catch(e){return va(e instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ee?null:o}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&ul(i.target)){const t=new Ga(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Fs.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=jl();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Ac(e,t,this.Ke,this.Qe,n);return this.Qe=xl(),this.$e=Uc(),this.Ue=Uc(),this.Ke=new qo(La),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Fc,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ko(La),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ko(La),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||ma("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Fc),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Uc(){return new qo(Ga.comparator)}function Vc(){return new qo(Ga.comparator)}const zc={asc:"ASCENDING",desc:"DESCENDING"},Hc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bc={and:"AND",or:"OR"};class $c{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qc(e,t){return e.useProto3Json||ho(t)?t:{value:t}}function Wc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Kc(e,t){return Wc(e,t.toTimestamp())}function Qc(e){return ba(!!e),$a.fromTimestamp(function(e){const t=es(e);return new Ba(t.seconds,t.nanos)}(e))}function Gc(e,t){return Xc(e,t).canonicalString()}function Xc(e,t){const n=function(e){return new Ya(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Jc(e){const t=Ya.fromString(e);return ba(yu(t)),t}function Zc(e,t){return Gc(e.databaseId,t.path)}function eu(e,t){const n=Jc(t);if(n.get(1)!==e.databaseId.projectId)throw new Ea(Sa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ea(Sa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ga(iu(n))}function tu(e,t){return Gc(e.databaseId,t)}function nu(e){const t=Jc(e);return 4===t.length?Ya.emptyPath():iu(t)}function ru(e){return new Ya(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iu(e){return ba(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function au(e,t,n){return{name:Zc(e,t),fields:n.value.mapValue.fields}}function ou(e,t){let n;if(t instanceof dc)n={update:au(e,t.key,t.value)};else if(t instanceof gc)n={delete:Zc(e,t.key)};else if(t instanceof hc)n={update:au(e,t.key,t.data),updateMask:vu(t.fieldMask)};else{if(!(t instanceof vc))return wa();n={verify:Zc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Kl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ql)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zl)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw wa()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Kc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wa()}(e,t.precondition)),n}function su(e,t){return{documents:[tu(e,t.path)]}}function lu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tu(e,i);const a=function(e){if(0!==e.length)return gu(qs.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:pu(e.field),direction:du(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=qc(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function cu(e){let t=nu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ba(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=uu(e);return t instanceof qs&&Ys(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new zs(mu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ho(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new js(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new js(n,t)}(n.endAt)),hl(t,i,o,a,s,"F",l,c)}function uu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mu(e.unaryFilter.field);return $s.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mu(e.unaryFilter.field);return $s.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mu(e.unaryFilter.field);return $s.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mu(e.unaryFilter.field);return $s.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wa()}}(e):void 0!==e.fieldFilter?function(e){return $s.create(mu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wa()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qs.create(e.compositeFilter.filters.map((e=>uu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wa()}}(e.compositeFilter.op))}(e):wa()}function du(e){return zc[e]}function hu(e){return Hc[e]}function fu(e){return Bc[e]}function pu(e){return{fieldPath:e.canonicalString()}}function mu(e){return Qa.fromServerFormat(e.fieldPath)}function gu(e){return e instanceof $s?function(e){if("=="===e.op){if(Ns(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NAN"}};if(xs(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ns(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NOT_NAN"}};if(xs(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(e.field),op:hu(e.op),value:e.value}}}(e):e instanceof qs?function(e){const t=e.getFilters().map((e=>gu(e)));return 1===t.length?t[0]:{compositeFilter:{op:fu(e.op),filters:t}}}(e):wa()}function vu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function yu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class wu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$a.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$a.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jo.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bu{constructor(e){this.Tt=e}}function ku(e){const t=cu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wl(t,t.limit,"L"):t}class Su{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ts(e.integerValue));else if("doubleValue"in e){const n=ts(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),fo(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=es(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(ns(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Ms(e)?this.ft(t,Number.MAX_SAFE_INTEGER):As(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):wa()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const a=vs,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(ts(o)),this.wt(a,t),this.Rt(i[a],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Ga.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Su.xt=new Su;class Eu{constructor(){this.Tn=new _u}addToCollectionParentIndex(e,t){return this.Tn.add(t),oo.resolve()}getCollectionParents(e,t){return oo.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return oo.resolve()}deleteFieldIndex(e,t){return oo.resolve()}deleteAllFieldIndexes(e){return oo.resolve()}createTargetIndexes(e,t){return oo.resolve()}getDocumentsMatchingTarget(e,t){return oo.resolve(null)}getIndexType(e,t){return oo.resolve(0)}getFieldIndexes(e,t){return oo.resolve([])}getNextCollectionGroupToUpdate(e){return oo.resolve(null)}getMinOffset(e,t){return oo.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return oo.resolve(to.min())}updateCollectionGroup(e,t,n){return oo.resolve()}updateIndexEntries(e,t){return oo.resolve()}}class _u{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ko(Ya.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ko(Ya.comparator)).toArray()}}new Uint8Array(0);const Tu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cu=41943040;class Du{static withCacheSize(e){return new Du(e,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Du.DEFAULT_COLLECTION_PERCENTILE=10,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Du.DEFAULT=new Du(Cu,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Du.DISABLED=new Du(-1,0,0);class Iu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Iu(0)}static Kn(){return new Iu(-1)}}const xu="LruGarbageCollector",Nu=1048576;function Pu(e,t){let[n,r]=e,[i,a]=t;const o=La(n,i);return 0===o?La(r,a):o}class Au{constructor(e){this.Hn=e,this.buffer=new Ko(Pu),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Pu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ru{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){ma(xu,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){lo(e)?ma(xu,"Ignoring IndexedDB error during garbage collection: ",e):await ao(e)}await this.er(3e5)}))}}class Mu{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return oo.resolve(co.ae);const n=new Au(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ma("LruGarbageCollector","Garbage collection skipped; disabled"),oo.resolve(Tu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ma("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tu):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ma("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),pa()<=rn.DEBUG&&ma("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(o-a)+"ms\n"+`\tRemoved ${i} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),oo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ou(e,t){return new Mu(e,t)}class Lu{constructor(){this.changes=new Dl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?oo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ju{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&lc(n.mutation,e,Go.empty(),Ba.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,jl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jl();const r=Rl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Pl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Rl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,jl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=xl();const a=Ol(),o=Ol();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hc)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),lc(o.mutation,t,o.mutation.getFieldMask(),Ba.now())):a.set(t.key,Go.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Fu(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Ol();let r=new qo(((e,t)=>e-t)),i=jl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Go.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||jl()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Ml();l.forEach((e=>{if(!i.has(e)){const r=oc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return oo.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ga.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ml(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):oo.resolve(Rl());let o=Xa,s=i;return a.next((t=>oo.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?oo.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,jl()))).next((e=>({batchId:o,changes:Al(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ga(t)).next((e=>{let t=Pl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Pl();return this.indexManager.getCollectionParents(e,i).next((o=>oo.forEach(o,(o=>{const s=function(e,t){return new dl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fs.newInvalidDocument(r)))}));let n=Pl();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&lc(a.mutation,r,Go.empty(),Ba.now()),El(t,r)&&(n=n.insert(e,r))})),n}))}}class Uu{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return oo.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Qc(e.createTime)}}(t)),oo.resolve()}getNamedQuery(e,t){return oo.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:ku(e.bundledQuery),readTime:Qc(e.readTime)}}(t)),oo.resolve()}}class Vu{constructor(){this.overlays=new qo(Ga.comparator),this.Rr=new Map}getOverlay(e,t){return oo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Rl();return oo.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),oo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),oo.resolve()}getOverlaysForCollection(e,t,n){const r=Rl(),i=t.length+1,a=new Ga(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return oo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qo(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Rl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Rl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return oo.resolve(o)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bc(t,n));let i=this.Rr.get(t);void 0===i&&(i=jl(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class zu{constructor(){this.sessionToken=Jo.EMPTY_BYTE_STRING}getSessionToken(e){return oo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oo.resolve()}}class Hu{constructor(){this.Vr=new Ko(Bu.mr),this.gr=new Ko(Bu.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Bu(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Bu(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new Ga(new Ya([])),n=new Bu(t,e),r=new Bu(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ga(new Ya([])),n=new Bu(t,e),r=new Bu(t,e+1);let i=jl();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bu(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bu{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ga.comparator(e.key,t.key)||La(e.Cr,t.Cr)}static pr(e,t){return La(e.Cr,t.Cr)||Ga.comparator(e.key,t.key)}}class $u{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ko(Bu.mr)}checkEmpty(e){return oo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new yc(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Mr=this.Mr.add(new Bu(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return oo.resolve(a)}lookupMutationBatch(e,t){return oo.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return oo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return oo.resolve(0===this.mutationQueue.length?uo:this.Fr-1)}getAllMutationBatches(e){return oo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bu(t,0),r=new Bu(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),oo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ko(La);return t.forEach((e=>{const t=new Bu(e,0),r=new Bu(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),oo.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ga.isDocumentKey(i)||(i=i.child(""));const a=new Bu(new Ga(i),0);let o=new Ko(La);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Cr)),!0)}),a),oo.resolve(this.Br(o))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ba(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return oo.forEach(t.mutations,(r=>{const i=new Bu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Bu(t,0),r=this.Mr.firstAfterOrEqual(n);return oo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oo.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qu{constructor(e){this.kr=e,this.docs=new qo(Ga.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oo.resolve(n?n.document.mutableCopy():Fs.newInvalidDocument(t))}getEntries(e,t){let n=xl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fs.newInvalidDocument(e))})),oo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=xl();const a=t.path,o=new Ga(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||no(eo(o),n)<=0||(r.has(o.key)||El(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return oo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wa()}qr(e,t){return oo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wu(this)}getSize(e){return oo.resolve(this.size)}}class Wu extends Lu{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),oo.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Yu{constructor(e){this.persistence=e,this.Qr=new Dl((e=>ll(e)),cl),this.lastRemoteSnapshotVersion=$a.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hu,this.targetCount=0,this.Kr=Iu.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),oo.resolve()}getLastRemoteSnapshotVersion(e){return oo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oo.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),oo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),oo.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Iu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,oo.resolve()}updateTargetData(e,t){return this.zn(t),oo.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,oo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Qr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),oo.waitFor(i).next((()=>r))}getTargetCount(e){return oo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return oo.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),oo.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),oo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),oo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return oo.resolve(n)}containsKey(e,t){return oo.resolve(this.Ur.containsKey(t))}}class Ku{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new co(0),this.zr=!1,this.zr=!0,this.jr=new zu,this.referenceDelegate=e(this),this.Hr=new Yu(this),this.indexManager=new Eu,this.remoteDocumentCache=function(e){return new qu(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new bu(t),this.Yr=new Uu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new $u(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){ma("MemoryPersistence","Starting transaction:",e);const r=new Qu(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return oo.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Qu extends io{constructor(e){super(),this.currentSequenceNumber=e}}class Gu{constructor(e){this.persistence=e,this.ti=new Hu,this.ni=null}static ri(e){return new Gu(e)}get ii(){if(this.ni)return this.ni;throw wa()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),oo.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),oo.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),oo.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oo.forEach(this.ii,(n=>{const r=Ga.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,$a.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return oo.or([()=>oo.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Xu{constructor(e,t){this.persistence=e,this.oi=new Dl((e=>go(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ou(this,t)}static ri(e,t){return new Xu(e,t)}Zr(){}Xr(e){return oo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return oo.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?oo.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,$a.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),oo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),oo.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),oo.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),oo.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cs(e.data.value)),t}ar(e,t,n){return oo.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return oo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ju{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=jl(),r=jl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ju(e,t.fromCache,n,r)}}class Zu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ed{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Ft()?8:so(Ot())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Zu;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(pa()<=rn.DEBUG&&ma("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),oo.resolve()):(pa()<=rn.DEBUG&&ma("QueryEngine","Query:",Sl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(pa()<=rn.DEBUG&&ma("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vl(t))):oo.resolve())}rs(e,t){if(pl(t))return oo.resolve(null);let n=vl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=wl(t,null,"F"),n=vl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=jl(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.cs(t,r);return this.ls(t,a,i,n.readTime)?this.rs(e,wl(t,null,"F")):this.hs(e,a,t,n)}))))})))))}ss(e,t,n,r){return pl(t)||r.isEqual($a.min())?oo.resolve(null):this.ns.getDocuments(e,n).next((i=>{const a=this.cs(t,i);return this.ls(t,a,n,r)?oo.resolve(null):(pa()<=rn.DEBUG&&ma("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sl(t)),this.hs(e,a,t,Za(r,Xa)).next((e=>e)))}))}cs(e,t){let n=new Ko(Tl(e));return t.forEach(((t,r)=>{El(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return pa()<=rn.DEBUG&&ma("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.ns.getDocumentsMatchingQuery(e,t,to.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const td="LocalStore";class nd{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new qo(La),this.Is=new Dl((e=>ll(e)),cl),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ju(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function rd(e,t,n,r){return new nd(e,t,n,r)}async function id(e,t){const n=ka(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let o=jl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function ad(e){const t=ka(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function od(e,t,n){let r=jl(),i=jl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=xl();return n.forEach(((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual($a.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ma(td,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Vs:r,fs:i}}))}function sd(e,t){const n=ka(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=uo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ld(e,t){const n=ka(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,oo.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new wu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function cd(e,t,n){const r=ka(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!lo(e))throw e;ma(td,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function ud(e,t,n){const r=ka(e);let i=$a.min(),a=jl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ka(e),i=r.Is.get(n);return void 0!==i?oo.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,vl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:$a.min(),n?a:jl()))).next((e=>(dd(r,_l(t),e),{documents:e,gs:a})))))}function dd(e,t,n){let r=e.Es.get(t)||$a.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class hd{constructor(){this.activeTargetIds=Vl()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fd{constructor(){this.ho=new hd,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pd{To(e){}shutdown(){}}const md="ConnectivityMonitor";class gd{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ma(md,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ma(md,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vd=null;function yd(){return null===vd?vd=268435456+Math.round(2147483648*Math.random()):vd++,"0x"+vd.toString(16)}const wd="RestConnection",bd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kd{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===ds?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const a=yd(),o=this.bo(e,t.toUriEncodedString());ma(wd,`Sending RPC '${e}' ${a}:`,o,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,o,s,n).then((t=>(ma(wd,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw va(wd,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ha,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=bd[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Sd{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Ed="WebChannelConnection";class _d extends kd{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=yd();return new Promise(((a,o)=>{const s=new Zi;s.setWithCredentials(!0),s.listenOnce(ta.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case na.NO_ERROR:const t=s.getResponseJson();ma(Ed,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case na.TIMEOUT:ma(Ed,`RPC '${e}' ${i} timed out`),o(new Ea(Sa.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:const n=s.getStatus();if(ma(Ed,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Sa).indexOf(t)>=0?t:Sa.UNKNOWN}(t.status);o(new Ea(e,t.message))}else o(new Ea(Sa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ea(Sa.UNAVAILABLE,"Connection failed."));break;default:wa()}}finally{ma(Ed,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);ma(Ed,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=yd(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oa(),o=aa(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");ma(Ed,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);let d=!1,h=!1;const f=new Sd({Fo:t=>{h?ma(Ed,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ma(Ed,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ma(Ed,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ea.EventType.OPEN,(()=>{h||(ma(Ed,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,ea.EventType.CLOSE,(()=>{h||(h=!0,ma(Ed,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(u,ea.EventType.ERROR,(t=>{h||(h=!0,va(Ed,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new Ea(Sa.UNAVAILABLE,"The operation could not be completed")))})),p(u,ea.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ba(!!i);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ma(Ed,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Sc[e];if(void 0!==t)return Tc(t)}(t),i=o.message;void 0===n&&(n=Sa.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Uo(new Ea(n,i)),u.close()}else ma(Ed,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),p(o,ia.STAT_EVENT,(t=>{t.stat===ra.PROXY?ma(Ed,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ra.NOPROXY&&ma(Ed,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Td(){return"undefined"!=typeof document?document:null}function Cd(e){return new $c(e,!0)}class Dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&ma("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Id="PersistentStream";class xd{constructor(e,t,n,r,i,a,o,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Dd(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Sa.RESOURCE_EXHAUSTED?(ga(t.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Sa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Ea(Sa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return ma(Id,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(ma(Id,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nd extends xd{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ba(void 0===t||"string"==typeof t),Jo.fromBase64String(t||"")):(ba(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Jo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Sa.UNKNOWN:Tc(e.code);return new Ea(t,e.message||"")}(o);n=new Lc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=eu(e,r.document.name),a=Qc(r.document.updateTime),o=r.document.createTime?Qc(r.document.createTime):$a.min(),s=new Os({mapValue:{fields:r.document.fields}}),l=Fs.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Mc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=eu(e,r.document),a=r.readTime?Qc(r.readTime):$a.min(),o=Fs.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Mc([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=eu(e,r.document),a=r.removedTargetIds||[];n=new Mc([],a,i,null)}else{if(!("filter"in t))return wa();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new kc(r,i),o=e.targetId;n=new Oc(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $a.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$a.min():t.readTime?Qc(t.readTime):$a.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=ru(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ul(r)?{documents:su(e,r)}:{query:lu(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yc(e,t.resumeToken);const r=qc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($a.min())>0){n.readTime=Wc(e,t.snapshotVersion.toTimestamp());const r=qc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wa()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=ru(this.serializer),t.removeTarget=e,this.I_(t)}}class Pd extends xd{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ba(!!e.streamToken),this.lastStreamToken=e.streamToken,ba(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ba(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(ba(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Qc(e.updateTime):Qc(t);return n.isEqual($a.min())&&(n=Qc(t)),new nc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Qc(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=ru(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ou(this.serializer,e)))};this.I_(t)}}class Ad{}class Rd extends Ad{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Ea(Sa.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.So(e,Xc(t,n),r,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Sa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ea(Sa.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[o,s]=a;return this.connection.Co(e,Xc(t,n),r,o,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Sa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ea(Sa.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Md{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ga(t),this.N_=!1):ma("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Od="RemoteStore";class Ld{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{qd(this)&&(ma(Od,"Restarting streams for network reachability change."),await async function(e){const t=ka(e);t.W_.add(4),await jd(t),t.j_.set("Unknown"),t.W_.delete(4),await Fd(t)}(this))}))})),this.j_=new Md(n,r)}}async function Fd(e){if(qd(e))for(const t of e.G_)await t(!0)}async function jd(e){for(const t of e.G_)await t(!1)}function Ud(e,t){const n=ka(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),$d(n)?Bd(n):uh(n).c_()&&zd(n,t))}function Vd(e,t){const n=ka(e),r=uh(n);n.K_.delete(t),r.c_()&&Hd(n,t),0===n.K_.size&&(r.c_()?r.P_():qd(n)&&n.j_.set("Unknown"))}function zd(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($a.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uh(e).y_(t)}function Hd(e,t){e.H_.Ne(t),uh(e).w_(t)}function Bd(e){e.H_=new jc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),uh(e).start(),e.j_.B_()}function $d(e){return qd(e)&&!uh(e).u_()&&e.K_.size>0}function qd(e){return 0===ka(e).W_.size}function Wd(e){e.H_=void 0}async function Yd(e){e.j_.set("Online")}async function Kd(e){e.K_.forEach(((t,n)=>{zd(e,t)}))}async function Qd(e,t){Wd(e),$d(e)?(e.j_.q_(t),Bd(e)):e.j_.set("Unknown")}async function Gd(e,t,n){if(e.j_.set("Online"),t instanceof Lc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){ma(Od,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Xd(e,n)}else if(t instanceof Mc?e.H_.We(t):t instanceof Oc?e.H_.Ze(t):e.H_.je(t),!n.isEqual($a.min()))try{const t=await ad(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Jo.EMPTY_BYTE_STRING,r.snapshotVersion)),Hd(e,t);const i=new wu(r.target,t,n,r.sequenceNumber);zd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ma(Od,"Failed to raise snapshot:",t),await Xd(e,t)}}async function Xd(e,t,n){if(!lo(t))throw t;e.W_.add(1),await jd(e),e.j_.set("Offline"),n||(n=()=>ad(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ma(Od,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Fd(e)}))}function Jd(e,t){return t().catch((n=>Xd(e,n,t)))}async function Zd(e){const t=ka(e),n=dh(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:uo;for(;eh(t);)try{const e=await sd(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,th(t,e)}catch(e){await Xd(t,e)}nh(t)&&rh(t)}function eh(e){return qd(e)&&e.U_.length<10}function th(e,t){e.U_.push(t);const n=dh(e);n.c_()&&n.S_&&n.b_(t.mutations)}function nh(e){return qd(e)&&!dh(e).u_()&&e.U_.length>0}function rh(e){dh(e).start()}async function ih(e){dh(e).C_()}async function ah(e){const t=dh(e);for(const n of e.U_)t.b_(n.mutations)}async function oh(e,t,n){const r=e.U_.shift(),i=wc.from(r,t,n);await Jd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Zd(e)}async function sh(e,t){t&&dh(e).S_&&await async function(e,t){if(function(e){return _c(e)&&e!==Sa.ABORTED}(t.code)){const n=e.U_.shift();dh(e).h_(),await Jd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Zd(e)}}(e,t),nh(e)&&rh(e)}async function lh(e,t){const n=ka(e);n.asyncQueue.verifyOperationInProgress(),ma(Od,"RemoteStore received new credentials");const r=qd(n);n.W_.add(3),await jd(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Fd(n)}async function ch(e,t){const n=ka(e);t?(n.W_.delete(2),await Fd(n)):t||(n.W_.add(2),await jd(n),n.j_.set("Unknown"))}function uh(e){return e.J_||(e.J_=function(e,t,n){const r=ka(e);return r.M_(),new Nd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Yd.bind(null,e),No:Kd.bind(null,e),Lo:Qd.bind(null,e),p_:Gd.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),$d(e)?Bd(e):e.j_.set("Unknown")):(await e.J_.stop(),Wd(e))}))),e.J_}function dh(e){return e.Y_||(e.Y_=function(e,t,n){const r=ka(e);return r.M_(),new Pd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:ih.bind(null,e),Lo:sh.bind(null,e),D_:ah.bind(null,e),v_:oh.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Zd(e)):(await e.Y_.stop(),e.U_.length>0&&(ma(Od,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class hh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new hh(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ea(Sa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fh(e,t){if(ga("AsyncQueue",`${t}: ${e}`),lo(e))return new Ea(Sa.UNAVAILABLE,`${t}: ${e}`);throw e}class ph{static emptySet(e){return new ph(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ga.comparator(t.key,n.key):(e,t)=>Ga.comparator(e.key,t.key),this.keyedMap=Pl(),this.sortedSet=new qo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ph))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ph;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mh{constructor(){this.Z_=new qo(Ga.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):wa():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gh{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new gh(e,t,ph.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vh{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class yh{constructor(){this.queries=wh(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=ka(e),r=n.queries;n.queries=wh(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Ea(Sa.ABORTED,"Firestore shutting down"))}}function wh(){return new Dl((e=>kl(e)),bl)}async function bh(e,t){const n=ka(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new vh,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=fh(e,`Initialization of query '${Sl(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&_h(n)}async function kh(e,t){const n=ka(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sh(e,t){const n=ka(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&_h(n)}function Eh(e,t,n){const r=ka(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function _h(e){e.ia.forEach((e=>{e.next()}))}var Th,Ch;(Ch=Th||(Th={}))._a="default",Ch.Cache="cache";class Dh{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Th.Cache}}class Ih{constructor(e){this.key=e}}class xh{constructor(e){this.key=e}}class Nh{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=jl(),this.mutatedKeys=jl(),this.ya=Tl(e),this.wa=new ph(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new mh,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=El(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:a,Da:n,ls:o,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wa()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const o=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==a.length||l?{snapshot:new gh(this.query,e.wa,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mh,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=jl(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new xh(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Ih(n))})),t}Oa(e){this.fa=e.gs,this.pa=jl();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return gh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Ph="SyncEngine";class Ah{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rh{constructor(e){this.key=e,this.Ba=!1}}class Mh{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new Dl((e=>kl(e)),bl),this.qa=new Map,this.Qa=new Set,this.$a=new qo(Ga.comparator),this.Ua=new Map,this.Ka=new Hu,this.Wa={},this.Ga=new Map,this.za=Iu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Oh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=nf(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Fh(r,t,n,!0),i}async function Lh(e,t){const n=nf(e);await Fh(n,t,!0,!1)}async function Fh(e,t,n,r){const i=await ld(e.localStore,vl(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await jh(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Ud(e.remoteStore,i),s}async function jh(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await ud(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Gh(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const a=await ud(e.localStore,t,!0),o=new Nh(t,a.gs),s=o.ba(a.documents),l=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);Gh(e,n,c.Ma);const u=new Ah(t,n,o);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Uh(e,t,n){const r=ka(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter((e=>!bl(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vd(r.remoteStore,i.targetId),Kh(r,i.targetId)})).catch(ao)):(Kh(r,i.targetId),await cd(r.localStore,i.targetId,!0))}async function Vh(e,t){const n=ka(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vd(n.remoteStore,r.targetId))}async function zh(e,t){const n=ka(e);try{const e=await function(e,t){const n=ka(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];t.targetChanges.forEach(((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Hr.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Jo.EMPTY_BYTE_STRING,$a.min()).withLastLimboFreeSnapshotVersion($a.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Hr.updateTargetData(e,c))}));let s=xl(),l=jl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(od(e,a,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual($a.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return oo.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(ba(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?ba(r.Ba):e.removedDocuments.size>0&&(ba(r.Ba),r.Ba=!1))})),await Zh(n,e,t)}catch(e){await ao(e)}}function Hh(e,t,n){const r=ka(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ka(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&_h(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Bh(e,t,n){const r=ka(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),a=i&&i.key;if(a){let e=new qo(Ga.comparator);e=e.insert(a,Fs.newNoDocument(a,$a.min()));const n=jl().add(a),i=new Ac($a.min(),new Map,new qo(La),e,n);await zh(r,i),r.$a=r.$a.remove(a),r.Ua.delete(t),Jh(r)}else await cd(r.localStore,t,!1).then((()=>Kh(r,t,n))).catch(ao)}async function $h(e,t){const n=ka(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ka(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=oo.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);ba(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=jl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Yh(n,r,null),Wh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(n,e)}catch(e){await ao(e)}}async function qh(e,t,n){const r=ka(e);try{const e=await function(e,t){const n=ka(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ba(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Yh(r,t,n),Wh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Zh(r,e)}catch(n){await ao(n)}}function Wh(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Yh(e,t,n){const r=ka(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Kh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Qh(e,t)}))}function Qh(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Vd(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Jh(e))}function Gh(e,t,n){for(const r of n)r instanceof Ih?(e.Ka.addReference(r.key,t),Xh(e,r)):r instanceof xh?(ma(Ph,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Qh(e,r.key)):wa()}function Xh(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(ma(Ph,"New document in limbo: "+n),e.Qa.add(r),Jh(e))}function Jh(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Ga(Ya.fromString(t)),r=e.za.next();e.Ua.set(r,new Rh(n)),e.$a=e.$a.insert(n,r),Ud(e.remoteStore,new wu(vl(fl(n.path)),r,"TargetPurposeLimboResolution",co.ae))}}async function Zh(e,t,n){const r=ka(e),i=[],a=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{o.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ju.Yi(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.La.p_(i),await async function(e,t){const n=ka(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>oo.forEach(t,(t=>oo.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>oo.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!lo(e))throw e;ma(td,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,a))}async function ef(e,t){const n=ka(e);if(!n.currentUser.isEqual(t)){ma(Ph,"User change. New user:",t.toKey());const e=await id(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Ea(Sa.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zh(n,e.Rs)}}function tf(e,t){const n=ka(e),r=n.Ua.get(t);if(r&&r.Ba)return jl().add(r.key);{let e=jl();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function nf(e){const t=ka(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bh.bind(null,t),t.La.p_=Sh.bind(null,t.eventManager),t.La.Ja=Eh.bind(null,t.eventManager),t}function rf(e){const t=ka(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$h.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qh.bind(null,t),t}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return rd(this.persistence,new ed,e.initialUser,this.serializer)}Xa(e){return new Ku(Gu.ri,this.serializer)}Za(e){return new fd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class of extends af{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ba(this.persistence.referenceDelegate instanceof Xu);const n=this.persistence.referenceDelegate.garbageCollector;return new Ru(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Du.withCacheSize(this.cacheSizeBytes):Du.DEFAULT;return new Ku((e=>Xu.ri(e,t)),this.serializer)}}class sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ef.bind(null,this.syncEngine),await ch(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yh}createDatastore(e){const t=Cd(e.databaseInfo.databaseId),n=function(e){return new _d(e)}(e.databaseInfo);return function(e,t,n,r){return new Rd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ld(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Hh(this.syncEngine,e,0)),gd.D()?new gd:new pd)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Mh(e,t,n,r,i,a);return o&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ka(e);ma(Od,"RemoteStore shutting down."),t.W_.add(5),await jd(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}sf.provider={build:()=>new sf};class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const cf="FirestoreClient";class uf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=da.UNAUTHENTICATED,this.clientId=Oa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ma(cf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ma(cf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=fh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function df(e,t){e.asyncQueue.verifyOperationInProgress(),ma(cf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function hf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ff(e);ma(cf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>lh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>lh(t.remoteStore,n))),e._onlineComponents=t}async function ff(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ma(cf,"Using user provided OfflineComponentProvider");try{await df(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Sa.FAILED_PRECONDITION||e.code===Sa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await df(e,new af)}}else ma(cf,"Using default OfflineComponentProvider"),await df(e,new of(void 0));return e._offlineComponents}async function pf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ma(cf,"Using user provided OnlineComponentProvider"),await hf(e,e._uninitializedComponentsProvider._online)):(ma(cf,"Using default OnlineComponentProvider"),await hf(e,new sf))),e._onlineComponents}function mf(e){return pf(e).then((e=>e.syncEngine))}async function gf(e){const t=await pf(e),n=t.eventManager;return n.onListen=Oh.bind(null,t.syncEngine),n.onUnlisten=Uh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Lh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Vh.bind(null,t.syncEngine),n}function vf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _a;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new lf({next:s=>{a.su(),t.enqueueAndForget((()=>kh(e,o)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Ea(Sa.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Ea(Sa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Dh(fl(n.path),a,{includeMetadataChanges:!0,Ta:!0});return bh(e,o)}(await gf(e),e.asyncQueue,t,n,r))),r.promise}function yf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _a;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new lf({next:n=>{a.su(),t.enqueueAndForget((()=>kh(e,o))),n.fromCache&&"server"===r.source?i.reject(new Ea(Sa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dh(n,a,{includeMetadataChanges:!0,Ta:!0});return bh(e,o)}(await gf(e),e.asyncQueue,t,n,r))),r.promise}function wf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bf=new Map;function kf(e,t,n){if(!n)throw new Ea(Sa.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Sf(e){if(!Ga.isDocumentKey(e))throw new Ea(Sa.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ef(e){if(Ga.isDocumentKey(e))throw new Ea(Sa.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _f(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wa()}function Tf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ea(Sa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(e);throw new Ea(Sa.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Cf="firestore.googleapis.com",Df=!0;class If{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ea(Sa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cf,this.ssl=Df}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Df;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Cu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Nu)throw new Ea(Sa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ea(Sa.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ea(Sa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ea(Sa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ea(Sa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new If({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ea(Sa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ea(Sa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new If(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ca;switch(e.type){case"firstParty":return new Na(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ea(Sa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bf.get(e);t&&(ma("ComponentProvider","Removing Datastore"),bf.delete(e),t.terminate())}(this),Promise.resolve()}}function Nf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Tf(e,xf))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;a.host!==Cf&&a.host!==s&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:s,ssl:!1,emulatorOptions:r});if(!Bt(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=da.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Ea(Sa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new da(a)}e._authCredentials=new Da(new Ta(t,n))}}class Pf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class Af{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Af(this.firestore,e,this._key)}}class Rf extends Pf{constructor(e,t,n){super(e,t,fl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Af(this.firestore,null,new Ga(e))}withConverter(e){return new Rf(this.firestore,e,this._path)}}function Mf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xt(e),kf("collection","path",t),e instanceof xf){const n=Ya.fromString(t,...r);return Ef(n),new Rf(e,null,n)}{if(!(e instanceof Af||e instanceof Rf))throw new Ea(Sa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ya.fromString(t,...r));return Ef(n),new Rf(e.firestore,null,n)}}function Of(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xt(e),1===arguments.length&&(t=Oa.newId()),kf("doc","path",t),e instanceof xf){const n=Ya.fromString(t,...r);return Sf(n),new Af(e,null,new Ga(n))}{if(!(e instanceof Af||e instanceof Rf))throw new Ea(Sa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ya.fromString(t,...r));return Sf(n),new Af(e.firestore,e instanceof Rf?e.converter:null,new Ga(n))}}const Lf="AsyncQueue";class Ff{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Dd(this,"async_queue_retry"),this.Su=()=>{const e=Td();e&&ma(Lf,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Td();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Td();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new _a;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(eT){if(!lo(eT))throw eT;ma(Lf,"Operation failed with retryable error: "+eT)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ga("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=hh.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&wa()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class jf extends xf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ff,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ff(e),this._firestoreClient=void 0,await e}}}function Uf(e){if(e._terminated)throw new Ea(Sa.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vf(e),e._firestoreClient}function Vf(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new us(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new uf(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class zf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zf(Jo.fromBase64String(e))}catch(e){throw new Ea(Sa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zf(Jo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ea(Sa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qa(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bf{constructor(e){this._methodName=e}}class $f{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ea(Sa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ea(Sa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return La(this._lat,e._lat)||La(this._long,e._long)}}class qf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Wf=/^__.*__$/;class Yf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wa()}}class Qf{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return lp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Kf(this.Lu)&&Wf.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Gf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cd(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qf({Lu:e,methodName:t,zu:n,path:Qa.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xf(e){const t=e._freezeSettings(),n=Cd(e._databaseId);return new Gf(e._databaseId,!!t.ignoreUndefinedProperties,n)}class Jf extends Bf{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jf}}function Zf(e,t,n,r){const i=e.ju(1,t,n);ip("Data must be an object, but it was:",i,r);const a=[],o=Os.empty();Bo(r,((e,r)=>{const s=sp(t,e,n);r=Xt(r);const l=i.Uu(s);if(r instanceof Jf)a.push(s);else{const e=tp(r,l);null!=e&&(a.push(s),o.set(s,e))}}));const s=new Go(a);return new Yf(o,s,i.fieldTransforms)}function ep(e,t,n,r,i,a){const o=e.ju(1,t,n),s=[ap(t,r,n)],l=[i];if(a.length%2!=0)throw new Ea(Sa.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(ap(t,a[h])),l.push(a[h+1]);const c=[],u=Os.empty();for(let h=s.length-1;h>=0;--h)if(!cp(c,s[h])){const e=s[h];let t=l[h];t=Xt(t);const n=o.Uu(e);if(t instanceof Jf)c.push(e);else{const r=tp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Go(c);return new Yf(u,d,o.fieldTransforms)}function tp(e,t){if(rp(e=Xt(e)))return ip("Unsupported field value:",t,e),np(e,t);if(e instanceof Bf)return function(e,t){if(!Kf(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=tp(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Xt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ba.fromDate(e);return{timestampValue:Wc(t.serializer,n)}}if(e instanceof Ba){const n=new Ba(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wc(t.serializer,n)}}if(e instanceof $f)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zf)return{bytesValue:Yc(t.serializer,e._byteString)};if(e instanceof Af){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Gc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof qf)return function(e,t){return{mapValue:{fields:{[fs]:{stringValue:gs},[vs]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return zl(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${_f(e)}`)}(e,t)}function np(e,t){const n={};return $o(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bo(e,((e,r)=>{const i=tp(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ba||e instanceof $f||e instanceof zf||e instanceof Af||e instanceof Bf||e instanceof qf)}function ip(e,t,n){if(!rp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=_f(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function ap(e,t,n){if((t=Xt(t))instanceof Hf)return t._internalPath;if("string"==typeof t)return sp(e,t);throw lp("Field path arguments must be of type string or ",e,!1,void 0,n)}const op=new RegExp("[~\\*/\\[\\]]");function sp(e,t,n){if(t.search(op)>=0)throw lp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hf(...t.split("."))._internalPath}catch(uy){throw lp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lp(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ea(Sa.INVALID_ARGUMENT,s+e+l)}function cp(e,t){return e.some((e=>e.isEqual(t)))}class up{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Af(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dp extends up{data(){return super.data()}}function hp(e,t){return"string"==typeof t?sp(e,t):t instanceof Hf?t._internalPath:t._delegate._internalPath}function fp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ea(Sa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ts(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wa()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[vs].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ts(e.doubleValue)));return new qf(i)}convertGeoPoint(e){return new $f(ts(e.latitude),ts(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ls(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cs(e));default:return null}}convertTimestamp(e){const t=es(e);return new Ba(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ya.fromString(e);ba(yu(n));const r=new hs(n.get(1),n.get(3)),i=new Ga(n.popFirst(5));return r.isEqual(t)||ga(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gp extends up{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vp extends gp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class yp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vp(this._firestore,this._userDataWriter,n.key,n,new mp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ea(Sa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:wp(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wa()}}class bp extends pp{constructor(e){super(),this.firestore=e}convertBytes(e){return new zf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Af(this.firestore,null,t)}}function kp(e){e=Tf(e,Pf);const t=Tf(e.firestore,jf),n=Uf(t),r=new bp(t);return fp(e._query),yf(n,e._query).then((n=>new yp(t,r,e,n)))}function Sp(e,t){return function(e,t){const n=new _a;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=rf(e);try{const e=await function(e,t){const n=ka(e),r=Ba.now(),i=t.reduce(((e,t)=>e.add(t.key)),jl());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=xl(),l=jl();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;const o=[];for(const e of t){const t=cc(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new hc(e.key,t,Ls(t.value.mapValue),rc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Al(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new qo(La)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Zh(r,e.changes),await Zd(r.remoteStore)}catch(e){const t=fh(e,"Failed to persist write");n.reject(t)}}(await mf(e),t,n))),n.promise}(Uf(e),t)}function Ep(e,t,n){const r=n.docs.get(t._key),i=new bp(e);return new gp(e,i,t._key,r,new mp(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ha=e}(pr),cr(new Jt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new jf(new Ia(e.getProvider("auth-internal")),new Aa(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ea(Sa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),vr(ca,ua,e),vr(ca,ua,"esm2017")}();function _p(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Tp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cp=Tp,Dp=new zt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ip=new cn("@firebase/auth");function xp(e){if(Ip.logLevel<=rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ip.error(`Auth (${pr}): ${e}`,...n)}}function Np(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mp(e,...n)}function Pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mp(e,...n)}function Ap(e,t,n){const r=Object.assign(Object.assign({},Cp()),{[t]:n});return new zt("auth","Firebase",r).create(t,{appName:e.name})}function Rp(e){return Ap(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Dp.create(e,...n)}function Op(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mp(t,...r)}}function Lp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xp(t),new Error(t)}function Fp(e,t){e||Lp(t)}function jp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Up(){return"http:"===Vp()||"https:"===Vp()}function Vp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class zp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Up()||Lt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Hp(e,t){Fp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Bp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Lp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Lp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Lp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $p={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qp=new zp(3e4,6e4);function Wp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Yp(e,t,n,r){return Kp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=qt(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Bp.fetch()(Gp(e,e.config.apiHost,n,o),l)}))}async function Kp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$p),t);try{const t=new Jp(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Zp(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zp(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Zp(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Zp(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ap(e,s,o);Np(e,s)}}catch(eT){if(eT instanceof Vt)throw eT;Np(e,"network-request-failed",{message:String(eT)})}}async function Qp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Yp(e,t,n,r,i);return"mfaPendingCredential"in a&&Np(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Gp(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Hp(e.config,i):`${e.config.apiScheme}://${i}`}function Xp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Pp(this.auth,"network-request-failed"))),qp.get())}))}}function Zp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pp(e,t,r);return i.customData._tokenResponse=n,i}function em(e){return void 0!==e&&void 0!==e.enterprise}class tm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nm(e,t){return Yp(e,"GET","/v2/recaptchaConfig",Wp(e,t))}async function rm(e,t){return Yp(e,"POST","/v1/accounts:lookup",t)}function im(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eT){}}function am(e){return 1e3*Number(e)}function om(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const e=It(n);return e?JSON.parse(e):(xp("Failed to decode base64 JWT payload"),null)}catch(eT){return xp("Caught error parsing JWT payload as JSON",null===eT||void 0===eT?void 0:eT.toString()),null}}function sm(e){const t=om(e);return Op(t,"internal-error"),Op("undefined"!==typeof t.exp,"internal-error"),Op("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function lm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(eT){throw eT instanceof Vt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(eT)&&e.auth.currentUser===e&&await e.auth.signOut(),eT}}class cm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(eT){return void("auth/network-request-failed"===(null===eT||void 0===eT?void 0:eT.code)&&this.schedule(!0))}this.schedule()}}class um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=im(this.lastLoginAt),this.creationTime=im(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dm(e){var t;const n=e.auth,r=await e.getIdToken(),i=await lm(e,rm(n,{idToken:r}));Op(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?hm(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new um(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function hm(e){return e.map((e=>{var{providerId:t}=e,n=_p(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class fm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Op(e.idToken,"internal-error"),Op("undefined"!==typeof e.idToken,"internal-error"),Op("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):sm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Op(0!==e.length,"internal-error");const t=sm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Op(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Kp(e,{},(async()=>{const n=qt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Gp(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Bp.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new fm;return n&&(Op("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Op("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Op("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fm,this.toJSON())}_performRefresh(){return Lp("not implemented")}}function pm(e,t){Op("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mm{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new um(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await lm(this,this.stsTokenManager.getToken(this.auth,e));return Op(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Xt(e),r=await n.getIdToken(t),i=om(r);Op(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:im(am(i.auth_time)),issuedAtTime:im(am(i.iat)),expirationTime:im(am(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Xt(e);await dm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Op(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mm(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Op(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await dm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Rp(this.auth));const e=await this.getIdToken();return await lm(this,async function(e,t){return Yp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:k,stsTokenManager:S}=t;Op(y&&S,e,"internal-error");const E=fm.fromJSON(this.name,S);Op("string"===typeof y,e,"internal-error"),pm(u,e.name),pm(d,e.name),Op("boolean"===typeof w,e,"internal-error"),Op("boolean"===typeof b,e,"internal-error"),pm(h,e.name),pm(f,e.name),pm(p,e.name),pm(m,e.name),pm(g,e.name),pm(v,e.name);const _=new mm({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(_.providerData=k.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fm;r.updateFromServerResponse(t);const i=new mm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await dm(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Op(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?hm(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new fm;o.updateFromIdToken(n);const s=new mm({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new um(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const gm=new Map;function vm(e){Fp(e instanceof Function,"Expected a class definition");let t=gm.get(e);return t?(Fp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gm.set(e,t),t)}class ym{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ym.type="NONE";const wm=ym;function bm(e,t,n){return`firebase:${e}:${t}:${n}`}class km{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=bm(this.userKey,r.apiKey,i),this.fullPersistenceKey=bm("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new km(vm(wm),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vm(wm);const a=bm(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(a);if(t){const n=mm._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(p_){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(p_){}}))),new km(i,e,n)):new km(i,e,n)}}function Sm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Em(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Im(t))return"Blackberry";if(xm(t))return"Webos";if(_m(t))return"Safari";if((t.includes("chrome/")||Tm(t))&&!t.includes("edge/"))return"Chrome";if(Dm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/firefox\//i.test(e)}function _m(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/crios\//i.test(e)}function Cm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/iemobile/i.test(e)}function Dm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/android/i.test(e)}function Im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/blackberry/i.test(e)}function xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/webos/i.test(e)}function Nm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pm(){return function(){const e=Ot();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Am(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot();return Nm(e)||Dm(e)||xm(e)||Im(e)||/windows phone/i.test(e)||Cm(e)}function Rm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Sm(Ot());break;case"Worker":t=`${Sm(Ot())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${pr}/${r}`}class Mm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(eT){r(eT)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(eT){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===eT||void 0===eT?void 0:eT.message})}}}class Om{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Lm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jm(this),this.idTokenSubscription=new jm(this),this.beforeStateQueue=new Mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vm(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await km.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(eT){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await rm(this,{idToken:e}),n=await mm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(eT){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(eT)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Op(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(eT){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(eT){if("auth/network-request-failed"!==(null===eT||void 0===eT?void 0:eT.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Rp(this));const t=e?Xt(e):null;return t&&Op(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Op(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return dr(this.app)?Promise.reject(Rp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Rp(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(vm(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Yp(e,"GET","/v2/passwordPolicy",Wp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Om(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Yp(e,"POST","/v2/accounts:revokeToken",Wp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vm(e)||this._popupRedirectResolver;Op(t,this,"argument-error"),this.redirectPersistenceManager=await km.create(this,[vm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Op(o,this,"internal-error"),o.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Op(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ip.logLevel<=rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ip.warn(`Auth (${pr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Fm(e){return Xt(e)}class jm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Kt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Op(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vm(e){return Um.loadJS(e)}function zm(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Hm{constructor(){this.enterprise=new Bm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $m="NO_RECAPTCHA";class qm{constructor(e){this.type="recaptcha-enterprise",this.auth=Fm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;em(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n($m)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Hm).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{nm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new tm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&em(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Um.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Vm(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Wm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new qm(e);let o;if(i)o=$m;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ym(e,t,n,r,i){var a,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Wm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Wm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Wm(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Wm(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Wm(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Km(e){const t=Fm(e),n=await nm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new tm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new qm(t).verify()}}function Qm(e,t,n){const r=Fm(e);Op(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Gm(t),{host:o,port:s}=function(e){const t=Gm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xm(t)}}}(t),l={url:`${a}//${o}${null===s?"":`:${s}`}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Op(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Op(Bt(l,r.config.emulator)&&Bt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lp("not implemented")}_getIdTokenResponse(e){return Lp("not implemented")}_linkToIdToken(e,t){return Lp("not implemented")}_getReauthenticationResolver(e){return Lp("not implemented")}}async function Zm(e,t){return Yp(e,"POST","/v1/accounts:signUp",t)}async function eg(e,t){return Qp(e,"POST","/v1/accounts:signInWithPassword",Wp(e,t))}class tg extends Jm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tg(e,t,"password")}static _fromEmailAndCode(e,t){return new tg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ym(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithEmailLink",Wp(e,t))}(e,{email:this._email,oobCode:this._password});default:Np(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ym(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithEmailLink",Wp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Np(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ng(e,t){return Qp(e,"POST","/v1/accounts:signInWithIdp",Wp(e,t))}class rg extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Np("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_p(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new rg(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return ng(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ng(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ng(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qt(t)}return e}}async function ig(e,t){return Yp(e,"POST","/v1/accounts:sendVerificationCode",Wp(e,t))}const ag={USER_NOT_FOUND:"user-not-found"};class og extends Jm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new og({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new og({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithPhoneNumber",Wp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qp(e,"POST","/v1/accounts:signInWithPhoneNumber",Wp(e,t));if(n.temporaryProof)throw Zp(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithPhoneNumber",Wp(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ag)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new og({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sg{constructor(e){var t,n,r,i,a,o;const s=Wt(Yt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Op(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Wt(Yt(e)).link,n=t?Wt(Yt(t)).deep_link_id:null,r=Wt(Yt(e)).deep_link_id;return(r?Wt(Yt(r)).link:null)||r||n||t||e}(e);try{return new sg(t)}catch(p_){return null}}}class lg{constructor(){this.providerId=lg.PROVIDER_ID}static credential(e,t){return tg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sg.parseLink(t);return Op(n,"argument-error"),tg._fromEmailAndCode(e,n.code,n.tenantId)}}lg.PROVIDER_ID="password",lg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ug extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dg extends ug{constructor(){super("facebook.com")}static credential(e){return rg._fromParams({providerId:dg.PROVIDER_ID,signInMethod:dg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dg.credentialFromTaggedObject(e)}static credentialFromError(e){return dg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dg.credential(t.oauthAccessToken)}catch(p_){return null}}}dg.FACEBOOK_SIGN_IN_METHOD="facebook.com",dg.PROVIDER_ID="facebook.com";class hg extends ug{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rg._fromParams({providerId:hg.PROVIDER_ID,signInMethod:hg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hg.credentialFromTaggedObject(e)}static credentialFromError(e){return hg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hg.credential(n,r)}catch(p_){return null}}}hg.GOOGLE_SIGN_IN_METHOD="google.com",hg.PROVIDER_ID="google.com";class fg extends ug{constructor(){super("github.com")}static credential(e){return rg._fromParams({providerId:fg.PROVIDER_ID,signInMethod:fg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fg.credentialFromTaggedObject(e)}static credentialFromError(e){return fg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fg.credential(t.oauthAccessToken)}catch(p_){return null}}}fg.GITHUB_SIGN_IN_METHOD="github.com",fg.PROVIDER_ID="github.com";class pg extends ug{constructor(){super("twitter.com")}static credential(e,t){return rg._fromParams({providerId:pg.PROVIDER_ID,signInMethod:pg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pg.credentialFromTaggedObject(e)}static credentialFromError(e){return pg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pg.credential(n,r)}catch(p_){return null}}}pg.TWITTER_SIGN_IN_METHOD="twitter.com",pg.PROVIDER_ID="twitter.com";class mg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mm._fromIdTokenResponse(e,n,r),a=gg(n);return new mg({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gg(n);return new mg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vg extends Vt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vg(e,t,n,r)}}function yg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw vg._fromErrorAndOperation(e,n,t,r);throw n}))}async function wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await lm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mg._forOperation(e,"link",r)}async function bg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(dr(r.app))return Promise.reject(Rp(r));const i="reauthenticate";try{const a=await lm(e,yg(r,i,t,e),n);Op(a.idToken,r,"internal-error");const o=om(a.idToken);Op(o,r,"internal-error");const{sub:s}=o;return Op(e.uid===s,r,"user-mismatch"),mg._forOperation(e,i,a)}catch(eT){throw"auth/user-not-found"===(null===eT||void 0===eT?void 0:eT.code)&&Np(r,"user-mismatch"),eT}}async function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dr(e.app))return Promise.reject(Rp(e));const r="signIn",i=await yg(e,r,t),a=await mg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Sg(e,t){return Yp(e,"POST","/v2/accounts/mfaEnrollment:start",Wp(e,t))}new WeakMap;const Eg="__sak";class _g{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Eg,"1"),this.storage.removeItem(Eg),Promise.resolve(!0)):Promise.resolve(!1)}catch(p_){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Tg extends _g{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Am(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Pm()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tg.type="LOCAL";const Cg=Tg;class Dg extends _g{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dg.type="SESSION";const Ig=Dg;class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new xg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ng(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xg.receivers=[];class Pg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((o,s)=>{const l=Ng("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Ag(){return window}function Rg(){return"undefined"!==typeof Ag().WorkerGlobalScope&&"function"===typeof Ag().importScripts}const Mg="firebaseLocalStorageDb",Og="firebaseLocalStorage",Lg="fbase_key";class Fg{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function jg(e,t){return e.transaction([Og],t?"readwrite":"readonly").objectStore(Og)}function Ug(){const e=indexedDB.open(Mg,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Og,{keyPath:Lg})}catch(eT){n(eT)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Og)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Mg);return new Fg(e).toPromise()}(),t(await Ug()))}))}))}async function Vg(e,t,n){const r=jg(e,!0).put({[Lg]:t,value:n});return new Fg(r).toPromise()}function zg(e,t){const n=jg(e,!0).delete(t);return new Fg(n).toPromise()}class Hg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ug()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(eT){if(t++>3)throw eT;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(Rg()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Pg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(p_){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await Vg(e,Eg,"1"),await zg(e,Eg),!0}catch(p_){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vg(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=jg(e,!1).get(t),r=await new Fg(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>zg(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=jg(e,!1).getAll();return new Fg(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Hg.type="LOCAL";const Bg=Hg;function $g(e,t){return Yp(e,"POST","/v2/accounts/mfaSignIn:start",Wp(e,t))}zm("rcb"),new zp(3e4,6e4);const qg="recaptcha";async function Wg(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Km(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Op("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Ym(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===$m){Op((null===n||void 0===n?void 0:n.type)===qg,e,"argument-error");return Sg(e,await Yg(e,t,n))}return Sg(e,t)}),"PHONE_PROVIDER"),o=await a.catch((e=>Promise.reject(e)));return o.phoneSessionInfo.sessionInfo}{Op("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Op(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Ym(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===$m){Op((null===n||void 0===n?void 0:n.type)===qg,e,"argument-error");return $g(e,await Yg(e,t,n))}return $g(e,t)}),"PHONE_PROVIDER"),l=await s.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ym(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===$m){Op((null===n||void 0===n?void 0:n.type)===qg,e,"argument-error");return ig(e,await Yg(e,t,n))}return ig(e,t)}),"PHONE_PROVIDER"),a=await r.catch((e=>Promise.reject(e)));return a.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Yg(e,t,n){Op(n.type===qg,e,"argument-error");const r=await n.verify();Op("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Kg{constructor(e){this.providerId=Kg.PROVIDER_ID,this.auth=Fm(e)}verifyPhoneNumber(e,t){return Wg(this.auth,e,Xt(t))}static credential(e,t){return og._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Kg.credentialFromTaggedObject(t)}static credentialFromError(e){return Kg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?og._fromTokenResponse(n,r):null}}function Qg(e,t){return t?vm(t):(Op(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kg.PROVIDER_ID="phone",Kg.PHONE_SIGN_IN_METHOD="phone";class Gg extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ng(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ng(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ng(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xg(e){return kg(e.auth,new Gg(e),e.bypassAuthState)}function Jg(e){const{auth:t,user:n}=e;return Op(n,t,"internal-error"),bg(n,new Gg(e),e.bypassAuthState)}async function Zg(e){const{auth:t,user:n}=e;return Op(n,t,"internal-error"),wg(n,new Gg(e),e.bypassAuthState)}class ev{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(eT){this.reject(eT)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(eT){this.reject(eT)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xg;case"linkViaPopup":case"linkViaRedirect":return Zg;case"reauthViaPopup":case"reauthViaRedirect":return Jg;default:Np(this.auth,"internal-error")}}resolve(e){Fp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tv=new zp(2e3,1e4);class nv extends ev{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nv.currentPopupAction&&nv.currentPopupAction.cancel(),nv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Op(e,this.auth,"internal-error"),e}async onExecution(){Fp(1===this.filter.length,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Pp(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Pp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Pp(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,tv.get())};e()}}nv.currentPopupAction=null;const rv=new Map;class iv extends ev{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=rv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=sv(t),r=ov(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(eT){e=()=>Promise.reject(eT)}rv.set(this.auth._key(),e)}return this.bypassAuthState||rv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function av(e,t){rv.set(e._key(),t)}function ov(e){return vm(e._redirectPersistence)}function sv(e){return bm("pendingRedirect",e.config.apiKey,e.name)}async function lv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dr(e.app))return Promise.reject(Rp(e));const r=Fm(e),i=Qg(r,t),a=new iv(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class cv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!dv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pp(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(e))}saveEventToCache(e){this.cachedEventUids.add(uv(e)),this.lastProcessedEventTime=Date.now()}}function uv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function dv(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const hv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fv=/^https?/;async function pv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Yp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(mv(n))return}catch(p_){}Np(e,"unauthorized-domain")}function mv(e){const t=jp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fv.test(n))return!1;if(hv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gv=new zp(3e4,6e4);function vv(){const e=Ag().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function yv(e){return new Promise(((t,n)=>{var r,i,a;function o(){vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vv(),n(Pp(e,"network-request-failed"))},timeout:gv.get()})}if(null===(i=null===(r=Ag().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ag().gapi)||void 0===a?void 0:a.load)){const t=zm("iframefcb");return Ag()[t]=()=>{gapi.load?o():n(Pp(e,"network-request-failed"))},Vm(`${Um.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw wv=null,e}))}let wv=null;const bv=new zp(5e3,15e3),kv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ev(e){const t=e.config;Op(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hp(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:pr},i=Sv.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${qt(r).slice(1)}`}async function _v(e){const t=await function(e){return wv=wv||yv(e),wv}(e),n=Ag().gapi;return Op(n,e,"internal-error"),t.open({where:document.body,url:Ev(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Pp(e,"network-request-failed"),a=Ag().setTimeout((()=>{r(i)}),bv.get());function o(){Ag().clearTimeout(a),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Tv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(eT){}}}function Dv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Tv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ot().toLowerCase();n&&(s=Tm(c)?"_blank":n),Em(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Nm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Cv(null);const d=window.open(t||"",s,u);Op(d,e,"popup-blocked");try{d.focus()}catch(eT){}return new Cv(d)}const Iv="__/auth/handler",xv="emulator/auth/handler",Nv=encodeURIComponent("fac");async function Pv(e,t,n,r,i,a){Op(e.config.authDomain,e,"auth-domain-config-required"),Op(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pr,eventId:i};if(t instanceof cg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof ug){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Nv}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Iv}`;return Hp(t,xv)}(e)}?${qt(s).slice(1)}${c}`}const Av="webStorageSupport";const Rv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ig,this._completeRedirectFn=lv,this._overrideRedirectResult=av}async _openPopup(e,t,n,r){var i;Fp(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Dv(e,await Pv(e,t,n,jp(),r),Ng())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ag().location.href=e}(await Pv(e,t,n,jp(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await _v(e),n=new cv(e);return t.register("authEvent",(t=>{Op(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Av,{type:Av},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Av];void 0!==i&&t(!!i),Np(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Am()||_m()||Nm()}};var Mv="@firebase/auth",Ov="1.9.1";class Lv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Op(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fv=Rt("authIdTokenMaxAge")||300;let jv=null;var Uv,Vv;Uv={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Pp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Um=Uv,Vv="Browser",cr(new Jt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Op(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Vv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rm(Vv)},c=new Lm(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),cr(new Jt("auth-internal",(e=>(e=>new Lv(e))(Fm(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Mv,Ov,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Vv)),vr(Mv,Ov,"esm2017");const zv=mr({apiKey:"AIzaSyBbGAzDVGb1opD7IdzCKSUdNOy3kHCqeVk",authDomain:"vote-voyage.firebaseapp.com",projectId:"vote-voyage",storageBucket:"vote-voyage.firebasestorage.app",messagingSenderId:"993832086387",appId:"1:993832086387:web:d41208fe58e24d5389f306",measurementId:"G-BDX2QW3M4T"}),Hv=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();e=Xt(e);const t=ur(e,vi);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ur(e,vi);if(n.isInitialized()){const e=n.getImmediate();if(Bt(t,n.getOptions()))return e;throw bi.create("already-initialized")}const r=n.initialize({options:t})}(e)}(zv),function(e,t){const n="object"==typeof e?e:gr(),r="string"==typeof e?e:t||ds,i=ur(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Pt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Nf(i,...e)}return i}(zv));!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();const t=ur(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ur(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Bt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Np(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Rv,persistence:[Bg,Cg,Ig]}),r=Rt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fv)return;const r=null===t||void 0===t?void 0:t.token;jv!==r&&(jv=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Xt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Xt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=Pt("auth");a&&Qm(n,`http://${a}`)}(zv);async function Bv(e){const t=Of(Hv,"trips",e),n=await function(e){e=Tf(e,Af);const t=Tf(e.firestore,jf);return vf(Uf(t),e._key).then((n=>Ep(t,e,n)))}(t);return n.exists()?n.data():(console.log("No such trip found!"),null)}async function $v(e,t){const n=Of(Hv,"trips",e);await function(e,t,n){e=Tf(e,Af);const r=Tf(e.firestore,jf),i=Xf(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=Xt(t))||t instanceof Hf?ep(i,"updateDoc",e._key,t,n,s):Zf(i,"updateDoc",e._key,t),Sp(r,[a.toMutation(e._key,rc.exists(!0))])}(n,t)}async function qv(e){const t=Mf(Hv,`trips/${e}/ideas`),n=(await kp(t)).docs.map((e=>({id:e.id,...e.data()})));return n}const Wv=function(){const[e,t]=(0,r.useState)([]),n=te();return(0,r.useEffect)((()=>{!async function(){const e=await async function(){const e=Mf(Hv,"trips"),t=(await kp(e)).docs.map(((e,t)=>({id:e.id,index:t,...e.data()})));return t}();t(e)}()}),[]),(0,St.jsxs)("div",{className:"Home",children:[(0,St.jsx)(tt,{to:"/profile",className:"profile",children:(0,St.jsx)("img",{src:"https://www.tapback.co/api/avatar/nevelle.webp",alt:"Profile"})}),(0,St.jsxs)("div",{className:"trip-carousel",children:[(0,St.jsx)("h3",{children:"Current Trips"}),(0,St.jsx)(Et,{data:e,onTripClick:e=>{n(`/trip/${e}/home`)}}),(0,St.jsxs)("div",{className:"action-buttons",children:[(0,St.jsx)(tt,{to:"/plan-new-trip",className:"button",children:"Plan New Trip"}),(0,St.jsx)(tt,{to:"/past-trips",className:"button",children:"View Past Trips"})]})]})]})},Yv=JSON.parse('{"F":[{"id":0,"name":"Spring Break","img":"assets/trip1.jpeg"},{"id":1,"name":"New York City","img":"assets/trip2.jpeg"},{"id":2,"name":"Girls Trip!","img":"assets/trip3.jpg"}]}');const Kv=function(){const e=Yv.F,t=te();return(0,St.jsxs)("div",{className:"Home",children:[(0,St.jsx)(tt,{to:"/profile",className:"profile",children:(0,St.jsx)("img",{src:"https://www.tapback.co/api/avatar/nevelle.webp",alt:"Profile"})}),(0,St.jsxs)("div",{className:"trip-carousel",children:[(0,St.jsx)("h3",{children:"Past Trips"}),(0,St.jsx)(Et,{data:e,onTripClick:e=>{t(`/trip/${e}/home`)}}),(0,St.jsxs)("div",{className:"action-buttons",children:[(0,St.jsx)(tt,{to:"/plan-new-trip",className:"button",children:"Plan New Trip"}),(0,St.jsx)(tt,{to:"/cs378-final",className:"button",children:"View Current Trips"})]})]})]})};const Qv=function(){var e;const{id:t}=ne(),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(0),[s,l]=(0,r.useState)("");return(0,r.useEffect)((()=>{!async function(){const e=await Bv(t);e&&(i(e),l(e.imageUrl||""))}(),async function(){const e=(await qv(t)).filter((e=>{var t,n,r,i;return!e.archived&&!(null!==(t=e.votes)&&void 0!==t&&null!==(n=t.yes)&&void 0!==n&&n.includes("0"))&&!(null!==(r=e.votes)&&void 0!==r&&null!==(i=r.no)&&void 0!==i&&i.includes("0"))}));o(e.length)}()}),[t]),(0,St.jsxs)("div",{children:[(0,St.jsxs)("h3",{children:["Trip Home for Trip ID: ",t]}),n?(0,St.jsxs)("div",{children:[(0,St.jsx)("h4",{children:"Trip Details"}),(0,St.jsxs)("p",{children:[(0,St.jsx)("strong",{children:"Start Date:"})," ",n.start.toDate().toLocaleString()]}),(0,St.jsxs)("p",{children:[(0,St.jsx)("strong",{children:"End Date:"})," ",n.end.toDate().toLocaleString()]}),(0,St.jsxs)("p",{children:[(0,St.jsx)("strong",{children:"Members:"})," ",null===(e=n.members)||void 0===e?void 0:e.join(", ")]}),(0,St.jsxs)("p",{children:[(0,St.jsx)("strong",{children:"Ideas to Vote On:"})," ",a]}),n.imageUrl?(0,St.jsxs)("div",{children:[(0,St.jsx)("h4",{children:"Trip Image"}),(0,St.jsx)("img",{src:n.imageUrl,alt:"Trip",width:"200"})]}):(0,St.jsx)("p",{children:"No image uploaded."}),(0,St.jsx)("input",{type:"text",placeholder:"Enter Image URL",value:s,onChange:e=>l(e.target.value)}),(0,St.jsx)("button",{onClick:async function(){s&&(await $v(t,{imageUrl:s}),i((e=>({...e,imageUrl:s}))))},children:"Save Image URL"})]}):(0,St.jsx)("p",{children:"Loading trip details..."})]})};function Gv(e){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Xv(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Jv(e){return yt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Zv(e){return yt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function ey(e){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function ty(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ny(e){return yt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function ry(e){return yt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}const iy=function(){const e=te(),[t,n]=(0,r.useState)({name:"",phone:"",email:"",birthday:""}),i=e=>{const{name:r,value:i}=e.target;n({...t,[r]:i})};return(0,St.jsxs)("div",{className:"profile-container",children:[(0,St.jsx)("button",{className:"back-button",onClick:()=>e(-1),children:"\u2190 Back"}),(0,St.jsx)("h2",{children:"My Profile"}),(0,St.jsx)("div",{className:"profile-icon",children:(0,St.jsx)(ry,{size:100})}),(0,St.jsxs)("div",{className:"profile-form",children:[(0,St.jsxs)("label",{children:["Name:",(0,St.jsx)("input",{type:"text",name:"name",value:t.name,onChange:i})]}),(0,St.jsxs)("label",{children:["Phone:",(0,St.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:i})]}),(0,St.jsxs)("label",{children:["Email:",(0,St.jsx)("input",{type:"email",name:"email",value:t.email,onChange:i})]}),(0,St.jsxs)("label",{children:["Birthday:",(0,St.jsx)("input",{type:"date",name:"birthday",value:t.birthday,onChange:i})]})]}),(0,St.jsx)("button",{className:"save-button",onClick:()=>{console.log("Saved profile:",t),alert("Changes saved!")},children:"Save Changes"})]})};function ay(e){return Yv.F.find((t=>t.id===parseInt(e)))}const oy=()=>{const e=J().pathname.split("/")[2],t=ay(e),n=(null===t||void 0===t?void 0:t.name)||"Trip",r=`/trip/${e}`;return(0,St.jsxs)("div",{className:"navbar",children:[(0,St.jsx)(nt,{to:"/cs378-final/",className:"nav-button",children:(0,St.jsx)(Jv,{})}),(0,St.jsx)(nt,{to:`${r}/calendar`,className:"nav-button",children:(0,St.jsx)(Gv,{})}),(0,St.jsx)(nt,{to:`${r}/home`,className:"nav-button",children:(0,St.jsx)("div",{className:"trip-name",children:n})}),(0,St.jsx)(nt,{to:`${r}/ideas`,className:"nav-button",children:(0,St.jsx)(Zv,{})}),(0,St.jsx)(nt,{to:`${r}/settings`,className:"nav-button",children:(0,St.jsx)(Xv,{})})]})};const sy=function(){const{id:e}=ne();return console.log(ne()),(0,St.jsx)("div",{children:(0,St.jsxs)("h3",{children:["Calendar for Trip ID: ",e]})})};const ly=function(){const{id:e}=ne(),t=ay(e),[n,i]=(0,r.useState)((null===t||void 0===t?void 0:t.name)||e),a=J().pathname.split("/").slice(0,-1).join("/"),o=te(),[s,l]=(0,r.useState)(50),[c,u]=(0,r.useState)([{id:1,name:"Alice Smith",email:"alice@example.com"},{id:2,name:"Bob Johnson",email:"bob@example.com"}]);return(0,St.jsxs)("div",{className:"settings-wrapper",children:[(0,St.jsxs)("div",{className:"settings-header",children:[(0,St.jsx)("input",{className:"trip-name-input",value:n,onChange:e=>i(e.target.value)}),(0,St.jsx)("button",{className:"profile-icon",onClick:()=>o(`${a}/profile`),children:(0,St.jsx)(ry,{size:32})})]}),(0,St.jsxs)("div",{className:"settings-section",children:[(0,St.jsx)("h3",{children:"Members Attending"}),(0,St.jsx)("ul",{className:"members-list",children:c.map((e=>(0,St.jsxs)("li",{className:"member-item",children:[(0,St.jsxs)("div",{className:"member-info",children:[(0,St.jsx)(ry,{size:28,className:"member-avatar"}),(0,St.jsxs)("div",{children:[(0,St.jsx)("div",{className:"member-name",children:e.name}),(0,St.jsx)("div",{className:"member-email",children:e.email})]})]}),(0,St.jsx)("button",{className:"remove-button",onClick:()=>(e=>{u(c.filter((t=>t.id!==e)))})(e.id),children:(0,St.jsx)(ny,{})})]},e.id)))}),(0,St.jsxs)("button",{className:"add-button",onClick:()=>{const e=prompt("Enter email of new member:");if(!e)return;const t=e.split("@")[0].replace(/[^a-zA-Z]/g," "),n={id:Date.now(),name:t,email:e};u([...c,n])},children:[(0,St.jsx)(ey,{})," Add Member"]})]}),(0,St.jsxs)("div",{className:"settings-section",children:[(0,St.jsx)("h3",{children:"Approval Threshold"}),(0,St.jsx)("input",{className:"threshold-input",type:"number",min:"0",max:"100",value:s,onChange:e=>l(e.target.value)}),(0,St.jsx)("span",{className:"threshold-symbol",children:"%"})]}),(0,St.jsx)("button",{className:"save-button",onClick:()=>{console.log("Trip Name:",n),console.log("Threshold:",s),alert("Changes saved!")},children:"Save Changes"})]})};const cy=function(){const{id:e}=ne(),t=te(),[n,i]=(0,r.useState)("unvoted"),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)([]);return(0,r.useEffect)((()=>{!async function(){const t=(await qv(e)).map((e=>{var t,n,r,i;const a=(null===(t=e.votes)||void 0===t||null===(n=t.yes)||void 0===n?void 0:n.length)||0,o=a+((null===(r=e.votes)||void 0===r||null===(i=r.no)||void 0===i?void 0:i.length)||0),s=o>0?a/o*100:0;return{...e,acceptancePercentage:s.toFixed(2)}}));t.sort(((e,t)=>parseFloat(t.acceptancePercentage)-parseFloat(e.acceptancePercentage))),o(t)}()}),[e]),(0,r.useEffect)((()=>{const e="0";l((()=>{switch(n){case"archived":return a.filter((e=>e.archived));case"myIdeas":return a.filter((t=>!t.archived&&t.owner===e));case"voted":return a.filter((t=>{var n,r,i,a;return!t.archived&&((null===(n=t.votes)||void 0===n||null===(r=n.yes)||void 0===r?void 0:r.includes(e))||(null===(i=t.votes)||void 0===i||null===(a=i.no)||void 0===a?void 0:a.includes(e)))}));case"unvoted":return a.filter((t=>{var n,r,i,a;return!t.archived&&!(null!==(n=t.votes)&&void 0!==n&&null!==(r=n.yes)&&void 0!==r&&r.includes(e))&&!(null!==(i=t.votes)&&void 0!==i&&null!==(a=i.no)&&void 0!==a&&a.includes(e))}));default:return a}})())}),[n,a]),(0,St.jsxs)("div",{className:"ideas-page",children:[(0,St.jsxs)("h2",{className:"ideas-title",children:["Ideas for ",e]}),(0,St.jsx)("div",{className:"tabs",children:["archived","myIdeas","voted","unvoted"].map((e=>(0,St.jsx)("button",{className:"tab-button "+(n===e?"active":""),onClick:()=>i(e),children:"myIdeas"===e?"My Ideas":e.charAt(0).toUpperCase()+e.slice(1)},e)))}),(0,St.jsx)("div",{className:"idea-list",children:0===s.length?(0,St.jsx)("p",{className:"no-ideas",children:"No ideas found in this category."}):s.map(((e,t)=>{var n;return(0,St.jsxs)("div",{className:"idea-card",children:[e.imagePreview&&(0,St.jsx)("img",{src:e.imagePreview,alt:"Idea",className:"idea-cover"}),(0,St.jsxs)("div",{className:"idea-content",children:[(0,St.jsx)("h3",{children:e.name}),(0,St.jsxs)("p",{className:"idea-date",children:[null===(n=e.date)||void 0===n?void 0:n.toString().slice(0,15)," ",e.time]}),(0,St.jsxs)("p",{children:[e.location.latitude,", ",e.location.longitude]}),(0,St.jsx)("p",{children:e.description}),(0,St.jsxs)("p",{children:["Acceptance: ",e.acceptancePercentage,"%"]}),(0,St.jsx)("div",{className:"idea-tags",children:e.tags.map(((e,t)=>(0,St.jsx)("span",{className:"tag color-"+t%5,children:e},t)))})]})]},t)}))}),(0,St.jsx)("button",{className:"add-idea-button",onClick:()=>{t(`/trip/${e}/ideas/new`)},children:"\uff0b"})]})};function uy(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dy(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uy(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const hy=6048e5,fy=6e4,py=36e5,my=Symbol.for("constructDateFrom");function gy(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&my in e?e[my](t):e instanceof Date?new e.constructor(t):new Date(t)}function vy(e,t){return gy(t||e,e)}function yy(e,t){const n=()=>gy(t?.in,NaN),r=t?.additionalDigits??2,i=function(e){const t={},n=e.split(wy.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wy.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=wy.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let a;if(i.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(by);if(!n)return new Date(NaN);const r=!!n[4],i=Ey(n[1]),a=Ey(n[2])-1,o=Ey(n[3]),s=Ey(n[4]),l=Ey(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}(t,s,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Ty[t]||(Cy(e)?29:28))}(t,a,o)&&function(e,t){return t>=1&&t<=(Cy(e)?366:365)}(t,i)?(e.setUTCFullYear(t,a,Math.max(i,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return n();const o=+a;let s,l=0;if(i.time&&(l=function(e){const t=e.match(ky);if(!t)return NaN;const n=_y(t[1]),r=_y(t[2]),i=_y(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*py+r*fy+1e3*i}(i.time),isNaN(l)))return n();if(!i.timezone){const e=new Date(o+l),n=vy(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return s=function(e){if("Z"===e)return 0;const t=e.match(Sy);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*py+i*fy)}(i.timezone),isNaN(s)?n():vy(o+l+s,t?.in)}const wy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},by=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ky=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Sy=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ey(e){return e?parseInt(e):1}function _y(e){return e&&parseFloat(e.replace(",","."))||0}const Ty=[31,null,31,30,31,30,31,31,30,31,30,31];function Cy(e){return e%400===0||e%4===0&&e%100!==0}const Dy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Iy(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const xy={date:Iy({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Iy({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Iy({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ny={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Py(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Ay={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Py({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Py({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Py({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Py({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Py({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Ry(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const My={ordinalNumber:(Oy={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Oy.matchPattern);if(!n)return null;const r=n[0],i=e.match(Oy.parsePattern);if(!i)return null;let a=Oy.valueCallback?Oy.valueCallback(i[0]):i[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:Ry({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ry({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ry({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ry({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ry({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Oy;const Ly={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Dy[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:xy,formatRelative:(e,t,n,r)=>Ny[e],localize:Ay,match:My,options:{weekStartsOn:0,firstWeekContainsDate:1}},Fy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},jy=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Uy={p:jy,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Fy(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",Fy(r,t)).replace("{{time}}",jy(i,t))}},Vy=/^D+$/,zy=/^Y+$/,Hy=["D","DD","YY","YYYY"];function By(e){return Vy.test(e)}function $y(e){return zy.test(e)}function qy(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Hy.includes(e))throw new RangeError(r)}let Wy={};function Yy(){return Wy}function Ky(){return Object.assign({},Yy())}function Qy(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):gy(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class Gy{subPriority=0;validate(e,t){return!0}}class Xy extends Gy{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Jy extends Gy{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>gy(t,e))}set(e,t){return t.timestampIsSet?e:gy(e,Qy(e,this.context))}}class Zy{run(e,t,n,r){const i=this.parse(e,t,n,r);return i?{setter:new Xy(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}const ew=/^(1[0-2]|0?\d)/,tw=/^(3[0-1]|[0-2]?\d)/,nw=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,rw=/^(5[0-3]|[0-4]?\d)/,iw=/^(2[0-3]|[0-1]?\d)/,aw=/^(2[0-4]|[0-1]?\d)/,ow=/^(1[0-1]|0?\d)/,sw=/^(1[0-2]|0?\d)/,lw=/^[0-5]?\d/,cw=/^[0-5]?\d/,uw=/^\d/,dw=/^\d{1,2}/,hw=/^\d{1,3}/,fw=/^\d{1,4}/,pw=/^-?\d+/,mw=/^-?\d/,gw=/^-?\d{1,2}/,vw=/^-?\d{1,3}/,yw=/^-?\d{1,4}/,ww=/^([+-])(\d{2})(\d{2})?|Z/,bw=/^([+-])(\d{2})(\d{2})|Z/,kw=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Sw=/^([+-])(\d{2}):(\d{2})|Z/,Ew=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function _w(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Tw(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Cw(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*py+a*fy+1e3*o),rest:t.slice(n[0].length)}}function Dw(e){return Tw(pw,e)}function Iw(e,t){switch(e){case 1:return Tw(uw,t);case 2:return Tw(dw,t);case 3:return Tw(hw,t);case 4:return Tw(fw,t);default:return Tw(new RegExp("^\\d{1,"+e+"}"),t)}}function xw(e,t){switch(e){case 1:return Tw(mw,t);case 2:return Tw(gw,t);case 3:return Tw(vw,t);case 4:return Tw(yw,t);default:return Tw(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Nw(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Pw(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i}function Aw(e){return e%400===0||e%4===0&&e%100!==0}function Rw(e,t){const n=Yy(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=vy(e,t?.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Mw(e,t){const n=vy(e,t?.in),r=n.getFullYear(),i=Yy(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=gy(t?.in||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=Rw(o,t),l=gy(t?.in||e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Rw(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function Ow(e,t){return Rw(e,{...t,weekStartsOn:1})}function Lw(e,t){const n=Yy(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Mw(e,t),a=gy(t?.in||e,0);a.setFullYear(i,0,r),a.setHours(0,0,0,0);return Rw(a,t)}function Fw(e,t){const n=vy(e,t?.in),r=+Rw(n,t)-+Lw(n,t);return Math.round(r/hy)+1}function jw(e,t,n){const r=vy(e,n?.in),i=Fw(r,n)-t;return r.setDate(r.getDate()-7*i),vy(r,n?.in)}function Uw(e,t){const n=vy(e,t?.in),r=n.getFullYear(),i=gy(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Ow(i),o=gy(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Ow(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Vw(e,t){const n=Uw(e,t),r=gy(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ow(r)}function zw(e,t){const n=vy(e,t?.in),r=+Ow(n)-+Vw(n);return Math.round(r/hy)+1}function Hw(e,t,n){const r=vy(e,n?.in),i=zw(r,n)-t;return r.setDate(r.getDate()-7*i),r}const Bw=[31,28,31,30,31,30,31,31,30,31,30,31],$w=[31,29,31,30,31,30,31,31,30,31,30,31];function qw(e,t,n){const r=vy(e,n?.in);return isNaN(t)?gy(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Ww(e,t,n){const r=Yy(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=vy(e,n?.in),o=a.getDay(),s=7-i;return qw(a,t<0||t>6?t-(o+s)%7:((t%7+7)%7+s)%7-(o+s)%7,n)}function Yw(e,t){const n=vy(e,t?.in).getDay();return 0===n?7:n}function Kw(e,t,n){const r=vy(e,n?.in);return qw(r,t-Yw(r,n),n)}function Qw(e){const t=vy(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Gw={G:new class extends Zy{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Zy{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return _w(Iw(4,e),r);case"yo":return _w(n.ordinalNumber(e,{unit:"year"}),r);default:return _w(Iw(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=Pw(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Zy{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return _w(Iw(4,e),r);case"Yo":return _w(n.ordinalNumber(e,{unit:"year"}),r);default:return _w(Iw(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const i=Mw(e,r);if(n.isTwoDigitYear){const t=Pw(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Rw(e,r)}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Rw(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Zy{priority=130;parse(e,t){return xw("R"===t?4:t.length,e)}set(e,t,n){const r=gy(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ow(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Zy{priority=130;parse(e,t){return xw("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Zy{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Iw(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Zy{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Iw(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Zy{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return _w(Tw(ew,e),r);case"MM":return _w(Iw(2,e),r);case"Mo":return _w(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Zy{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return _w(Tw(ew,e),r);case"LL":return _w(Iw(2,e),r);case"Lo":return _w(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Zy{priority=100;parse(e,t,n){switch(t){case"w":return Tw(rw,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Iw(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Rw(jw(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Zy{priority=100;parse(e,t,n){switch(t){case"I":return Tw(rw,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Iw(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ow(Hw(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Zy{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Tw(tw,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Iw(t.length,e)}}validate(e,t){const n=Aw(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=$w[r]:t>=1&&t<=Bw[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Zy{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Tw(nw,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Iw(t.length,e)}}validate(e,t){return Aw(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Zy{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Ww(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Zy{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return _w(Iw(t.length,e),i);case"eo":return _w(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Ww(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Zy{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return _w(Iw(t.length,e),i);case"co":return _w(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Ww(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Zy{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Iw(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return _w(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return _w(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return _w(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return _w(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Kw(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Zy{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Nw(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Zy{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Nw(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Zy{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Nw(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Zy{priority=70;parse(e,t,n){switch(t){case"h":return Tw(sw,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Iw(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Zy{priority=70;parse(e,t,n){switch(t){case"H":return Tw(iw,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Iw(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Zy{priority=70;parse(e,t,n){switch(t){case"K":return Tw(ow,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Iw(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Zy{priority=70;parse(e,t,n){switch(t){case"k":return Tw(aw,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Iw(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Zy{priority=60;parse(e,t,n){switch(t){case"m":return Tw(lw,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Iw(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Zy{priority=50;parse(e,t,n){switch(t){case"s":return Tw(cw,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Iw(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends Zy{priority=30;parse(e,t){return _w(Iw(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends Zy{priority=10;parse(e,t){switch(t){case"X":return Cw(ww,e);case"XX":return Cw(bw,e);case"XXXX":return Cw(kw,e);case"XXXXX":return Cw(Ew,e);default:return Cw(Sw,e)}}set(e,t,n){return t.timestampIsSet?e:gy(e,e.getTime()-Qw(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends Zy{priority=10;parse(e,t){switch(t){case"x":return Cw(ww,e);case"xx":return Cw(bw,e);case"xxxx":return Cw(kw,e);case"xxxxx":return Cw(Ew,e);default:return Cw(Sw,e)}}set(e,t,n){return t.timestampIsSet?e:gy(e,e.getTime()-Qw(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends Zy{priority=40;parse(e){return Dw(e)}set(e,t,n){return[gy(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Zy{priority=20;parse(e){return Dw(e)}set(e,t,n){return[gy(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},Xw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zw=/^'([^]*?)'?$/,eb=/''/g,tb=/\S/,nb=/[a-zA-Z]/;function rb(e,t,n,r){const i=()=>gy(r?.in||n,NaN),a=Ky(),o=r?.locale??a.locale??Ly,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?i():vy(n,r?.in);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:o},u=[new Jy(r?.in,n)],d=t.match(Jw).map((e=>{const t=e[0];if(t in Uy){return(0,Uy[t])(e,o.formatLong)}return e})).join("").match(Xw),h=[];for(let g of d){!r?.useAdditionalWeekYearTokens&&$y(g)&&qy(g,t,e),!r?.useAdditionalDayOfYearTokens&&By(g)&&qy(g,t,e);const n=g[0],a=Gw[n];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===a.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);h.push({token:n,fullToken:g});const r=a.run(e,g,o.match,c);if(!r)return i();u.push(r.setter),e=r.rest}else{if(n.match(nb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=g.match(Zw)[1].replace(eb,"'")),0!==e.indexOf(g))return i();e=e.slice(g.length)}}if(e.length>0&&tb.test(e))return i();const f=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let p=vy(n,r?.in);if(isNaN(+p))return i();const m={};for(const g of f){if(!g.validate(p,c))return i();const e=g.set(p,m,c);Array.isArray(e)?(p=e[0],Object.assign(m,e[1])):p=e}return p}function ib(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ab(e){return!(!ib(e)&&"number"!==typeof e||isNaN(+vy(e)))}function ob(e,t){return+vy(e)<+vy(t)}function sb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=gy.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}function lb(e,t){const n=vy(e,t?.in);return n.setHours(0,0,0,0),n}function cb(e,t,n){const[r,i]=sb(n?.in,e,t),a=lb(r),o=lb(i),s=+a-Qw(a),l=+o-Qw(o);return Math.round((s-l)/864e5)}function ub(e,t){const n=vy(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function db(e,t){const n=vy(e,t?.in);return cb(n,ub(n))+1}function hb(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const fb={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return hb("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):hb(n+1,2)},d:(e,t)=>hb(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>hb(e.getHours()%12||12,t.length),H:(e,t)=>hb(e.getHours(),t.length),m:(e,t)=>hb(e.getMinutes(),t.length),s:(e,t)=>hb(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return hb(Math.trunc(r*Math.pow(10,n-3)),t.length)}},pb="midnight",mb="noon",gb="morning",vb="afternoon",yb="evening",wb="night",bb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return fb.y(e,t)},Y:function(e,t,n,r){const i=Mw(e,r),a=i>0?i:1-i;if("YY"===t){return hb(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):hb(a,t.length)},R:function(e,t){return hb(Uw(e),t.length)},u:function(e,t){return hb(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return hb(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return hb(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return fb.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return hb(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Fw(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):hb(i,t.length)},I:function(e,t,n){const r=zw(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):hb(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):fb.d(e,t)},D:function(e,t,n){const r=db(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):hb(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return hb(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return hb(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return hb(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?mb:0===r?pb:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?yb:r>=12?vb:r>=4?gb:wb,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return fb.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):fb.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):hb(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):hb(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):fb.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):fb.s(e,t)},S:function(e,t){return fb.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Sb(r);case"XXXX":case"XX":return Eb(r);default:return Eb(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Sb(r);case"xxxx":case"xx":return Eb(r);default:return Eb(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kb(r,":");default:return"GMT"+Eb(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kb(r,":");default:return"GMT"+Eb(r,":")}},t:function(e,t,n){return hb(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return hb(+e,t.length)}};function kb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+hb(a,2)}function Sb(e,t){if(e%60===0){return(e>0?"-":"+")+hb(Math.abs(e)/60,2)}return Eb(e,t)}function Eb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+hb(Math.trunc(r/60),2)+t+hb(r%60,2)}const _b=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cb=/^'([^]*?)'?$/,Db=/''/g,Ib=/[a-zA-Z]/;function xb(e,t,n){const r=Yy(),i=n?.locale??r.locale??Ly,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=vy(e,n?.in);if(!ab(s))throw new RangeError("Invalid time value");let l=t.match(Tb).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Uy[t])(e,i.formatLong)}return e})).join("").match(_b).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Nb(e)};if(bb[t])return{isToken:!0,value:e};if(t.match(Ib))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const a=r.value;(!n?.useAdditionalWeekYearTokens&&$y(a)||!n?.useAdditionalDayOfYearTokens&&By(a))&&qy(a,t,String(e));return(0,bb[a[0]])(s,a,i.localize,c)})).join("")}function Nb(e){const t=e.match(Cb);return t?t[1].replace(Db,"'"):e}function Pb(e,t,n){const r=vy(e,n?.in);return r.setHours(t),r}function Ab(e,t,n){const r=vy(e,n?.in);return r.setMinutes(t),r}function Rb(e,t,n){const r=vy(e,n?.in);return r.setSeconds(t),r}function Mb(e,t){const n=vy(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Ob(e,t){const n=vy(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function Lb(e,t){const n=vy(e,t?.in);return n.setHours(23,59,59,999),n}function Fb(e,t){const n=Yy(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=vy(e,t?.in),a=i.getDay(),o=6+(a<r?-7:0)-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function jb(e,t){const n=vy(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Ub(e,t,n){const[r,i]=sb(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function Vb(e,t,n){const[r,i]=sb(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function zb(e,t,n){const[r,i]=sb(n?.in,e,t);return+Ob(r)===+Ob(i)}function Hb(e,t,n){const[r,i]=sb(n?.in,e,t);return+lb(r)===+lb(i)}function Bb(e,t){return+vy(e)===+vy(t)}function $b(e,t,n){const r=+vy(e,n?.in),[i,a]=[+vy(t.start,n?.in),+vy(t.end,n?.in)].sort(((e,t)=>e-t));return r>=i&&r<=a}function qb(e,t){const n=vy(e,t?.in),r=n.getFullYear(),i=n.getMonth(),a=gy(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Wb(e,t,n){const r=vy(e,n?.in),i=r.getFullYear(),a=r.getDate(),o=gy(n?.in||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);const s=qb(o);return r.setMonth(t,Math.min(a,s)),r}function Yb(e,t,n){const r=vy(e,n?.in),i=t-(Math.trunc(r.getMonth()/3)+1);return Wb(r,r.getMonth()+3*i)}function Kb(e,t){return vy(e,t?.in).getFullYear()}function Qb(e,t){return vy(e,t?.in).getMonth()}function Gb(e,t){const n=vy(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Xb(e,t){const n=vy(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Jb(e,t){return vy(e,t?.in).getHours()}function Zb(e,t){return vy(e,t?.in).getMinutes()}function ek(e){return vy(e).getSeconds()}function tk(e,t,n){const r=vy(e,n?.in);if(isNaN(t))return gy(n?.in||e,NaN);if(!t)return r;const i=r.getDate(),a=gy(n?.in||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);return i>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function nk(e,t,n){return tk(e,-t,n)}function rk(e,t,n){const[r,i]=sb(n?.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function ik(e,t,n){return tk(e,3*t,n)}function ak(e,t,n){return ik(e,-t,n)}function ok(e,t,n){const[r,i]=sb(n?.in,e,t);return 4*(r.getFullYear()-i.getFullYear())+(Xb(r)-Xb(i))}function sk(e,t,n){return tk(e,12*t,n)}function lk(e,t,n){return sk(e,-t,n)}function ck(e,t,n){const[r,i]=sb(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function uk(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=gy.bind(null,e));const t=vy(e,r);(!n||n>t||isNaN(+t))&&(n=t)})),gy(r,n||NaN)}function dk(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=gy.bind(null,e));const t=vy(e,r);(!n||n<t||isNaN(+t))&&(n=t)})),gy(r,n||NaN)}function hk(e,t,n){return gy(n?.in||e,+vy(e)+t)}function fk(e,t,n){return hk(e,t*py,n)}function pk(e,t,n){const r=vy(e,n?.in);return r.setTime(r.getTime()+t*fy),r}function mk(e,t,n){return hk(e,1e3*t,n)}function gk(e,t){return+vy(e)>+vy(t)}function vk(e,t){return vy(e,t?.in).getDay()}function yk(e,t){return vy(e,t?.in).getDate()}function wk(e,t,n){return qw(e,7*t,n)}function bk(e){return+vy(e)}function kk(e,t,n){const r=vy(e,n?.in);return isNaN(+r)?gy(n?.in||e,NaN):(r.setFullYear(t),r)}function Sk(e,t,n){const[r,i]=sb(n?.in,e,t),a=Ek(r,i),o=Math.abs(cb(r,i));r.setDate(r.getDate()-a*o);const s=a*(o-Number(Ek(r,i)===-a));return 0===s?0:s}function Ek(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function _k(e,t,n){return wk(e,-t,n)}function Tk(e,t,n){return qw(e,-t,n)}function Ck(){return"undefined"!==typeof window}function Dk(e){return Nk(e)?(e.nodeName||"").toLowerCase():"#document"}function Ik(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function xk(e){var t;return null==(t=(Nk(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Nk(e){return!!Ck()&&(e instanceof Node||e instanceof Ik(e).Node)}function Pk(e){return!!Ck()&&(e instanceof Element||e instanceof Ik(e).Element)}function Ak(e){return!!Ck()&&(e instanceof HTMLElement||e instanceof Ik(e).HTMLElement)}function Rk(e){return!(!Ck()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ik(e).ShadowRoot)}function Mk(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Vk(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Ok(e){return["table","td","th"].includes(Dk(e))}function Lk(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(eT){return!1}}))}function Fk(e){const t=jk(),n=Pk(e)?Vk(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function jk(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Uk(e){return["html","body","#document"].includes(Dk(e))}function Vk(e){return Ik(e).getComputedStyle(e)}function zk(e){return Pk(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hk(e){if("html"===Dk(e))return e;const t=e.assignedSlot||e.parentNode||Rk(e)&&e.host||xk(e);return Rk(t)?t.host:t}function Bk(e){const t=Hk(e);return Uk(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ak(t)&&Mk(t)?t:Bk(t)}function $k(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Bk(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=Ik(i);if(a){const e=qk(o);return t.concat(o,o.visualViewport||[],Mk(i)?i:[],e&&n?$k(e):[])}return t.concat(i,$k(i,[],n))}function qk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Wk=n(950);const Yk=Math.min,Kk=Math.max,Qk=Math.round,Gk=Math.floor,Xk=e=>({x:e,y:e}),Jk={left:"right",right:"left",bottom:"top",top:"bottom"},Zk={start:"end",end:"start"};function eS(e,t){return"function"===typeof e?e(t):e}function tS(e){return e.split("-")[0]}function nS(e){return e.split("-")[1]}function rS(e){return"y"===e?"height":"width"}function iS(e){return["top","bottom"].includes(tS(e))?"y":"x"}function aS(e){return"x"===iS(e)?"y":"x"}function oS(e){return e.replace(/start|end/g,(e=>Zk[e]))}function sS(e){return e.replace(/left|right|bottom|top/g,(e=>Jk[e]))}function lS(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function cS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function uS(e,t,n){let{reference:r,floating:i}=e;const a=iS(t),o=aS(t),s=rS(o),l=tS(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(nS(t)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1)}return f}async function dS(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=eS(t,e),p=lS(f),m=s[h?"floating"===d?"reference":"floating":d],g=cS(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),w=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=cS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/w.y,bottom:(b.bottom-g.bottom+p.bottom)/w.y,left:(g.left-b.left+p.left)/w.x,right:(b.right-g.right+p.right)/w.x}}function hS(e){const t=Vk(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ak(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Qk(n)!==a||Qk(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function fS(e){return Pk(e)?e:e.contextElement}function pS(e){const t=fS(e);if(!Ak(t))return Xk(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=hS(t);let o=(a?Qk(n.width):n.width)/r,s=(a?Qk(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const mS=Xk(0);function gS(e){const t=Ik(e);return jk()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:mS}function vS(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=fS(e);let o=Xk(1);t&&(r?Pk(r)&&(o=pS(r)):o=pS(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ik(e))&&t}(a,n,r)?gS(a):Xk(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const e=Ik(a),t=r&&Pk(r)?Ik(r):r;let n=e,i=qk(n);for(;i&&r&&t!==n;){const e=pS(i),t=i.getBoundingClientRect(),r=Vk(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=o,n=Ik(i),i=qk(n)}}return cS({width:u,height:d,x:l,y:c})}function yS(e,t){const n=zk(e).scrollLeft;return t?t.left+n:vS(xk(e)).left+n}function wS(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:yS(e,r)),y:r.top+t.scrollTop}}function bS(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ik(e),r=xk(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const e=jk();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=xk(e),n=zk(e),r=e.ownerDocument.body,i=Kk(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Kk(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yS(e);const s=-n.scrollTop;return"rtl"===Vk(r).direction&&(o+=Kk(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(xk(e));else if(Pk(t))r=function(e,t){const n=vS(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ak(e)?pS(e):Xk(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=gS(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return cS(r)}function kS(e,t){const n=Hk(e);return!(n===t||!Pk(n)||Uk(n))&&("fixed"===Vk(n).position||kS(n,t))}function SS(e,t,n){const r=Ak(t),i=xk(t),a="fixed"===n,o=vS(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Xk(0);if(r||!r&&!a)if(("body"!==Dk(t)||Mk(i))&&(s=zk(t)),r){const e=vS(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=yS(i));const c=!i||r||a?Xk(0):wS(i,s);return{x:o.left+s.scrollLeft-l.x-c.x,y:o.top+s.scrollTop-l.y-c.y,width:o.width,height:o.height}}function ES(e){return"static"===Vk(e).position}function _S(e,t){if(!Ak(e)||"fixed"===Vk(e).position)return null;if(t)return t(e);let n=e.offsetParent;return xk(e)===n&&(n=n.ownerDocument.body),n}function TS(e,t){const n=Ik(e);if(Lk(e))return n;if(!Ak(e)){let t=Hk(e);for(;t&&!Uk(t);){if(Pk(t)&&!ES(t))return t;t=Hk(t)}return n}let r=_S(e,t);for(;r&&Ok(r)&&ES(r);)r=_S(r,t);return r&&Uk(r)&&ES(r)&&!Fk(r)?n:r||function(e){let t=Hk(e);for(;Ak(t)&&!Uk(t);){if(Fk(t))return t;if(Lk(t))return null;t=Hk(t)}return null}(e)||n}const CS={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,o=xk(r),s=!!t&&Lk(t.floating);if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Xk(1);const u=Xk(0),d=Ak(r);if((d||!d&&!a)&&(("body"!==Dk(r)||Mk(o))&&(l=zk(r)),Ak(r))){const e=vS(r);c=pS(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||a?Xk(0):wS(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:xk,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Lk(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=$k(e,[],!1).filter((e=>Pk(e)&&"body"!==Dk(e))),i=null;const a="fixed"===Vk(e).position;let o=a?Hk(e):e;for(;Pk(o)&&!Uk(o);){const t=Vk(o),n=Fk(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Mk(o)&&!n&&kS(e,o))?r=r.filter((e=>e!==o)):i=t,o=Hk(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=a[0],s=a.reduce(((e,n)=>{const r=bS(t,n,i);return e.top=Kk(r.top,e.top),e.right=Yk(r.right,e.right),e.bottom=Yk(r.bottom,e.bottom),e.left=Kk(r.left,e.left),e}),bS(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:TS,getElementRects:async function(e){const t=this.getOffsetParent||TS,n=this.getDimensions,r=await n(e.floating);return{reference:SS(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=hS(e);return{width:t,height:n}},getScale:pS,isElement:Pk,isRTL:function(e){return"rtl"===Vk(e).direction}};function DS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IS(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=fS(e),u=i||a?[...c?$k(c):[],...$k(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const i=xk(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(s||t(),!h||!f)return;const p={rootMargin:-Gk(d)+"px "+-Gk(i.clientWidth-(u+h))+"px "+-Gk(i.clientHeight-(d+f))+"px "+-Gk(u)+"px",threshold:Kk(0,Yk(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return o();r?o(!1,r):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}1!==r||DS(c,e.getBoundingClientRect())||o(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(eT){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),a}(c,n):null;let h,f=-1,p=null;o&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?vS(e):null;return l&&function t(){const r=vS(e);m&&!DS(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const xS=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=tS(n),s=nS(n),l="y"===iS(n),c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,d=eS(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},NS=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=eS(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=tS(i),y=iS(s),w=tS(s)===s,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),k=h||(w||!m?[sS(s)]:function(e){const t=sS(e);return[oS(e),t,oS(t)]}(s)),S="none"!==p;!h&&S&&k.push(...function(e,t,n,r){const i=nS(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}(tS(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(oS)))),a}(s,m,p,b));const E=[s,...k],_=await dS(t,g),T=[];let C=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&T.push(_[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=nS(e),i=aS(e),a=rS(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=sS(o)),[o,sS(o)]}(i,o,b);T.push(_[e[0]],_[e[1]])}if(C=[...C,{placement:i,overflows:T}],!T.every((e=>e<=0))){var D,I;const e=((null==(D=a.flip)?void 0:D.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(I=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:I.placement;if(!n)switch(f){case"bestFit":{var x;const e=null==(x=C.filter((e=>{if(S){const t=iS(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:x[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},PS=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=eS(e,t)||{};if(null==c)return{};const d=lS(u),h={x:n,y:r},f=aS(i),p=rS(f),m=await o.getDimensions(c),g="y"===f,v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=a.reference[p]+a.reference[f]-h[f]-a.floating[p],k=h[f]-a.reference[f],S=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let E=S?S[w]:0;E&&await(null==o.isElement?void 0:o.isElement(S))||(E=s.floating[w]||a.floating[p]);const _=b/2-k/2,T=E/2-m[p]/2-1,C=Yk(d[v],T),D=Yk(d[y],T),I=C,x=E-m[p]-D,N=E/2-m[p]/2+_,P=Kk(I,Yk(N,x));const A=!l.arrow&&null!=nS(i)&&N!==P&&a.reference[p]/2-(N<I?C:D)-m[p]/2<0,R=A?N<I?N-I:N-x:0;return{[f]:h[f]+R,data:{[f]:P,centerOffset:N-P-R,...A&&{alignmentOffset:R}},reset:A}}}),AS=(e,t,n)=>{const r=new Map,i={platform:CS,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=uS(c,r,l),h=r,f={},p=0;for(let m=0;m<s.length;m++){const{name:n,fn:a}=s[m],{x:g,y:v,data:y,reset:w}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,f={...f,[n]:{...f[n],...y}},w&&p<=50&&(p++,"object"===typeof w&&(w.placement&&(h=w.placement),w.rects&&(c=!0===w.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:d}=uS(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})};var RS="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function MS(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!MS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!MS(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function OS(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function LS(e,t){const n=OS(e);return Math.round(t*n)/n}function FS(e){const t=r.useRef(e);return RS((()=>{t.current=e})),t}const jS=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?PS({element:n.current,padding:r}).fn(t):{}:n?PS({element:n,padding:r}).fn(t):{};var i}}),US=(e,t)=>({...xS(e),options:[e,t]}),VS=(e,t)=>({...jS(e),options:[e,t]});const zS={...i},HS=zS.useInsertionEffect||(e=>e());function BS(e){const t=r.useRef((()=>{0}));return HS((()=>{t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const $S="ArrowUp",qS="ArrowDown",WS="ArrowLeft",YS="ArrowRight";var KS="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;const QS=[WS,YS],GS=[$S,qS];let XS=!1,JS=0;const ZS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+JS++;const eE=zS.useId||function(){const[e,t]=r.useState((()=>XS?ZS():void 0));return KS((()=>{null==e&&t(ZS())}),[]),r.useEffect((()=>{XS=!0}),[]),e};const tE=r.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:o}},width:s=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:f,style:{transform:p,...m}={},...g}=e;const v=eE(),[y,w]=r.useState(!1);if(KS((()=>{if(!i)return;"rtl"===Vk(i).direction&&w(!0)}),[i]),!i)return null;const[b,k]=n.split("-"),S="top"===b||"bottom"===b;let E=d;(S&&null!=o&&o.x||!S&&null!=o&&o.y)&&(E=null);const _=2*u,T=_/2,C=s/2*(c/-8+1),D=l/2*c/4,I=!!f,x=E&&"end"===k?"bottom":"top";let N=E&&"end"===k?"right":"left";E&&y&&(N="end"===k?"left":"right");const P=null!=(null==a?void 0:a.x)?E||a.x:"",A=null!=(null==a?void 0:a.y)?E||a.y:"",R=f||"M0,0 H"+s+" L"+(s-C)+","+(l-D)+" Q"+s/2+","+l+" "+C+","+(l-D)+" Z",M={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[b];return(0,St.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:I?s:s+_,height:s,viewBox:"0 0 "+s+" "+(l>s?l:s),style:{position:"absolute",pointerEvents:"none",[N]:P,[x]:A,[b]:S||I?"100%":"calc(100% - "+_/2+"px)",transform:[M,p].filter((e=>!!e)).join(" "),...m},children:[_>0&&(0,St.jsx)("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:_+(f?0:1),d:R}),(0,St.jsx)("path",{stroke:_&&!f?g.fill:"none",d:R}),(0,St.jsx)("clipPath",{id:v,children:(0,St.jsx)("rect",{x:-T,y:T*(I?-1:1),width:s+_,height:s})})]})}));function nE(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const rE=r.createContext(null),iE=r.createContext(null),aE=()=>{var e;return(null==(e=r.useContext(rE))?void 0:e.id)||null},oE=()=>r.useContext(iE);function sE(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:i}=e,a=eE(),o=r.useRef({}),[s]=r.useState((()=>nE())),l=null!=aE(),[c,u]=r.useState(i.reference),d=BS(((e,t,r)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),h=r.useMemo((()=>({setPositionReference:u})),[]),f=r.useMemo((()=>({reference:c||i.reference||null,floating:i.floating||null,domReference:i.reference})),[c,i.reference,i.floating]);return r.useMemo((()=>({dataRef:o,open:t,onOpenChange:d,elements:f,events:s,floatingId:a,refs:h})),[t,d,f,s,a,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,a=i.elements,[o,s]=r.useState(null),[l,c]=r.useState(null),u=(null==a?void 0:a.domReference)||o,d=r.useRef(null),h=oE();KS((()=>{u&&(d.current=u)}),[u]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=r.useState(i);MS(f,i)||p(i);const[m,g]=r.useState(null),[v,y]=r.useState(null),w=r.useCallback((e=>{e!==E.current&&(E.current=e,g(e))}),[]),b=r.useCallback((e=>{e!==_.current&&(_.current=e,y(e))}),[]),k=o||m,S=s||v,E=r.useRef(null),_=r.useRef(null),T=r.useRef(d),C=null!=c,D=FS(c),I=FS(a),x=FS(u),N=r.useCallback((()=>{if(!E.current||!_.current)return;const e={placement:t,strategy:n,middleware:f};I.current&&(e.platform=I.current),AS(E.current,_.current,e).then((e=>{const t={...e,isPositioned:!1!==x.current};P.current&&!MS(T.current,t)&&(T.current=t,Wk.flushSync((()=>{h(t)})))}))}),[f,t,n,I,x]);RS((()=>{!1===u&&T.current.isPositioned&&(T.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const P=r.useRef(!1);RS((()=>(P.current=!0,()=>{P.current=!1})),[]),RS((()=>{if(k&&(E.current=k),S&&(_.current=S),k&&S){if(D.current)return D.current(k,S,N);N()}}),[k,S,N,D,C]);const A=r.useMemo((()=>({reference:E,floating:_,setReference:w,setFloating:b})),[w,b]),R=r.useMemo((()=>({reference:k,floating:S})),[k,S]),M=r.useMemo((()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=LS(R.floating,d.x),r=LS(R.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...OS(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,l,R.floating,d.x,d.y]);return r.useMemo((()=>({...d,update:N,refs:A,elements:R,floatingStyles:M})),[d,N,A,R,M])}({...e,elements:{...a,...l&&{reference:l}}}),p=r.useCallback((e=>{const t=Pk(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),f.refs.setReference(t)}),[f.refs]),m=r.useCallback((e=>{(Pk(e)||null===e)&&(d.current=e,s(e)),(Pk(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!Pk(e))&&f.refs.setReference(e)}),[f.refs]),g=r.useMemo((()=>({...f.refs,setReference:m,setPositionReference:p,domReference:d})),[f.refs,m,p]),v=r.useMemo((()=>({...f.elements,domReference:u})),[f.elements,u]),y=r.useMemo((()=>({...f,...i,refs:g,elements:v,nodeId:t})),[f,g,v,t,i]);return KS((()=>{i.dataRef.current.floatingContext=y;const e=null==h?void 0:h.nodesRef.current.find((e=>e.id===t));e&&(e.context=y)})),r.useMemo((()=>({...f,context:y,refs:g,elements:v})),[f,g,v,y])}var lE=function(e,t){return lE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},lE(e,t)};function cE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lE(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var uE=function(){return uE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uE.apply(this,arguments)};function dE(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var hE,fE=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,i=e.showTime,a=void 0!==i&&i,o=e.className,s=e.children,l=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return r.createElement("div",{className:o,role:"dialog","aria-label":l,"aria-modal":"true"},s)},pE=function(e){var t=e.children,n=e.onClickOutside,i=e.className,a=e.containerRef,o=e.style,s=function(e,t){var n=(0,r.useRef)(null),i=(0,r.useRef)(e);i.current=e;var a=(0,r.useCallback)((function(e){var r,a=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||null===(r=i.current)||void 0===r||r.call(i,e))}),[t]);return(0,r.useEffect)((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[a]),n}(n,e.ignoreClass);return r.createElement("div",{className:i,style:o,ref:function(e){s.current=e,a&&(a.current=e)}},t)};function mE(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(hE||(hE={}));function gE(e){if(null==e)return new Date;var t="string"===typeof e?yy(e):vy(e);return yE(t)?t:new Date}function vE(e,t,n,r,i){void 0===i&&(i=gE());for(var a=FE(n)||FE(LE()),o=0,s=Array.isArray(t)?t:[t];o<s.length;o++){var l=s[o],c=rb(e,l,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(yE(c)&&(!r||e===wE(c,l,n)))return c}return null}function yE(e,t){return ab(e)&&!ob(e,new Date("1/1/1800"))}function wE(e,t,n){if("en"===n)return xb(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?FE(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),xb(e,t,{locale:r=r||FE(LE()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function bE(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&wE(e,i,r)||""}function kE(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,a=void 0===i?0:i,o=t.second;return Pb(Ab(Rb(e,void 0===o?0:o),a),r)}function SE(e){return lb(e)}function EE(e,t,n){return Rw(e,{locale:FE(t||LE()),weekStartsOn:n})}function _E(e){return Mb(e)}function TE(e){return ub(e)}function CE(e){return Ob(e)}function DE(){return lb(gE())}function IE(e){return Lb(e)}function xE(e){return jb(e)}function NE(e,t){return e&&t?Ub(e,t):!e&&!t}function PE(e,t){return e&&t?Vb(e,t):!e&&!t}function AE(e,t){return e&&t?zb(e,t):!e&&!t}function RE(e,t){return e&&t?Hb(e,t):!e&&!t}function ME(e,t){return e&&t?Bb(e,t):!e&&!t}function OE(e,t,n){var r,i=lb(t),a=Lb(n);try{r=$b(e,{start:i,end:a})}catch(o){r=!1}return r}function LE(){return mE().__localeId__}function FE(e){if("string"===typeof e){var t=mE();return t.__localeData__?t.__localeData__[e]:void 0}return e}function jE(e,t){return wE(Wb(gE(),e),"LLLL",t)}function UE(e,t){return wE(Wb(gE(),e),"LLL",t)}function VE(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.excludeDateIntervals,s=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return QE(e,{minDate:r,maxDate:i})||a&&a.some((function(t){return t instanceof Date?RE(e,t):RE(e,t.date)}))||o&&o.some((function(t){var n=t.start,r=t.end;return $b(e,{start:n,end:r})}))||s&&!s.some((function(t){return RE(e,t)}))||l&&!l.some((function(t){var n=t.start,r=t.end;return $b(e,{start:n,end:r})}))||c&&!c(gE(e))||!1}function zE(e,t){var n=void 0===t?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some((function(t){var n=t.start,r=t.end;return $b(e,{start:n,end:r})})):r&&r.some((function(t){var n;return t instanceof Date?RE(e,t):RE(e,null!==(n=t.date)&&void 0!==n?n:new Date)}))||!1}function HE(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return QE(e,{minDate:r?Mb(r):void 0,maxDate:i?jb(i):void 0})||(null===a||void 0===a?void 0:a.some((function(t){return PE(e,t instanceof Date?t:t.date)})))||o&&!o.some((function(t){return PE(e,t)}))||s&&!s(gE(e))||!1}function BE(e,t,n,r){var i=Kb(e),a=Qb(e),o=Kb(t),s=Qb(t),l=Kb(r);return i===o&&i===l?a<=n&&n<=s:i<o&&(l===i&&a<=n||l===o&&s>=n||l<o&&l>i)}function $E(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates;return QE(e,{minDate:r,maxDate:i})||a&&a.some((function(t){return PE(t instanceof Date?t:t.date,e)}))||o&&!o.some((function(t){return PE(t,e)}))||!1}function qE(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return QE(e,{minDate:r,maxDate:i})||(null===a||void 0===a?void 0:a.some((function(t){return AE(e,t instanceof Date?t:t.date)})))||o&&!o.some((function(t){return AE(e,t)}))||s&&!s(gE(e))||!1}function WE(e,t,n){if(!t||!n)return!1;if(!ab(t)||!ab(n))return!1;var r=Kb(t),i=Kb(n);return r<=e&&i>=e}function YE(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate,l=new Date(e,0,1);return QE(l,{minDate:r?ub(r):void 0,maxDate:i?Gb(i):void 0})||(null===a||void 0===a?void 0:a.some((function(e){return NE(l,e instanceof Date?e:e.date)})))||o&&!o.some((function(e){return NE(l,e)}))||s&&!s(gE(l))||!1}function KE(e,t,n,r){var i=Kb(e),a=Xb(e),o=Kb(t),s=Xb(t),l=Kb(r);return i===o&&i===l?a<=n&&n<=s:i<o&&(l===i&&a<=n||l===o&&s>=n||l<o&&l>i)}function QE(e,t){var n,r=void 0===t?{}:t,i=r.minDate,a=r.maxDate;return null!==(n=i&&cb(e,i)<0||a&&cb(e,a)>0)&&void 0!==n&&n}function GE(e,t){return t.some((function(t){return Jb(t)===Jb(e)&&Zb(t)===Zb(e)&&ek(t)===ek(e)}))}function XE(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&GE(e,r)||i&&!GE(e,i)||a&&!a(e)||!1}function JE(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=gE();i=Rb(i=Ab(i=Pb(i,Jb(e)),Zb(e)),ek(e));var a=gE();a=Rb(a=Ab(a=Pb(a,Jb(n)),Zb(n)),ek(n));var o,s=gE();s=Rb(s=Ab(s=Pb(s,Jb(r)),Zb(r)),ek(r));try{o=!$b(i,{start:a,end:s})}catch(l){o=!1}return o}function ZE(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,a=nk(e,1);return r&&rk(r,a)>0||i&&i.every((function(e){return rk(e,a)>0}))||!1}function e_(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,a=tk(e,1);return r&&rk(a,r)>0||i&&i.every((function(e){return rk(a,e)>0}))||!1}function t_(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,a=lk(e,1);return r&&ck(r,a)>0||i&&i.every((function(e){return ck(e,a)>0}))||!1}function n_(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,a=sk(e,1);return r&&ck(a,r)>0||i&&i.every((function(e){return ck(a,e)>0}))||!1}function r_(e){var t=e.minDate,n=e.includeDates;return n&&t?uk(n.filter((function(e){return cb(e,t)>=0}))):n?uk(n):t}function i_(e){var t=e.maxDate,n=e.includeDates;return n&&t?dk(n.filter((function(e){return cb(e,t)<=0}))):n?dk(n):t}function a_(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var o=e[i];if(ib(o)){var s=wE(o,"MM.dd.yyyy");(f=r.get(s)||[]).includes(t)||(f.push(t),r.set(s,f))}else if("object"===typeof o){var l=null!==(n=Object.keys(o)[0])&&void 0!==n?n:"",c=o[l];if("string"===typeof l&&Array.isArray(c))for(var u=0,d=c.length;u<d;u++){var h=c[u];if(h){var f;s=wE(h,"MM.dd.yyyy");(f=r.get(s)||[]).includes(l)||(f.push(l),r.set(s,f))}}}}return r}function o_(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach((function(e){var r=e.date,i=e.holidayName;if(ib(r)){var a=wE(r,"MM.dd.yyyy"),o=n.get(a)||{className:"",holidayNames:[]};if(!("className"in o)||o.className!==t||(s=o.holidayNames,l=[i],s.length!==l.length||!s.every((function(e,t){return e===l[t]})))){var s,l;o.className=t;var c=o.holidayNames;o.holidayNames=c?dE(dE([],c,!0),[i],!1):[i],n.set(a,o)}}})),n}function s_(e,t,n,r,i){for(var a=i.length,o=[],s=0;s<a;s++){var l=e,c=i[s];c&&(l=mk(l=pk(l=fk(l,Jb(c)),Zb(c)),ek(c)));var u=pk(e,(n+1)*r);gk(l,t)&&ob(l,u)&&void 0!=c&&o.push(c)}return o}function l_(e){return e<10?"0".concat(e):"".concat(e)}function c_(e,t){void 0===t&&(t=12);var n=Math.ceil(Kb(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function u_(e){var t=e.getSeconds(),n=e.getMilliseconds();return vy(e.getTime()-1e3*t-n)}function d_(e){if(!ib(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function h_(e,t){if(!ib(e)||!ib(t))throw new Error("Invalid date received");return ob(d_(e),d_(t))}function f_(e){return e.key===hE.Space}var p_,m_=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=r.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var i=n.props.date,a=i instanceof Date&&!isNaN(+i)?i:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var o=e.split(":"),s=o[0],l=o[1];a.setHours(Number(s)),a.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,a)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,i=t.date,a=t.timeString,o=t.customTimeInput;return o?(0,r.cloneElement)(o,{date:i,value:e,onChange:n.onTimeChange}):r.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||a)}})},n.state={time:n.props.timeString},n}return cE(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return r.createElement("div",{className:"react-datepicker__input-time-container"},r.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),r.createElement("div",{className:"react-datepicker-time__input-container"},r.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(r.Component),g_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,r.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===hE.Space&&(e.preventDefault(),e.key=hE.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return RE(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),VE(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return zE(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return RE(t.props.day,EE(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&RE(e,EE(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var i=wE(n,"MM.dd.yyyy");return r.get(i)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,i=n.holidays;if(!i)return[void 0];var a=wE(r,"MM.dd.yyyy");return i.has(a)?[null===(e=i.get(a))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&OE(n,r,i)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,u=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(i||a||o)||!u||!s&&t.isDisabled())&&(i&&c&&(ob(u,c)||ME(u,c))?OE(r,u,c):(a&&l&&(gk(u,l)||ME(u,l))||!(!o||!l||c||!gk(u,l)&&!ME(u,l)))&&OE(r,l,u))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,i=n.startDate,a=n.selectsStart,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return RE(r,a?o:i)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,i=n.endDate,a=n.selectsEnd,o=n.selectsRange,s=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return RE(r,a||o?s:i)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&RE(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&RE(i,n)},t.isWeekend=function(){var e=vk(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===Qb(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(Qb(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(gE())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return dy("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+wE(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,i=void 0===r?"Choose":r,a=e.ariaLabelPrefixWhenDisabled,o=void 0===a?"Not available":a,s=t.isDisabled()||t.isExcluded()?o:i;return"".concat(s," ").concat(wE(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,i=void 0===r?new Map:r,a=e.excludeDates,o=wE(n,"MM.dd.yyyy"),s=[];return i.has(o)&&s.push.apply(s,i.get(o).holidayNames),t.isExcluded()&&s.push(null===a||void 0===a?void 0:a.filter((function(e){return e instanceof Date?RE(e,n):RE(null===e||void 0===e?void 0:e.date,n)})).map((function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message}))),s.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&RE(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(yk(t.props.day),t.props.day):yk(t.props.day)},t.render=function(){return r.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&r.createElement("span",{className:"overlay"},t.getTitle()))},t}return cE(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(r.Component),v_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,r.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===hE.Space&&(e.preventDefault(),e.key=hE.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!RE(t.props.date,t.props.selected)&&RE(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||RE(t.props.date,t.props.selected)&&RE(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&RE(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return cE(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,i=e.isWeekDisabled,a=e.ariaLabelPrefix,o=void 0===a?t.defaultProps.ariaLabelPrefix:a,s=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!i,"react-datepicker__week-number--selected":!!s&&RE(this.props.date,this.props.selected)};return r.createElement("div",{ref:this.weekNumberEl,className:dy(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(r.Component),y_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return VE(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,i){for(var a,o,s,l=new Date(e),c=0;c<7;c++){var u=new Date(e);if(u.setDate(u.getDate()+c),!n.isDisabled(u)){l=u;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,i),n.props.showWeekPicker&&n.handleDayClick(l,i),(null!==(a=n.props.shouldCloseOnSelect)&&void 0!==a?a:t.defaultProps.shouldCloseOnSelect)&&(null===(s=(o=n.props).setOpen)||void 0===s||s.call(o,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return zw(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=qw(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=qw(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),i=[],a=n.formatWeekNumber(e);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,a):void 0;i.push(r.createElement(v_,uE({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map((function(i){var a=qw(e,i);return r.createElement(g_,uE({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,onClick:n.handleDayClick.bind(n,a),onMouseEnter:n.handleDayMouseEnter.bind(n,a)}))})))},n.startOfWeek=function(){return EE(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!RE(n.startOfWeek(),n.props.selected)&&RE(n.startOfWeek(),n.props.preSelection)},n}return cE(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":RE(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return r.createElement("div",{className:dy(e)},this.renderDays())},t}(r.Component),w_="two_columns",b_="three_columns",k_="four_columns",S_=((p_={})[w_]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},p_[b_]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},p_[k_]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},p_);function E_(e,t){return e?k_:t?w_:b_}var __=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=dE([],Array(12),!0).map((function(){return(0,r.createRef)()})),t.QUARTER_REFS=dE([],Array(4),!0).map((function(){return(0,r.createRef)()})),t.isDisabled=function(e){return VE(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return zE(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,i;null===(i=(r=t.props).onDayClick)||void 0===i||i.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&PE(Wb(r,e),i)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&AE(Yb(r,e),i)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&PE(Wb(r,e),a)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&AE(Yb(r,e),a)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,i=r.day,a=r.selectsStart,o=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(a||o||s)||!u)&&(a&&c?BE(u,c,e,i):(o&&l||!(!s||!l||c))&&BE(l,u,e,i))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,i=r.day,a=r.startDate,o=r.selectsStart,s=Wb(i,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return PE(s,o?l:a)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,i=r.day,a=r.endDate,o=r.selectsEnd,s=r.selectsRange,l=Wb(i,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return PE(l,o||s?c:a)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,i=r.day,a=r.selectsStart,o=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(a||o||s)||!u)&&(a&&c?KE(u,c,e,i):(o&&l||!(!s||!l||c))&&KE(l,u,e,i))},t.isWeekInMonth=function(e){var n=t.props.day,r=qw(e,6);return PE(e,n)||PE(r,n)},t.isCurrentMonth=function(e,t){return Kb(e)===Kb(gE())&&t===Qb(gE())},t.isCurrentQuarter=function(e,t){return Kb(e)===Kb(gE())&&t===Xb(gE())},t.isSelectedMonth=function(e,t,n){return Qb(n)===t&&Kb(e)===Kb(n)},t.isSelectMonthInList=function(e,n,r){return r.some((function(r){return t.isSelectedMonth(e,n,r)}))},t.isSelectedQuarter=function(e,t,n){return Xb(e)===t&&Kb(e)===Kb(n)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,i=0,a=!1,o=EE(_E(t.props.day),t.props.locale,t.props.calendarStartDay),s=t.props.selected?function(e){return t.props.showWeekPicker?EE(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,l=t.props.preSelection?function(e){return t.props.showWeekPicker?EE(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(r.createElement(y_,uE({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:o,month:Qb(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:l,showWeekNumber:t.props.showWeekNumbers}))),!a;){i++,o=wk(o,1);var c=n&&i>=6,u=!n&&!t.isWeekInMonth(o);if(c||u){if(!t.props.peekNextMonth)break;a=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),i=r.isDisabled,a=r.labelDate;i||t.handleDayClick(_E(a),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,i=n.labelDate;r||t.handleDayMouseEnter(_E(i))},t.handleMonthNavigation=function(e,n){var r,i,a,o;null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,n),null===(o=null===(a=t.MONTH_REFS[e])||void 0===a?void 0:a.current)||void 0===o||o.focus()},t.handleKeyboardNavigation=function(e,n,r){var i,a=t.props,o=a.selected,s=a.preSelection,l=a.setPreSelection,c=a.minDate,u=a.maxDate,d=a.showFourColumnMonthYearPicker,h=a.showTwoColumnMonthYearPicker;if(s){var f=E_(d,h),p=t.getVerticalOffset(f),m=null===(i=S_[f])||void 0===i?void 0:i.grid,g=function(e,t,n){var r,i,a=t,o=n;switch(e){case hE.ArrowRight:a=tk(t,1),o=11===n?0:n+1;break;case hE.ArrowLeft:a=nk(t,1),o=0===n?11:n-1;break;case hE.ArrowUp:a=nk(t,p),o=(null===(r=null===m||void 0===m?void 0:m[0])||void 0===r?void 0:r.includes(n))?n+12-p:n-p;break;case hE.ArrowDown:a=tk(t,p),o=(null===(i=null===m||void 0===m?void 0:m[m.length-1])||void 0===i?void 0:i.includes(n))?n-12+p:n+p}return{newCalculatedDate:a,newCalculatedMonth:o}};if(n!==hE.Enter){var v=function(e,n,r){for(var i=e,a=!1,o=0,s=g(i,n,r),l=s.newCalculatedDate,d=s.newCalculatedMonth;!a;){if(o>=40){l=n,d=r;break}var h;if(c&&l<c)i=hE.ArrowRight,l=(h=g(i,l,d)).newCalculatedDate,d=h.newCalculatedMonth;if(u&&l>u)i=hE.ArrowLeft,l=(h=g(i,l,d)).newCalculatedDate,d=h.newCalculatedMonth;if($E(l,t.props))l=(h=g(i,l,d)).newCalculatedDate,d=h.newCalculatedMonth;else a=!0;o++}return{newCalculatedDate:l,newCalculatedMonth:d}}(n,s,r),y=v.newCalculatedDate,w=v.newCalculatedMonth;switch(n){case hE.ArrowRight:case hE.ArrowLeft:case hE.ArrowUp:case hE.ArrowDown:t.handleMonthNavigation(w,y)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===l||void 0===l||l(o))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=S_[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,i=r.disabledKeyboardNavigation,a=r.handleOnMonthKeyDown,o=e.key;o!==hE.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,o,n),a&&a(e)},t.onQuarterClick=function(e,n){var r=Yb(t.props.day,n);qE(r,t.props)||t.handleDayClick(CE(r),e)},t.onQuarterMouseEnter=function(e){var n=Yb(t.props.day,e);qE(n,t.props)||t.handleDayMouseEnter(CE(n))},t.handleQuarterNavigation=function(e,n){var r,i,a,o;t.isDisabled(n)||t.isExcluded(n)||(null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,n),null===(o=null===(a=t.QUARTER_REFS[e-1])||void 0===a?void 0:a.current)||void 0===o||o.focus())},t.onQuarterKeyDown=function(e,n){var r,i,a=e.key;if(!t.props.disabledKeyboardNavigation)switch(a){case hE.Enter:t.onQuarterClick(e,n),null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,t.props.selected);break;case hE.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,ik(t.props.preSelection,1));break;case hE.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,ak(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,i=r.day,a=r.minDate,o=r.maxDate,s=r.excludeDates,l=r.includeDates,c=Wb(i,e);return{isDisabled:null!==(n=(a||o||s||l)&&HE(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.preSelection,s=n.monthClassName,l=s?s(Wb(r,e)):void 0,c=t.getSelection();return dy("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&o&&t.isSelectedMonth(r,e,o)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&a?BE(i,a,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Qb(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Xb(t.props.preSelection),r=qE(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,i=void 0===r?"Choose":r,a=n.disabledDayAriaLabelPrefix,o=void 0===a?"Not available":a,s=n.day,l=n.locale,c=Wb(s,e),u=t.isDisabled(c)||t.isExcluded(c)?o:i;return"".concat(u," ").concat(wE(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.selected,s=n.minDate,l=n.maxDate,c=n.excludeDates,u=n.includeDates,d=n.filterDate,h=n.preSelection,f=n.disabledKeyboardNavigation,p=(s||l||c||u||d)&&qE(Yb(r,e),t.props);return dy("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":p,"react-datepicker__quarter-text--selected":o?t.isSelectedQuarter(r,e,o):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&h&&t.isSelectedQuarter(r,e,h)&&!p,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&a?KE(i,a,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,a=n.locale,o=n.day,s=UE(e,a),l=jE(e,a);return i?i(e,s,l,o):r?l:s},t.getQuarterContent=function(e){var n,r=t.props,i=r.renderQuarterContent,a=function(e,t){return wE(Yb(gE(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===i||void 0===i?void 0:i(e,a))&&void 0!==n?n:a},t.renderMonths=function(){var e,n=t.props,i=n.showTwoColumnMonthYearPicker,a=n.showFourColumnMonthYearPicker,o=n.day,s=n.selected,l=null===(e=S_[E_(a,i)])||void 0===e?void 0:e.grid;return null===l||void 0===l?void 0:l.map((function(e,n){return r.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map((function(e,n){return r.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){f_(n)&&(n.preventDefault(),n.key=hE.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(o,e)?"date":void 0,"aria-selected":s?t.isSelectedMonth(o,e,s):void 0},t.getMonthContent(e))})))}))},t.renderQuarters=function(){var e=t.props,n=e.day,i=e.selected;return r.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,a){return r.createElement("div",{key:a,ref:t.QUARTER_REFS[a],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":i?t.isSelectedQuarter(n,e,i):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))})))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,i=e.selectsEnd;return dy("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return cE(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,i=e.day,a=e.ariaLabelPrefix,o=void 0===a?"Month ":a,s=o?o.trim()+" ":"";return r.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(wE(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(r.Component),T_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,n){return r.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?r.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return cE(t,e),t.prototype.render=function(){return r.createElement(pE,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(r.Component),C_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return r.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return r.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return r.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return r.createElement(T_,uE({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return cE(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return UE(e,t.props.locale)}:function(e){return jE(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return r.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(r.Component);function D_(e,t){for(var n=[],r=_E(e),i=_E(t);!gk(r,i);)n.push(gE(r)),r=tk(r,1);return n}var I_=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(e){var t=bk(e),i=NE(n.props.date,e)&&PE(n.props.date,e);return r.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":i?"true":void 0},i?r.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",wE(e,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:D_(n.props.minDate,n.props.maxDate)},n}return cE(t,e),t.prototype.render=function(){var e=dy({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return r.createElement(pE,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(r.Component),x_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=_E(t.props.minDate),n=_E(t.props.maxDate),i=[];!gk(e,n);){var a=bk(e);i.push(r.createElement("option",{key:a,value:a},wE(e,t.props.dateFormat,t.props.locale))),e=tk(e,1)}return i},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return r.createElement("select",{value:bk(_E(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=wE(t.props.date,t.props.dateFormat,t.props.locale);return r.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return r.createElement(I_,uE({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=gE(e);NE(t.props.date,n)&&PE(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return cE(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return r.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(r.Component),N_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,i;n.list&&(n.list.scrollTop=null!==(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==i?i:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&JE(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&XE(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,u_(t).getTime()===u_(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&JE(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&XE(e,n.props)},n.liClasses=function(e){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Jb(e)+60*Zb(e)+ek(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(e,t){var r,i;e.key===hE.Space&&(e.preventDefault(),e.key=hE.Enter),(e.key===hE.ArrowUp||e.key===hE.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===hE.ArrowDown||e.key===hE.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===hE.Enter&&n.handleClick(t),null===(i=(r=n.props).handleOnKeyDown)||void 0===i||i.call(r,e)},n.renderTimes=function(){for(var e,i=[],a="string"===typeof n.props.format?n.props.format:"p",o=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||gE(),l=SE(s),c=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(s),d=u/o,h=0;h<d;h++){var f=pk(l,h*o);if(i.push(f),c){var p=s_(l,f,h,o,c);i=i.concat(p)}}var m=i.reduce((function(e,t){return t.getTime()<=s.getTime()?t:e}),i[0]);return i.map((function(e){return r.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===m&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===m?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},wE(e,a,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?r.createElement(r.Fragment,null):r.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},r.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return cE(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,i=this.state.height;return r.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),r.createElement("div",{className:"react-datepicker__time"},r.createElement("div",{className:"react-datepicker__time-box"},r.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(r.Component),P_=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=dE([],Array(n.props.yearItemNumber),!0).map((function(){return(0,r.createRef)()})),n.isDisabled=function(e){return VE(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return zE(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,i,a,o,s=n.props,l=s.date,c=s.yearItemNumber;if(void 0!==l&&void 0!==c){var u=c_(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(i=(r=n.props).setPreSelection)||void 0===i||i.call(r,t),e-u<0?n.updateFocusOnPaginate(c-(u-e)):e-u>=c?n.updateFocusOnPaginate(Math.abs(c-(e-u))):null===(o=null===(a=n.YEAR_REFS[e-u])||void 0===a?void 0:a.current)||void 0===o||o.focus())}},n.isSameDay=function(e,t){return RE(e,t)},n.isCurrentYear=function(e){return e===Kb(gE())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&NE(kk(gE(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&NE(kk(gE(),e),n.props.endDate)},n.isInRange=function(e){return WE(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,a=t.selectsRange,o=t.startDate,s=t.endDate;return!(!(r||i||a)||!n.selectingDate())&&(r&&s?WE(e,n.selectingDate(),s):(i&&o||!(!a||!o||s))&&WE(e,o,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,i=r.startDate,a=r.selectsStart,o=kk(gE(),e);return NE(o,a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==i&&void 0!==i?i:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,i=r.endDate,a=r.selectsEnd,o=r.selectsRange,s=kk(gE(),e);return NE(s,a||o?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==i&&void 0!==i?i:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,i=t.maxDate,a=t.excludeDates,o=t.includeDates,s=t.filterDate,l=TE(kk(n.props.date,e)),c=(r||i||a||o||s)&&YE(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!RE(l,TE(n.props.selected))&&RE(l,TE(n.props.preSelection))&&!c}},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(TE(kk(r,t)),e)},n.onYearKeyDown=function(e,t){var r,i,a=e.key,o=n.props,s=o.date,l=o.yearItemNumber,c=o.handleOnKeyDown;if(a!==hE.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(a){case hE.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(i=(r=n.props).setPreSelection)||void 0===i||i.call(r,n.props.selected);break;case hE.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,sk(n.props.preSelection,1));break;case hE.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,lk(n.props.preSelection,1));break;case hE.ArrowUp:if(void 0===s||void 0===l||null==n.props.preSelection)break;var u=c_(s,l).startPeriod;if((f=t-(h=3))<u){var d=l%h;t>=u&&t<u+d?h=d:h+=d,f=t-h}n.handleYearNavigation(f,lk(n.props.preSelection,h));break;case hE.ArrowDown:if(void 0===s||void 0===l||null==n.props.preSelection)break;var h,f,p=c_(s,l).endPeriod;if((f=t+(h=3))>p){d=l%h;t<=p&&t>p-d?h=d:h+=d,f=t+h}n.handleYearNavigation(f,sk(n.props.preSelection,h))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,i=t.minDate,a=t.maxDate,o=t.selected,s=t.excludeDates,l=t.includeDates,c=t.filterDate,u=t.yearClassName;return dy("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===u||void 0===u?void 0:u(kk(r,e)):void 0,{"react-datepicker__year-text--selected":o?e===Kb(o):void 0,"react-datepicker__year-text--disabled":(i||a||s||l||c)&&YE(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Kb(n.props.preSelection),r=YE(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return cE(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,i=n.date,a=n.yearItemNumber,o=n.onYearMouseEnter,s=n.onYearMouseLeave;if(void 0===i)return null;for(var l=c_(i,a),c=l.startPeriod,u=l.endPeriod,d=function(n){t.push(r.createElement("div",{ref:h.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){f_(t)&&(t.preventDefault(),t.key=hE.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(h.getYearTabIndex(n)),className:h.getYearClassNames(n),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerEnter:h.props.usePointerEvent?function(e){return o(e,n)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerLeave:h.props.usePointerEvent?function(e){return s(e,n)}:void 0,key:n,"aria-current":h.isCurrentYear(n)?"date":void 0},h.getYearContent(n)))},h=this,f=c;f<=u;f++)d(f);return r.createElement("div",{className:"react-datepicker__year"},r.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(r.Component);function A_(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var o=e+t-a,s=!0;n&&(s=Kb(n)<=o),r&&s&&(s=Kb(r)>=o),s&&i.push(o)}return i}var R_=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map((function(t){return r.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?r.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),i=n.props.minDate?Kb(n.props.minDate):null,a=n.props.maxDate?Kb(n.props.maxDate):null;return a&&n.state.yearsList.find((function(e){return e===a}))||t.unshift(r.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),i&&n.state.yearsList.find((function(e){return e===i}))||t.push(r.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,o=i||(a?10:5);return n.state={yearsList:A_(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,r.createRef)(),n}return cE(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=dy({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return r.createElement(pE,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(r.Component),M_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Kb(t.props.minDate):1900,n=t.props.maxDate?Kb(t.props.maxDate):2100,i=[],a=e;a<=n;a++)i.push(r.createElement("option",{key:a,value:a},a));return i},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return r.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return r.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},r.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return r.createElement(R_,uE({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;null===(i=(r=t.props).onSelect)||void 0===i||i.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return cE(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return r.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(r.Component),O_=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],L_=function(e){function t(n){var i=e.call(this,n)||this;return i.monthContainer=void 0,i.handleClickOutside=function(e){i.props.onClickOutside(e)},i.setClickOutsideRef=function(){return i.containerRef.current},i.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return O_.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&(null===(n=(t=i.props).onDropdownFocus)||void 0===n||n.call(t,e))},i.getDateInView=function(){var e=i.props,t=e.preSelection,n=e.selected,r=e.openToDate,a=r_(i.props),o=i_(i.props),s=gE(),l=r||n||t;return l||(a&&ob(s,a)?a:o&&gk(s,o)?o:s)},i.increaseMonth=function(){i.setState((function(e){return{date:tk(e.date,1)}}),(function(){return i.handleMonthChange(i.state.date)}))},i.decreaseMonth=function(){i.setState((function(e){return{date:nk(e.date,1)}}),(function(){return i.handleMonthChange(i.state.date)}))},i.handleDayClick=function(e,t,n){i.props.onSelect(e,t,n),i.props.setPreSelection&&i.props.setPreSelection(e)},i.handleDayMouseEnter=function(e){i.setState({selectingDate:e}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(e)},i.handleMonthMouseLeave=function(){i.setState({selectingDate:void 0}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()},i.handleYearMouseEnter=function(e,t){i.setState({selectingDate:kk(gE(),t)}),i.props.onYearMouseEnter&&i.props.onYearMouseEnter(e,t)},i.handleYearMouseLeave=function(e,t){i.props.onYearMouseLeave&&i.props.onYearMouseLeave(e,t)},i.handleYearChange=function(e){var t,n,r,a;null===(n=(t=i.props).onYearChange)||void 0===n||n.call(t,e),i.setState({isRenderAriaLiveMessage:!0}),i.props.adjustDateOnChange&&(i.props.onSelect(e),null===(a=(r=i.props).setOpen)||void 0===a||a.call(r,!0)),i.props.setPreSelection&&i.props.setPreSelection(e)},i.getEnabledPreSelectionDateForMonth=function(e){if(!VE(e,i.props))return e;for(var t=_E(e),n=Sk(xE(e),t),r=null,a=0;a<=n;a++){var o=qw(t,a);if(!VE(o,i.props)){r=o;break}}return r},i.handleMonthChange=function(e){var t,n,r,a=null!==(t=i.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;i.handleCustomMonthChange(a),i.props.adjustDateOnChange&&(i.props.onSelect(a),null===(r=(n=i.props).setOpen)||void 0===r||r.call(n,!0)),i.props.setPreSelection&&i.props.setPreSelection(a)},i.handleCustomMonthChange=function(e){var t,n;null===(n=(t=i.props).onMonthChange)||void 0===n||n.call(t,e),i.setState({isRenderAriaLiveMessage:!0})},i.handleMonthYearChange=function(e){i.handleYearChange(e),i.handleMonthChange(e)},i.changeYear=function(e){i.setState((function(t){return{date:kk(t.date,Number(e))}}),(function(){return i.handleYearChange(i.state.date)}))},i.changeMonth=function(e){i.setState((function(t){return{date:Wb(t.date,Number(e))}}),(function(){return i.handleMonthChange(i.state.date)}))},i.changeMonthYear=function(e){i.setState((function(t){return{date:kk(Wb(t.date,Qb(e)),Kb(e))}}),(function(){return i.handleMonthYearChange(i.state.date)}))},i.header=function(e){void 0===e&&(e=i.state.date);var t=EE(e,i.props.locale,i.props.calendarStartDay),n=[];return i.props.showWeekNumbers&&n.push(r.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=qw(t,e),a=i.formatWeekday(n,i.props.locale),o=i.props.weekDayClassName?i.props.weekDayClassName(n):void 0;return r.createElement("div",{key:e,"aria-label":wE(n,"EEEE",i.props.locale),className:dy("react-datepicker__day-name",o)},a)})))},i.formatWeekday=function(e,t){return i.props.formatWeekDay?function(e,t,n){return t(wE(e,"EEEE",n))}(e,i.props.formatWeekDay,t):i.props.useWeekdaysShort?function(e,t){return wE(e,"EEE",t)}(e,t):function(e,t){return wE(e,"EEEEEE",t)}(e,t)},i.decreaseYear=function(){i.setState((function(e){var n;return{date:lk(e.date,i.props.showYearPicker?null!==(n=i.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return i.handleYearChange(i.state.date)}))},i.clearSelectingDate=function(){i.setState({selectingDate:void 0})},i.renderPreviousButton=function(){var e,n,a;if(!i.props.renderCustomHeader){var o,s=null!==(e=i.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,l=i.props.showPreviousMonths?s-1:0,c=null!==(n=i.props.monthSelectedIn)&&void 0!==n?n:l,u=nk(i.state.date,c);switch(!0){case i.props.showMonthYearPicker:o=t_(i.state.date,i.props);break;case i.props.showYearPicker:o=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.yearItemNumber,a=void 0===i?12:i,o=c_(TE(lk(e,a)),a).endPeriod,s=r&&Kb(r);return s&&s>o||!1}(i.state.date,i.props);break;case i.props.showQuarterYearPicker:o=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,a=ak(ub(e),1);return r&&ok(r,a)>0||i&&i.every((function(e){return ok(e,a)>0}))||!1}(i.state.date,i.props);break;default:o=ZE(u,i.props)}if(((null!==(a=i.props.forceShowMonthNavigation)&&void 0!==a?a:t.defaultProps.forceShowMonthNavigation)||i.props.showDisabledMonthNavigation||!o)&&!i.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(h=i.decreaseYear),o&&i.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),h=void 0);var f=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,p=i.props,m=p.previousMonthButtonLabel,g=void 0===m?t.defaultProps.previousMonthButtonLabel:m,v=p.previousYearButtonLabel,y=void 0===v?t.defaultProps.previousYearButtonLabel:v,w=i.props,b=w.previousMonthAriaLabel,k=void 0===b?"string"===typeof g?g:"Previous Month":b,S=w.previousYearAriaLabel,E=void 0===S?"string"===typeof y?y:"Previous Year":S;return r.createElement("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:i.props.handleOnKeyDown,"aria-label":f?E:k},r.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},f?y:g))}}},i.increaseYear=function(){i.setState((function(e){var n;return{date:sk(e.date,i.props.showYearPicker?null!==(n=i.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return i.handleYearChange(i.state.date)}))},i.renderNextButton=function(){var e;if(!i.props.renderCustomHeader){var n;switch(!0){case i.props.showMonthYearPicker:n=n_(i.state.date,i.props);break;case i.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.yearItemNumber,a=void 0===i?12:i,o=c_(sk(e,a),a).startPeriod,s=r&&Kb(r);return s&&s<o||!1}(i.state.date,i.props);break;case i.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,a=ik(Gb(e),1);return r&&ok(a,r)>0||i&&i.every((function(e){return ok(a,e)>0}))||!1}(i.state.date,i.props);break;default:n=e_(i.state.date,i.props)}if(((null!==(e=i.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||i.props.showDisabledMonthNavigation||!n)&&!i.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--next"];i.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var o=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(o=i.increaseYear),n&&i.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),o=void 0);var s=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,l=i.props,c=l.nextMonthButtonLabel,u=void 0===c?t.defaultProps.nextMonthButtonLabel:c,d=l.nextYearButtonLabel,h=void 0===d?t.defaultProps.nextYearButtonLabel:d,f=i.props,p=f.nextMonthAriaLabel,m=void 0===p?"string"===typeof u?u:"Next Month":p,g=f.nextYearAriaLabel,v=void 0===g?"string"===typeof h?h:"Next Year":g;return r.createElement("button",{type:"button",className:a.join(" "),onClick:o,onKeyDown:i.props.handleOnKeyDown,"aria-label":s?v:m},r.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},s?h:u))}}},i.renderCurrentMonth=function(e){void 0===e&&(e=i.state.date);var t=["react-datepicker__current-month"];return i.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),r.createElement("h2",{className:t.join(" ")},wE(e,i.props.dateFormat,i.props.locale))},i.renderYearDropdown=function(e){if(void 0===e&&(e=!1),i.props.showYearDropdown&&!e)return r.createElement(M_,uE({},t.defaultProps,i.props,{date:i.state.date,onChange:i.changeYear,year:Kb(i.state.date)}))},i.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),i.props.showMonthDropdown&&!e)return r.createElement(C_,uE({},t.defaultProps,i.props,{month:Qb(i.state.date),onChange:i.changeMonth}))},i.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),i.props.showMonthYearDropdown&&!e)return r.createElement(x_,uE({},t.defaultProps,i.props,{date:i.state.date,onChange:i.changeMonthYear}))},i.handleTodayButtonClick=function(e){i.props.onSelect(DE(),e),i.props.setPreSelection&&i.props.setPreSelection(DE())},i.renderTodayButton=function(){if(i.props.todayButton&&!i.props.showTimeSelectOnly)return r.createElement("div",{className:"react-datepicker__today-button",onClick:i.handleTodayButtonClick},i.props.todayButton)},i.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return r.createElement("div",{className:"react-datepicker__header ".concat(i.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},i.renderCurrentMonth(t),r.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(0!==n),i.renderMonthYearDropdown(0!==n),i.renderYearDropdown(0!==n)),r.createElement("div",{className:"react-datepicker__day-names"},i.header(t)))},i.renderCustomHeader=function(e){var t,n,a=e.monthDate,o=e.i;if(i.props.showTimeSelect&&!i.state.monthContainer||i.props.showTimeSelectOnly)return null;var s=ZE(i.state.date,i.props),l=e_(i.state.date,i.props),c=t_(i.state.date,i.props),u=n_(i.state.date,i.props),d=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return r.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},null===(n=(t=i.props).renderCustomHeader)||void 0===n?void 0:n.call(t,uE(uE({},i.state),{customHeaderCount:o,monthDate:a,changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:s,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:u})),d&&r.createElement("div",{className:"react-datepicker__day-names"},i.header(a)))},i.renderYearHeader=function(e){var n=e.monthDate,a=i.props,o=a.showYearPicker,s=a.yearItemNumber,l=c_(n,void 0===s?t.defaultProps.yearItemNumber:s),c=l.startPeriod,u=l.endPeriod;return r.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(c," - ").concat(u):Kb(n))},i.renderHeader=function(e){var t=e.monthDate,n=e.i,r={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==i.props.renderCustomHeader:return i.renderCustomHeader(r);case i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker:return i.renderYearHeader(r);default:return i.renderDefaultHeader(r)}},i.renderMonths=function(){var e,n;if(!i.props.showTimeSelectOnly&&!i.props.showYearPicker){for(var a=[],o=null!==(e=i.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,s=i.props.showPreviousMonths?o-1:0,l=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?sk(i.state.date,s):nk(i.state.date,s),c=null!==(n=i.props.monthSelectedIn)&&void 0!==n?n:s,u=0;u<o;++u){var d=u-c+s,h=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?sk(l,d):tk(l,d),f="month-".concat(u),p=u<o-1,m=u>0;a.push(r.createElement("div",{key:f,ref:function(e){i.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},i.renderHeader({monthDate:h,i:u}),r.createElement(__,uE({},t.defaultProps,i.props,{containerRef:i.containerRef,ariaLabelPrefix:i.props.monthAriaLabelPrefix,day:h,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnDayKeyDown,handleOnMonthKeyDown:i.props.handleOnKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,orderInDisplay:u,selectingDate:i.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:m}))))}return a}},i.renderYears=function(){if(!i.props.showTimeSelectOnly)return i.props.showYearPicker?r.createElement("div",{className:"react-datepicker__year--container"},i.renderHeader({monthDate:i.state.date}),r.createElement(P_,uE({},t.defaultProps,i.props,{selectingDate:i.state.selectingDate,date:i.state.date,onDayClick:i.handleDayClick,clearSelectingDate:i.clearSelectingDate,onYearMouseEnter:i.handleYearMouseEnter,onYearMouseLeave:i.handleYearMouseLeave}))):void 0},i.renderTimeSection=function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return r.createElement(N_,uE({},t.defaultProps,i.props,{onChange:i.props.onTimeChange,format:i.props.timeFormat,intervals:i.props.timeIntervals,monthRef:i.state.monthContainer}))},i.renderInputTimeSection=function(){var e=i.props.selected?new Date(i.props.selected):void 0,n=e&&yE(e)&&Boolean(i.props.selected)?"".concat(l_(e.getHours()),":").concat(l_(e.getMinutes())):"";if(i.props.showTimeInput)return r.createElement(m_,uE({},t.defaultProps,i.props,{date:e,timeString:n,onChange:i.props.onTimeChange}))},i.renderAriaLiveRegion=function(){var e,n,a=c_(i.state.date,null!==(e=i.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),o=a.startPeriod,s=a.endPeriod;return n=i.props.showYearPicker?"".concat(o," - ").concat(s):i.props.showMonthYearPicker||i.props.showQuarterYearPicker?Kb(i.state.date):"".concat(jE(Qb(i.state.date),i.props.locale)," ").concat(Kb(i.state.date)),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i.state.isRenderAriaLiveMessage&&n)},i.renderChildren=function(){if(i.props.children)return r.createElement("div",{className:"react-datepicker__children-container"},i.props.children)},i.containerRef=(0,r.createRef)(),i.state={date:i.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},i}return cE(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||RE(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!RE(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!PE(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}},t.prototype.render=function(){var e=this.props.container||fE;return r.createElement(pE,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},r.createElement("div",{style:{display:"contents"},ref:this.containerRef},r.createElement(e,{className:dy("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(r.Component),F_=function(e){var t=e.icon,n=e.className,i=void 0===n?"":n,a=e.onClick,o="react-datepicker__calendar-icon";if("string"===typeof t)return r.createElement("i",{className:"".concat(o," ").concat(t," ").concat(i),"aria-hidden":"true",onClick:a});if(r.isValidElement(t)){var s=t;return r.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(o," ").concat(i),onClick:function(e){"function"===typeof s.props.onClick&&s.props.onClick(e),"function"===typeof a&&a(e)}})}return r.createElement("svg",{className:"".concat(o," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},r.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},j_=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return cE(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Wk.createPortal(this.props.children,this.el)},t}(r.Component),U_=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},V_=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(U_)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,r.createRef)(),n}return cE(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?r.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},r.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,r.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(r.Component);var z_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cE(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,i=e.wrapperClassName,a=e.hidePopper,o=void 0===a?t.defaultProps.hidePopper:a,s=e.popperComponent,l=e.targetComponent,c=e.enableTabLoop,u=e.popperOnKeyDown,d=e.portalId,h=e.portalHost,f=e.popperProps,p=e.showArrow,m=void 0;if(!o){var g=dy("react-datepicker-popper",n);m=r.createElement(V_,{enableTabLoop:c},r.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:g,"data-placement":f.placement,onKeyDown:u},s,p&&r.createElement(tE,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=(0,r.createElement)(this.props.popperContainer,{},m)),d&&!o&&(m=r.createElement(j_,{portalId:d,portalHost:h},m));var v=dy("react-datepicker-wrapper",i);return r.createElement(r.Fragment,null,r.createElement("div",{ref:f.refs.setReference,className:v},l),m)},t}(r.Component),H_=function(e){return function(t){var n,i,a,o="boolean"!==typeof t.hidePopper||t.hidePopper,s=(0,r.useRef)(null),l=sE(uE({open:!o,whileElementsMounted:IS,placement:t.popperPlacement,middleware:dE([(i={padding:15},{...NS(i),options:[i,a]}),US(10),VS({element:s})],null!==(n=t.popperModifiers)&&void 0!==n?n:[],!0)},t.popperProps)),c=uE(uE({},t),{hidePopper:o,popperProps:uE(uE({},l),{arrowRef:s})});return r.createElement(e,uE({},c))}}(z_),B_="react-datepicker-ignore-onclickoutside";var $_="Date input not valid.",q_=function(e){function t(n){var i=e.call(this,n)||this;return i.calendar=null,i.input=null,i.getPreSelection=function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:gE()},i.modifyHolidays=function(){var e;return null===(e=i.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return yE(n)?dE(dE([],e,!0),[uE(uE({},t),{date:n})],!1):e}),[])},i.calcInitialState=function(){var e,t=i.getPreSelection(),n=r_(i.props),r=i_(i.props),a=n&&ob(t,SE(n))?n:r&&gk(t,IE(r))?r:t;return{open:i.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=i.props.selectsRange?i.props.startDate:i.props.selected)&&void 0!==e?e:a,highlightDates:a_(i.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},i.resetHiddenStatus=function(){i.setState(uE(uE({},i.state),{wasHidden:!1}))},i.setHiddenStatus=function(){i.setState(uE(uE({},i.state),{wasHidden:!0}))},i.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&i.setHiddenStatus()},i.clearPreventFocusTimeout=function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)},i.setFocus=function(){var e,t;null===(t=null===(e=i.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},i.setBlur=function(){var e,t;null===(t=null===(e=i.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),i.cancelFocusInput()},i.deferBlur=function(){requestAnimationFrame((function(){i.setBlur()}))},i.setOpen=function(e,t){void 0===t&&(t=!1),i.setState({open:e,preSelection:e&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Y_},(function(){e||i.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&i.deferBlur(),i.setState({inputValue:null})}))}))},i.inputOk=function(){return ib(i.state.preSelection)},i.isCalendarOpen=function(){return void 0===i.props.open?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open},i.handleFocus=function(e){var t,n,r=i.state.wasHidden,a=!r||i.state.open;r&&i.resetHiddenStatus(),i.state.preventFocus||(null===(n=(t=i.props).onFocus)||void 0===n||n.call(t,e),!a||i.props.preventOpenOnFocus||i.props.readOnly||i.setOpen(!0)),i.setState({focused:!0})},i.sendFocusBackToInput=function(){i.preventFocusTimeout&&i.clearPreventFocusTimeout(),i.setState({preventFocus:!0},(function(){i.preventFocusTimeout=setTimeout((function(){i.setFocus(),i.setState({preventFocus:!1})}))}))},i.cancelFocusInput=function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=void 0},i.deferFocusInput=function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout((function(){return i.setFocus()}),1)},i.handleDropdownFocus=function(){i.cancelFocusInput()},i.handleBlur=function(e){var t,n;(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&(null===(n=(t=i.props).onBlur)||void 0===n||n.call(t,e)),i.state.open&&!1===i.props.open&&i.setOpen(!1),i.setState({focused:!1})},i.handleCalendarClickOutside=function(e){var t,n;i.props.inline||i.setOpen(!1),null===(n=(t=i.props).onClickOutside)||void 0===n||n.call(t,e),i.props.withPortal&&e.preventDefault()},i.handleChange=function(){for(var e,n,r,a,o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=s[0];if(!i.props.onChangeRaw||(i.props.onChangeRaw.apply(i,s),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){i.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:W_});var u=i.props,d=u.selectsRange,h=u.startDate,f=u.endDate,p=null!==(e=i.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,m=null!==(n=i.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(d){var v=g.split("-",2).map((function(e){return e.trim()})),y=v[0],w=v[1],b=vE(null!==y&&void 0!==y?y:"",p,i.props.locale,m),k=vE(null!==w&&void 0!==w?w:"",p,i.props.locale,m),S=(null===h||void 0===h?void 0:h.getTime())!==(null===b||void 0===b?void 0:b.getTime()),E=(null===f||void 0===f?void 0:f.getTime())!==(null===k||void 0===k?void 0:k.getTime());if(!S&&!E)return;if(b&&VE(b,i.props))return;if(k&&VE(k,i.props))return;null===(a=(r=i.props).onChange)||void 0===a||a.call(r,[b,k],c)}else{var _=vE(g,p,i.props.locale,m,null!==(o=i.props.selected)&&void 0!==o?o:void 0);!_&&g||i.setSelected(_,c,!0)}}},i.handleSelect=function(e,t,n){if(i.props.shouldCloseOnSelect&&!i.props.showTimeSelect&&i.sendFocusBackToInput(),i.props.onChangeRaw&&i.props.onChangeRaw(t),i.setSelected(e,t,!1,n),i.props.showDateSelect&&i.setState({isRenderAriaLiveMessage:!0}),!i.props.shouldCloseOnSelect||i.props.showTimeSelect)i.setPreSelection(e);else if(!i.props.inline){i.props.selectsRange||i.setOpen(!1);var r=i.props,a=r.startDate,o=r.endDate;!a||o||!i.props.swapRange&&h_(e,a)||i.setOpen(!1)}},i.setSelected=function(e,t,n,r){var a,o,s=e;if(i.props.showYearPicker){if(null!==s&&YE(Kb(s),i.props))return}else if(i.props.showMonthYearPicker){if(null!==s&&HE(s,i.props))return}else if(null!==s&&VE(s,i.props))return;var l=i.props,c=l.onChange,u=l.selectsRange,d=l.startDate,h=l.endDate,f=l.selectsMultiple,p=l.selectedDates,m=l.minTime,g=l.swapRange;if(!ME(i.props.selected,s)||i.props.allowSameDay||u||f)if(null!==s&&(!i.props.selected||n&&(i.props.showTimeSelect||i.props.showTimeSelectOnly||i.props.showTimeInput)||(s=kE(s,{hour:Jb(i.props.selected),minute:Zb(i.props.selected),second:ek(i.props.selected)})),n||!i.props.showTimeSelect&&!i.props.showTimeSelectOnly||m&&(s=kE(s,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),i.props.inline||i.setState({preSelection:s}),i.props.focusSelectedMonth||i.setState({monthSelectedIn:r})),u){var v=d&&!h,y=d&&h;!d&&!h?null===c||void 0===c||c([s,null],t):v&&(null===s?null===c||void 0===c||c([null,null],t):h_(s,d)?g?null===c||void 0===c||c([s,d],t):null===c||void 0===c||c([s,null],t):null===c||void 0===c||c([d,s],t)),y&&(null===c||void 0===c||c([s,null],t))}else if(f){if(null!==s)if(null===p||void 0===p?void 0:p.length)if(p.some((function(e){return RE(e,s)}))){var w=p.filter((function(e){return!RE(e,s)}));null===c||void 0===c||c(w,t)}else null===c||void 0===c||c(dE(dE([],p,!0),[s],!1),t);else null===c||void 0===c||c([s],t)}else null===c||void 0===c||c(s,t);n||(null===(o=(a=i.props).onSelect)||void 0===o||o.call(a,s,t),i.setState({inputValue:null}))},i.setPreSelection=function(e){var t=ib(i.props.minDate),n=ib(i.props.maxDate),r=!0;if(e){var a=SE(e);if(t&&n)r=OE(e,i.props.minDate,i.props.maxDate);else if(t){var o=SE(i.props.minDate);r=gk(e,o)||ME(a,o)}else if(n){var s=IE(i.props.maxDate);r=ob(e,s)||ME(a,s)}}r&&i.setState({preSelection:e})},i.toggleCalendar=function(){i.setOpen(!i.state.open)},i.handleTimeChange=function(e){var t,n;if(!i.props.selectsRange&&!i.props.selectsMultiple){var r=i.props.selected?i.props.selected:i.getPreSelection(),a=i.props.selected?e:kE(r,{hour:Jb(e),minute:Zb(e)});i.setState({preSelection:a}),null===(n=(t=i.props).onChange)||void 0===n||n.call(t,a),i.props.shouldCloseOnSelect&&!i.props.showTimeInput&&(i.sendFocusBackToInput(),i.setOpen(!1)),i.props.showTimeInput&&i.setOpen(!0),(i.props.showTimeSelectOnly||i.props.showTimeSelect)&&i.setState({isRenderAriaLiveMessage:!0}),i.setState({inputValue:null})}},i.onInputClick=function(){var e,t;i.props.disabled||i.props.readOnly||i.setOpen(!0),null===(t=(e=i.props).onInputClick)||void 0===t||t.call(e)},i.onInputKeyDown=function(e){var t,n,r,a,o,s;null===(n=(t=i.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(i.state.open||i.props.inline||i.props.preventOpenOnFocus){if(i.state.open){if(l===hE.ArrowDown||l===hE.ArrowUp){e.preventDefault();var c=i.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":i.props.showWeekPicker&&i.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':i.props.showFullMonthYearPicker||i.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(a=i.calendar)||void 0===a?void 0:a.containerRef.current)instanceof Element&&i.calendar.containerRef.current.querySelector(c);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var d=gE(i.state.preSelection);l===hE.Enter?(e.preventDefault(),e.target.blur(),i.inputOk()&&i.state.lastPreSelectChange===Y_?(i.handleSelect(d,e),!i.props.shouldCloseOnSelect&&i.setPreSelection(d)):i.setOpen(!1)):l===hE.Escape?(e.preventDefault(),e.target.blur(),i.sendFocusBackToInput(),i.setOpen(!1)):l===hE.Tab&&i.setOpen(!1),i.inputOk()||null===(s=(o=i.props).onInputError)||void 0===s||s.call(o,{code:1,msg:$_})}}else l!==hE.ArrowDown&&l!==hE.ArrowUp&&l!==hE.Enter||null===(r=i.onInputClick)||void 0===r||r.call(i)},i.onPortalKeyDown=function(e){e.key===hE.Escape&&(e.preventDefault(),i.setState({preventFocus:!0},(function(){i.setOpen(!1),setTimeout((function(){i.setFocus(),i.setState({preventFocus:!1})}))})))},i.onDayKeyDown=function(e){var t,n,r,a,o,s,l=i.props,c=l.minDate,u=l.maxDate,d=l.disabledKeyboardNavigation,h=l.showWeekPicker,f=l.shouldCloseOnSelect,p=l.locale,m=l.calendarStartDay,g=l.adjustDateOnChange,v=l.inline;if(null===(n=(t=i.props).onKeyDown)||void 0===n||n.call(t,e),!d){var y=e.key,w=e.shiftKey,b=gE(i.state.preSelection),k=function(e,t){var n=t;switch(e){case hE.ArrowRight:n=h?wk(t,1):qw(t,1);break;case hE.ArrowLeft:n=h?_k(t,1):Tk(t,1);break;case hE.ArrowUp:n=_k(t,1);break;case hE.ArrowDown:n=wk(t,1);break;case hE.PageUp:n=w?lk(t,1):nk(t,1);break;case hE.PageDown:n=w?sk(t,1):tk(t,1);break;case hE.Home:n=EE(t,p,m);break;case hE.End:n=function(e){return Fb(e)}(t)}return n};if(y===hE.Enter)return e.preventDefault(),i.handleSelect(b,e),void(!f&&i.setPreSelection(b));if(y===hE.Escape)return e.preventDefault(),i.setOpen(!1),void(i.inputOk()||null===(a=(r=i.props).onInputError)||void 0===a||a.call(r,{code:1,msg:$_}));var S=null;switch(y){case hE.ArrowLeft:case hE.ArrowRight:case hE.ArrowUp:case hE.ArrowDown:case hE.PageUp:case hE.PageDown:case hE.Home:case hE.End:S=function(e,t){for(var n=e,r=!1,a=0,o=k(e,t);!r;){if(a>=40){o=t;break}c&&o<c&&(n=hE.ArrowRight,o=VE(c,i.props)?k(n,o):c),u&&o>u&&(n=hE.ArrowLeft,o=VE(u,i.props)?k(n,o):u),VE(o,i.props)?(n!==hE.PageUp&&n!==hE.Home||(n=hE.ArrowRight),n!==hE.PageDown&&n!==hE.End||(n=hE.ArrowLeft),o=k(n,o)):r=!0,a++}return o}(y,b)}if(S){if(e.preventDefault(),i.setState({lastPreSelectChange:Y_}),g&&i.setSelected(S),i.setPreSelection(S),v){var E=Qb(b),_=Qb(S),T=Kb(b),C=Kb(S);E!==_||T!==C?i.setState({shouldFocusDayInline:!0}):i.setState({shouldFocusDayInline:!1})}}else null===(s=(o=i.props).onInputError)||void 0===s||s.call(o,{code:1,msg:$_})}},i.onPopperKeyDown=function(e){e.key===hE.Escape&&(e.preventDefault(),i.sendFocusBackToInput())},i.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),i.sendFocusBackToInput();var t=i.props,n=t.selectsRange,r=t.onChange;n?null===r||void 0===r||r([null,null],e):null===r||void 0===r||r(null,e),i.setState({inputValue:null})},i.clear=function(){i.onClearClick()},i.onScroll=function(e){"boolean"===typeof i.props.closeOnScroll&&i.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||i.setOpen(!1):"function"===typeof i.props.closeOnScroll&&i.props.closeOnScroll(e)&&i.setOpen(!1)},i.renderCalendar=function(){var e,n;return i.props.inline||i.isCalendarOpen()?r.createElement(L_,uE({showMonthYearDropdown:void 0,ref:function(e){i.calendar=e}},i.props,i.state,{setOpen:i.setOpen,dateFormat:null!==(e=i.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:i.handleSelect,onClickOutside:i.handleCalendarClickOutside,holidays:o_(i.modifyHolidays()),outsideClickIgnoreClass:B_,onDropdownFocus:i.handleDropdownFocus,onTimeChange:i.handleTimeChange,className:i.props.calendarClassName,container:i.props.calendarContainer,handleOnKeyDown:i.props.onKeyDown,handleOnDayKeyDown:i.onDayKeyDown,setPreSelection:i.setPreSelection,dropdownMode:null!==(n=i.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),i.props.children):null},i.renderAriaLiveRegion=function(){var e,n=i.props,a=n.dateFormat,o=void 0===a?t.defaultProps.dateFormat:a,s=n.locale,l=i.props.showTimeInput||i.props.showTimeSelect?"PPPPp":"PPPP";return e=i.props.selectsRange?"Selected start date: ".concat(bE(i.props.startDate,{dateFormat:l,locale:s}),". ").concat(i.props.endDate?"End date: "+bE(i.props.endDate,{dateFormat:l,locale:s}):""):i.props.showTimeSelectOnly?"Selected time: ".concat(bE(i.props.selected,{dateFormat:o,locale:s})):i.props.showYearPicker?"Selected year: ".concat(bE(i.props.selected,{dateFormat:"yyyy",locale:s})):i.props.showMonthYearPicker?"Selected month: ".concat(bE(i.props.selected,{dateFormat:"MMMM yyyy",locale:s})):i.props.showQuarterYearPicker?"Selected quarter: ".concat(bE(i.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):"Selected date: ".concat(bE(i.props.selected,{dateFormat:l,locale:s})),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},i.renderDateInput=function(){var e,n,a,o=dy(i.props.className,((e={})[B_]=i.state.open,e)),s=i.props.customInput||r.createElement("input",{type:"text"}),l=i.props.customInputRef||"ref",c=i.props,u=c.dateFormat,d=void 0===u?t.defaultProps.dateFormat:u,h=c.locale,f="string"===typeof i.props.value?i.props.value:"string"===typeof i.state.inputValue?i.state.inputValue:i.props.selectsRange?function(e,t,n){if(!e)return"";var r=bE(e,n),i=t?bE(t,n):"";return"".concat(r," - ").concat(i)}(i.props.startDate,i.props.endDate,{dateFormat:d,locale:h}):i.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?bE(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=bE(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}(null!==(a=i.props.selectedDates)&&void 0!==a?a:[],{dateFormat:d,locale:h}):bE(i.props.selected,{dateFormat:d,locale:h});return(0,r.cloneElement)(s,((n={})[l]=function(e){i.input=e},n.value=f,n.onBlur=i.handleBlur,n.onChange=i.handleChange,n.onClick=i.onInputClick,n.onFocus=i.handleFocus,n.onKeyDown=i.onInputKeyDown,n.id=i.props.id,n.name=i.props.name,n.form=i.props.form,n.autoFocus=i.props.autoFocus,n.placeholder=i.props.placeholderText,n.disabled=i.props.disabled,n.autoComplete=i.props.autoComplete,n.className=dy(s.props.className,o),n.title=i.props.title,n.readOnly=i.props.readOnly,n.required=i.props.required,n.tabIndex=i.props.tabIndex,n["aria-describedby"]=i.props.ariaDescribedBy,n["aria-invalid"]=i.props.ariaInvalid,n["aria-labelledby"]=i.props.ariaLabelledBy,n["aria-required"]=i.props.ariaRequired,n))},i.renderClearButton=function(){var e=i.props,t=e.isClearable,n=e.disabled,a=e.selected,o=e.startDate,s=e.endDate,l=e.clearButtonTitle,c=e.clearButtonClassName,u=void 0===c?"":c,d=e.ariaLabelClose,h=void 0===d?"Close":d,f=e.selectedDates;return t&&(null!=a||null!=o||null!=s||(null===f||void 0===f?void 0:f.length))?r.createElement("button",{type:"button",className:dy("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":h,onClick:i.onClearClick,title:l,tabIndex:-1}):null},i.state=i.calcInitialState(),i.preventFocusTimeout=void 0,i}return cE(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,i,a,o,s;e.inline&&(o=e.selected,s=this.props.selected,o&&s?Qb(o)!==Qb(s)||Kb(o)!==Kb(s):o!==s)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:a_(this.props.highlightDates)}),t.focused||ME(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(a=(i=this.props).onCalendarClose)||void 0===a||a.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,i=e.calendarIconClassname,a=e.calendarIconClassName,o=e.toggleCalendarOnIconClick,s=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),r.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&r.createElement(F_,uE({icon:n,className:dy(a,!a&&i,s&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?r.createElement(V_,{enableTabLoop:this.props.enableTabLoop},r.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=r.createElement(j_,uE({portalId:this.props.portalId},this.props),t)),r.createElement("div",null,this.renderInputContainer(),t)}return r.createElement(H_,uE({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(r.Component),W_="input",Y_="navigate";const K_=(0,r.createContext)(),Q_=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]);return(0,St.jsx)(K_.Provider,{value:{ideas:n,addIdea:e=>{i((t=>[...t,e]))}},children:t})};const G_=function(){const{id:e}=ne(),t=ay(e),n=(null===t||void 0===t||t.name,te()),{addIdea:i}=(0,r.useContext)(K_),[a,o]=(0,r.useState)({name:"",location:"",date:new Date,time:"",link:"",tags:"",description:"",image:null,imagePreview:null}),[s,l]=(0,r.useState)([]),c=e=>{const{name:t,value:n,files:r}=e.target;if("image"===t){const e=r[0];o({...a,image:e,imagePreview:URL.createObjectURL(e)})}else o({...a,[t]:n})};return(0,St.jsxs)("div",{className:"new-idea-container",children:[a.imagePreview&&(0,St.jsx)("img",{src:a.imagePreview,className:"cover-image",alt:"Idea preview"}),(0,St.jsxs)("div",{className:"new-idea-header",children:[(0,St.jsx)("button",{className:"back-button",onClick:()=>n(-1),children:"\u2190"}),(0,St.jsxs)("h1",{children:[e||"Trip Name","!"]})]}),(0,St.jsx)("h2",{children:"Add New Idea"}),(0,St.jsxs)("form",{className:"new-idea-form",onSubmit:t=>{t.preventDefault();const r={...a,tags:s};i(r),n(`/trip/${e}/ideas`)},children:[(0,St.jsx)("input",{name:"name",placeholder:"Name",onChange:c}),(0,St.jsxs)("div",{className:"location-wrapper",children:[(0,St.jsx)("input",{name:"location",placeholder:"Location",onChange:c,value:a.location}),(0,St.jsx)(ty,{className:"location-icon",onClick:()=>{const e=encodeURIComponent(a.location);window.open(`https://www.google.com/maps/search/?api=1&query=${e}`,"_blank")}})]}),(0,St.jsx)(q_,{selected:a.date,onChange:e=>o({...a,date:e}),className:"datepicker",dateFormat:"MMMM d, yyyy"}),(0,St.jsx)("input",{type:"time",name:"time",onChange:c,className:"timepicker"}),(0,St.jsx)("input",{name:"link",placeholder:"Link",onChange:c}),(0,St.jsx)("input",{name:"tags",placeholder:"Add tags and press Enter",value:a.tags,onChange:c,onKeyDown:e=>{"Enter"===e.key&&a.tags.trim()&&(l([...s,a.tags.trim()]),o({...a,tags:""}),e.preventDefault())}}),(0,St.jsx)("div",{className:"tags-container",children:s.map(((e,t)=>(0,St.jsx)("span",{className:"tag color-"+t%5,children:e},t)))}),(0,St.jsx)("textarea",{name:"description",placeholder:"Description",onChange:c}),(0,St.jsxs)("label",{className:"image-label",children:["Image",(0,St.jsx)("input",{name:"image",type:"file",accept:"image/*",onChange:c})]}),(0,St.jsx)("button",{type:"submit",className:"submit-button",children:"Save"})]})]})};function X_(){const e=J().pathname.startsWith("/trip/");return(0,St.jsxs)(St.Fragment,{children:[(0,St.jsxs)(we,{children:[(0,St.jsx)(ve,{path:"cs378-final/",element:(0,St.jsx)(Wv,{})}),(0,St.jsx)(ve,{path:"past-trips",element:(0,St.jsx)(Kv,{})}),(0,St.jsx)(ve,{path:"/trip/:id/home",element:(0,St.jsx)(Qv,{})}),(0,St.jsx)(ve,{path:"/trip/:id/calendar",element:(0,St.jsx)(sy,{})}),(0,St.jsx)(ve,{path:"/trip/:id/settings",element:(0,St.jsx)(ly,{})}),(0,St.jsx)(ve,{path:"/trip/:id/ideas",element:(0,St.jsx)(cy,{})}),(0,St.jsx)(ve,{path:"/trip/:id/profile",element:(0,St.jsx)(iy,{})}),(0,St.jsx)(ve,{path:"/profile",element:(0,St.jsx)(iy,{})}),(0,St.jsx)(ve,{path:"/trip/:id/ideas/new",element:(0,St.jsx)(G_,{})})]}),e&&(0,St.jsx)(oy,{})]})}const J_=function(){return(0,St.jsx)(Ze,{children:(0,St.jsx)(Q_,{children:(0,St.jsx)(X_,{})})})},Z_=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,St.jsx)(r.StrictMode,{children:(0,St.jsx)(J_,{})})),Z_()})();
//# sourceMappingURL=main.73edb48c.js.map